var e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,_,E,S,k,C,O,T,A,N,I,j,P,D,M,R,L,F,z,U,V,$,B,q,W,K,H,G,Y,Q,Z,X,J,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,ge,ye,ve,be,we,xe,_e,Ee,Se,ke=Object.defineProperty,Ce=e=>{throw TypeError(e)},Oe=(e,t,n)=>((e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Te=(e,t,n)=>t.has(e)||Ce("Cannot "+n),Ae=(e,t,n)=>(Te(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?Ce("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ie=(e,t,n,r)=>(Te(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(Te(e,t,"access private method"),n),Pe=(e,t,n,r)=>({set _(r){Ie(e,t,r,n)},get _(){return Ae(e,t,r)}});function De(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Re={exports:{}},Le={},Fe={exports:{}},ze={},Ue=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),$e=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),Ke=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Ye=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Ze=Symbol.iterator;var Xe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Je=Object.assign,et={};function tt(e,t,n){this.props=e,this.context=t,this.refs=et,this.updater=n||Xe}function nt(){}function rt(e,t,n){this.props=e,this.context=t,this.refs=et,this.updater=n||Xe}tt.prototype.isReactComponent={},tt.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},tt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},nt.prototype=tt.prototype;var it=rt.prototype=new nt;it.constructor=rt,Je(it,tt.prototype),it.isPureReactComponent=!0;var at=Array.isArray,ot=Object.prototype.hasOwnProperty,st={current:null},lt={key:!0,ref:!0,__self:!0,__source:!0};function ct(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)ot.call(t,r)&&!lt.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:Ue,type:e,key:a,ref:o,props:i,_owner:st.current}}function ut(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ue}var dt=/\/+/g;function ht(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function ft(e,t,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ue:case Ve:o=!0}}if(o)return i=i(o=e),e=""===r?"."+ht(o,0):r,at(i)?(n="",null!=e&&(n=e.replace(dt,"$&/")+"/"),ft(i,t,n,"",function(e){return e})):null!=i&&(ut(i)&&(i=function(e,t){return{$$typeof:Ue,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dt,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",at(e))for(var s=0;s<e.length;s++){var l=r+ht(a=e[s],s);o+=ft(a,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ze&&e[Ze]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(a=e.next()).done;)o+=ft(a=a.value,t,n,l=r+ht(a,s++),i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pt(e,t,n){if(null==e)return e;var r=[],i=0;return ft(e,r,"","",function(e){return t.call(n,e,i++)}),r}function mt(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var gt={current:null},yt={transition:null},vt={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:yt,ReactCurrentOwner:st};function bt(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:pt,forEach:function(e,t,n){pt(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pt(e,function(){t++}),t},toArray:function(e){return pt(e,function(e){return e})||[]},only:function(e){if(!ut(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},ze.Component=tt,ze.Fragment=$e,ze.Profiler=qe,ze.PureComponent=rt,ze.StrictMode=Be,ze.Suspense=Ge,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vt,ze.act=bt,ze.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Je({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=st.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)ot.call(t,l)&&!lt.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Ue,type:e.type,key:i,ref:a,props:r,_owner:o}},ze.createContext=function(e){return(e={$$typeof:Ke,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:We,_context:e},e.Consumer=e},ze.createElement=ct,ze.createFactory=function(e){var t=ct.bind(null,e);return t.type=e,t},ze.createRef=function(){return{current:null}},ze.forwardRef=function(e){return{$$typeof:He,render:e}},ze.isValidElement=ut,ze.lazy=function(e){return{$$typeof:Qe,_payload:{_status:-1,_result:e},_init:mt}},ze.memo=function(e,t){return{$$typeof:Ye,type:e,compare:void 0===t?null:t}},ze.startTransition=function(e){var t=yt.transition;yt.transition={};try{e()}finally{yt.transition=t}},ze.unstable_act=bt,ze.useCallback=function(e,t){return gt.current.useCallback(e,t)},ze.useContext=function(e){return gt.current.useContext(e)},ze.useDebugValue=function(){},ze.useDeferredValue=function(e){return gt.current.useDeferredValue(e)},ze.useEffect=function(e,t){return gt.current.useEffect(e,t)},ze.useId=function(){return gt.current.useId()},ze.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)},ze.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)},ze.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)},ze.useMemo=function(e,t){return gt.current.useMemo(e,t)},ze.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)},ze.useRef=function(e){return gt.current.useRef(e)},ze.useState=function(e){return gt.current.useState(e)},ze.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)},ze.useTransition=function(){return gt.current.useTransition()},ze.version="18.3.1",Fe.exports=ze;var wt=Fe.exports;const xt=Me(wt),_t=De({__proto__:null,default:xt},[wt]);var Et=wt,St=Symbol.for("react.element"),kt=Symbol.for("react.fragment"),Ct=Object.prototype.hasOwnProperty,Ot=Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tt={key:!0,ref:!0,__self:!0,__source:!0};function At(e,t,n){var r,i={},a=null,o=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)Ct.call(t,r)&&!Tt.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:St,type:e,key:a,ref:o,props:i,_owner:Ot.current}}Le.Fragment=kt,Le.jsx=At,Le.jsxs=At,Re.exports=Le;var Nt=Re.exports,It={},jt={exports:{}},Pt={},Dt={exports:{}},Mt={};!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,j(x);else{var t=n(c);null!==t&&P(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,y(k),k=-1),f=!0;var a=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!T());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&P(w,g.startTime-i),u=!1}return u}finally{d=null,h=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,S=null,k=-1,C=5,O=-1;function T(){return!(e.unstable_now()-O<C)}function A(){if(null!==S){var t=e.unstable_now();O=t;var n=!0;try{n=S(!0,t)}finally{n?_():(E=!1,S=null)}}else E=!1}if("function"==typeof v)_=function(){v(A)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,I=N.port2;N.port1.onmessage=A,_=function(){I.postMessage(null)}}else _=function(){g(A,0)};function j(e){S=e,E||(E=!0,_())}function P(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,j(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?o+a:o:a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(y(k),k=-1):m=!0,P(w,a-o))):(r.sortIndex=s,t(l,r),p||f||(p=!0,j(x))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(Mt),Dt.exports=Mt;var Rt=Dt.exports,Lt=wt,Ft=Rt;function zt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ut=new Set,Vt={};function $t(e,t){Bt(e,t),Bt(e+"Capture",t)}function Bt(e,t){for(Vt[e]=t,e=0;e<t.length;e++)Ut.add(t[e])}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Wt=Object.prototype.hasOwnProperty,Kt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ht={},Gt={};function Yt(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new Yt(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new Yt(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new Yt(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new Yt(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Qt[e]=new Yt(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Qt[e]=new Yt(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Qt[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zt=/[\-:]([a-z])/g;function Xt(e){return e[1].toUpperCase()}function Jt(e,t,n,r){var i=Qt.hasOwnProperty(t)?Qt[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Wt.call(Gt,e)||!Wt.call(Ht,e)&&(Kt.test(e)?Gt[e]=!0:(Ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zt,Xt);Qt[t]=new Yt(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zt,Xt);Qt[t]=new Yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zt,Xt);Qt[t]=new Yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)}),Qt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Qt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});var en=Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tn=Symbol.for("react.element"),nn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),an=Symbol.for("react.strict_mode"),on=Symbol.for("react.profiler"),sn=Symbol.for("react.provider"),ln=Symbol.for("react.context"),cn=Symbol.for("react.forward_ref"),un=Symbol.for("react.suspense"),dn=Symbol.for("react.suspense_list"),hn=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),pn=Symbol.for("react.offscreen"),mn=Symbol.iterator;function gn(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=mn&&e[mn]||e["@@iterator"])?e:null}var yn,vn=Object.assign;function bn(e){if(void 0===yn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yn=t&&t[1]||""}return"\n"+yn+e}var wn=!1;function xn(e,t){if(!e||wn)return"";wn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{wn=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bn(e):""}function _n(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return e=xn(e.type,!1);case 11:return e=xn(e.type.render,!1);case 1:return e=xn(e.type,!0);default:return""}}function En(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case rn:return"Fragment";case nn:return"Portal";case on:return"Profiler";case an:return"StrictMode";case un:return"Suspense";case dn:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ln:return(e.displayName||"Context")+".Consumer";case sn:return(e._context.displayName||"Context")+".Provider";case cn:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case hn:return null!==(t=e.displayName||null)?t:En(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return En(e(t))}catch(n){}}return null}function Sn(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return En(t);case 8:return t===an?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Cn(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function On(e){e._valueTracker||(e._valueTracker=function(e){var t=Cn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Tn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cn(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function An(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Nn(e,t){var n=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function In(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=kn(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function jn(e,t){null!=(t=t.checked)&&Jt(e,"checked",t,!1)}function Pn(e,t){jn(e,t);var n=kn(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Mn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mn(e,t.type,kn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Dn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Mn(e,t,n){"number"===t&&An(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rn=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Fn(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(zt(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zn(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(zt(92));if(Rn(n)){if(1<n.length)throw Error(zt(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function Un(e,t){var n=kn(t.value),r=kn(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Vn(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function $n(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?$n(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var qn,Wn,Kn=(Wn=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((qn=qn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Wn(e,t)})}:Wn);function Hn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yn=["Webkit","ms","Moz","O"];function Qn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function Zn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Qn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Gn).forEach(function(e){Yn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});var Xn=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(e,t){if(t){if(Xn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(zt(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(zt(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(zt(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(zt(62))}}function er(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function nr(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var rr=null,ir=null,ar=null;function or(e){if(e=es(e)){if("function"!=typeof rr)throw Error(zt(280));var t=e.stateNode;t&&(t=ns(t),rr(e.stateNode,e.type,t))}}function sr(e){ir?ar?ar.push(e):ar=[e]:ir=e}function lr(){if(ir){var e=ir,t=ar;if(ar=ir=null,or(e),t)for(e=0;e<t.length;e++)or(t[e])}}function cr(e,t){return e(t)}function ur(){}var dr=!1;function hr(e,t,n){if(dr)return e(t,n);dr=!0;try{return cr(e,t,n)}finally{dr=!1,(null!==ir||null!==ar)&&(ur(),lr())}}function fr(e,t){var n=e.stateNode;if(null===n)return null;var r=ns(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(zt(231,t,typeof n));return n}var pr=!1;if(qt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){pr=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch(Wn){pr=!1}function gr(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var yr=!1,vr=null,br=!1,wr=null,xr={onError:function(e){yr=!0,vr=e}};function _r(e,t,n,r,i,a,o,s,l){yr=!1,vr=null,gr.apply(xr,arguments)}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Sr(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function kr(e){if(Er(e)!==e)throw Error(zt(188))}function Cr(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Er(e)))throw Error(zt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return kr(i),e;if(a===r)return kr(i),t;a=a.sibling}throw Error(zt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(zt(189))}}if(n.alternate!==r)throw Error(zt(190))}if(3!==n.tag)throw Error(zt(188));return n.stateNode.current===n?e:t}(e))?Or(e):null}function Or(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Or(e);if(null!==t)return t;e=e.sibling}return null}var Tr=Ft.unstable_scheduleCallback,Ar=Ft.unstable_cancelCallback,Nr=Ft.unstable_shouldYield,Ir=Ft.unstable_requestPaint,jr=Ft.unstable_now,Pr=Ft.unstable_getCurrentPriorityLevel,Dr=Ft.unstable_ImmediatePriority,Mr=Ft.unstable_UserBlockingPriority,Rr=Ft.unstable_NormalPriority,Lr=Ft.unstable_LowPriority,Fr=Ft.unstable_IdlePriority,zr=null,Ur=null;var Vr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-($r(e)/Br|0)|0},$r=Math.log,Br=Math.LN2;var qr=64,Wr=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Kr(s):0!==(a&=o)&&(r=Kr(a))}else 0!==(o=n&~i)?r=Kr(o):0!==a&&(r=Kr(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vr(t)),r|=e[n],t&=~i;return r}function Gr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Yr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Qr(){var e=qr;return!(4194240&(qr<<=1))&&(qr=64),e}function Zr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Vr(t)]=n}function Jr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ei=0;function ti(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var ni,ri,ii,ai,oi,si=!1,li=[],ci=null,ui=null,di=null,hi=new Map,fi=new Map,pi=[],mi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gi(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function yi(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=es(t))&&ri(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vi(e){var t=Jo(e.target);if(null!==t){var n=Er(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Sr(n)))return e.blockedOn=t,void oi(e.priority,function(){ii(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bi(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ni(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=es(n))&&ri(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);tr=r,n.target.dispatchEvent(r),tr=null,t.shift()}return!0}function wi(e,t,n){bi(e)&&n.delete(t)}function xi(){si=!1,null!==ci&&bi(ci)&&(ci=null),null!==ui&&bi(ui)&&(ui=null),null!==di&&bi(di)&&(di=null),hi.forEach(wi),fi.forEach(wi)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,si||(si=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,xi)))}function Ei(e){function t(t){return _i(t,e)}if(0<li.length){_i(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ci&&_i(ci,e),null!==ui&&_i(ui,e),null!==di&&_i(di,e),hi.forEach(t),fi.forEach(t),n=0;n<pi.length;n++)(r=pi[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pi.length&&null===(n=pi[0]).blockedOn;)vi(n),null===n.blockedOn&&pi.shift()}var Si=en.ReactCurrentBatchConfig,ki=!0;function Ci(e,t,n,r){var i=ei,a=Si.transition;Si.transition=null;try{ei=1,Ti(e,t,n,r)}finally{ei=i,Si.transition=a}}function Oi(e,t,n,r){var i=ei,a=Si.transition;Si.transition=null;try{ei=4,Ti(e,t,n,r)}finally{ei=i,Si.transition=a}}function Ti(e,t,n,r){if(ki){var i=Ni(e,t,n,r);if(null===i)ko(e,t,r,Ai,n),gi(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return ci=yi(ci,e,t,n,r,i),!0;case"dragenter":return ui=yi(ui,e,t,n,r,i),!0;case"mouseover":return di=yi(di,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return hi.set(a,yi(hi.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,fi.set(a,yi(fi.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(gi(e,r),4&t&&-1<mi.indexOf(e)){for(;null!==i;){var a=es(i);if(null!==a&&ni(a),null===(a=Ni(e,t,n,r))&&ko(e,t,r,Ai,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else ko(e,t,r,null,n)}}var Ai=null;function Ni(e,t,n,r){if(Ai=null,null!==(e=Jo(e=nr(r))))if(null===(t=Er(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Sr(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ai=e,null}function Ii(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pr()){case Dr:return 1;case Mr:return 4;case Rr:case Lr:return 16;case Fr:return 536870912;default:return 16}default:return 16}}var ji=null,Pi=null,Di=null;function Mi(){if(Di)return Di;var e,t,n=Pi,r=n.length,i="value"in ji?ji.value:ji.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Di=i.slice(e,1<t?1-t:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Li(){return!0}function Fi(){return!1}function zi(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Li:Fi,this.isPropagationStopped=Fi,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Ui,Vi,$i,Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=zi(Bi),Wi=vn({},Bi,{view:0,detail:0}),Ki=zi(Wi),Hi=vn({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&"mousemove"===e.type?(Ui=e.screenX-$i.screenX,Vi=e.screenY-$i.screenY):Vi=Ui=0,$i=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:Vi}}),Gi=zi(Hi),Yi=zi(vn({},Hi,{dataTransfer:0})),Qi=zi(vn({},Wi,{relatedTarget:0})),Zi=zi(vn({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0})),Xi=vn({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ji=zi(Xi),ea=zi(vn({},Bi,{data:0})),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ra={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ia(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ra[e])&&!!t[e]}function aa(){return ia}var oa=vn({},Wi,{key:function(e){if(e.key){var t=ta[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?na[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(e){return"keypress"===e.type?Ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),sa=zi(oa),la=zi(vn({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ca=zi(vn({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa})),ua=zi(vn({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0})),da=vn({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=zi(da),fa=[9,13,27,32],pa=qt&&"CompositionEvent"in window,ma=null;qt&&"documentMode"in document&&(ma=document.documentMode);var ga=qt&&"TextEvent"in window&&!ma,ya=qt&&(!pa||ma&&8<ma&&11>=ma),va=String.fromCharCode(32),ba=!1;function wa(e,t){switch(e){case"keyup":return-1!==fa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var _a=!1;var Ea={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ea[e.type]:"textarea"===t}function ka(e,t,n,r){sr(r),0<(t=Oo(t,"onChange")).length&&(n=new qi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Oa=null;function Ta(e){bo(e,0)}function Aa(e){if(Tn(ts(e)))return e}function Na(e,t){if("change"===e)return t}var Ia=!1;if(qt){var ja;if(qt){var Pa="oninput"in document;if(!Pa){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Pa="function"==typeof Da.oninput}ja=Pa}else ja=!1;Ia=ja&&(!document.documentMode||9<document.documentMode)}function Ma(){Ca&&(Ca.detachEvent("onpropertychange",Ra),Oa=Ca=null)}function Ra(e){if("value"===e.propertyName&&Aa(Oa)){var t=[];ka(t,Oa,e,nr(e)),hr(Ta,t)}}function La(e,t,n){"focusin"===e?(Ma(),Oa=n,(Ca=t).attachEvent("onpropertychange",Ra)):"focusout"===e&&Ma()}function Fa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Aa(Oa)}function za(e,t){if("click"===e)return Aa(t)}function Ua(e,t){if("input"===e||"change"===e)return Aa(t)}var Va="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function $a(e,t){if(Va(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wt.call(t,i)||!Va(e[i],t[i]))return!1}return!0}function Ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qa(e,t){var n,r=Ba(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ba(r)}}function Wa(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Wa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ka(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=An((e=t.contentWindow).document)}return t}function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ga(e){var t=Ka(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wa(n.ownerDocument.documentElement,n)){if(null!==r&&Ha(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=qa(n,a);var o=qa(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ya=qt&&"documentMode"in document&&11>=document.documentMode,Qa=null,Za=null,Xa=null,Ja=!1;function eo(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ja||null==Qa||Qa!==An(r)||("selectionStart"in(r=Qa)&&Ha(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Xa&&$a(Xa,r)||(Xa=r,0<(r=Oo(Za,"onSelect")).length&&(t=new qi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qa)))}function to(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var no={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},ro={},io={};function ao(e){if(ro[e])return ro[e];if(!no[e])return e;var t,n=no[e];for(t in n)if(n.hasOwnProperty(t)&&t in io)return ro[e]=n[t];return e}qt&&(io=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);var oo=ao("animationend"),so=ao("animationiteration"),lo=ao("animationstart"),co=ao("transitionend"),uo=new Map,ho="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fo(e,t){uo.set(e,t),$t(t,[e])}for(var po=0;po<ho.length;po++){var mo=ho[po];fo(mo.toLowerCase(),"on"+(mo[0].toUpperCase()+mo.slice(1)))}fo(oo,"onAnimationEnd"),fo(so,"onAnimationIteration"),fo(lo,"onAnimationStart"),fo("dblclick","onDoubleClick"),fo("focusin","onFocus"),fo("focusout","onBlur"),fo(co,"onTransitionEnd"),Bt("onMouseEnter",["mouseout","mouseover"]),Bt("onMouseLeave",["mouseout","mouseover"]),Bt("onPointerEnter",["pointerout","pointerover"]),Bt("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yo=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function vo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,l){if(_r.apply(this,arguments),yr){if(!yr)throw Error(zt(198));var c=vr;yr=!1,vr=null,br||(br=!0,wr=c)}}(r,t,void 0,e),e.currentTarget=null}function bo(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;vo(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;vo(i,s,c),a=l}}}if(br)throw e=wr,br=!1,wr=null,e}function wo(e,t){var n=t[Qo];void 0===n&&(n=t[Qo]=new Set);var r=e+"__bubble";n.has(r)||(So(t,e,2,!1),n.add(r))}function xo(e,t,n){var r=0;t&&(r|=4),So(n,e,r,t)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[_o]){e[_o]=!0,Ut.forEach(function(t){"selectionchange"!==t&&(yo.has(t)||xo(t,!1,e),xo(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_o]||(t[_o]=!0,xo("selectionchange",!1,t))}}function So(e,t,n,r){switch(Ii(t)){case 1:var i=Ci;break;case 4:i=Oi;break;default:i=Ti}n=i.bind(null,t,n,e),i=void 0,!pr||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ko(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Jo(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}hr(function(){var r=a,i=nr(n),o=[];e:{var s=uo.get(e);if(void 0!==s){var l=qi,c=e;switch(e){case"keypress":if(0===Ri(n))break e;case"keydown":case"keyup":l=sa;break;case"focusin":c="focus",l=Qi;break;case"focusout":c="blur",l=Qi;break;case"beforeblur":case"afterblur":l=Qi;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Yi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ca;break;case oo:case so:case lo:l=Zi;break;case co:l=ua;break;case"scroll":l=Ki;break;case"wheel":l=ha;break;case"copy":case"cut":case"paste":l=Ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=la}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=fr(p,h))&&u.push(Co(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===tr||!(c=n.relatedTarget||n.fromElement)||!Jo(c)&&!c[Yo])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jo(c):null)&&(c!==(d=Er(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Gi,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=la,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ts(l),f=null==c?s:ts(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,Jo(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=To(f))p++;for(f=0,m=h;m;m=To(m))f++;for(;0<p-f;)u=To(u),p--;for(;0<f-p;)h=To(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=To(u),h=To(h)}u=null}else u=null;null!==l&&Ao(o,s,l,u,!1),null!==c&&null!==d&&Ao(o,d,c,u,!0)}if("select"===(l=(s=r?ts(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Na;else if(Sa(s))if(Ia)g=Ua;else{g=Fa;var y=La}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=za);switch(g&&(g=g(e,r))?ka(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&Mn(s,"number",s.value)),y=r?ts(r):window,e){case"focusin":(Sa(y)||"true"===y.contentEditable)&&(Qa=y,Za=r,Xa=null);break;case"focusout":Xa=Za=Qa=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,eo(o,n,i);break;case"selectionchange":if(Ya)break;case"keydown":case"keyup":eo(o,n,i)}var v;if(pa)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _a?wa(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(ya&&"ko"!==n.locale&&(_a||"onCompositionStart"!==b?"onCompositionEnd"===b&&_a&&(v=Mi()):(Pi="value"in(ji=i)?ji.value:ji.textContent,_a=!0)),0<(y=Oo(r,b)).length&&(b=new ea(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=xa(n))&&(b.data=v))),(v=ga?function(e,t){switch(e){case"compositionend":return xa(t);case"keypress":return 32!==t.which?null:(ba=!0,va);case"textInput":return(e=t.data)===va&&ba?null:e;default:return null}}(e,n):function(e,t){if(_a)return"compositionend"===e||!pa&&wa(e,t)?(e=Mi(),Di=Pi=ji=null,_a=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ya&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Oo(r,"onBeforeInput")).length&&(i=new ea("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}bo(o,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oo(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=fr(e,n))&&r.unshift(Co(e,a,i)),null!=(a=fr(e,t))&&r.push(Co(e,a,i))),e=e.return}return r}function To(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ao(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=fr(n,a))&&o.unshift(Co(n,l,s)):i||null!=(l=fr(n,a))&&o.push(Co(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var No=/\r\n?/g,Io=/\u0000|\uFFFD/g;function jo(e){return("string"==typeof e?e:""+e).replace(No,"\n").replace(Io,"")}function Po(e,t,n){if(t=jo(t),jo(e)!==t&&n)throw Error(zt(425))}function Do(){}var Mo=null,Ro=null;function Lo(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fo="function"==typeof setTimeout?setTimeout:void 0,zo="function"==typeof clearTimeout?clearTimeout:void 0,Uo="function"==typeof Promise?Promise:void 0,Vo="function"==typeof queueMicrotask?queueMicrotask:void 0!==Uo?function(e){return Uo.resolve(null).then(e).catch($o)}:Fo;function $o(e){setTimeout(function(){throw e})}function Bo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ei(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ei(t)}function qo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Wo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Ho="__reactFiber$"+Ko,Go="__reactProps$"+Ko,Yo="__reactContainer$"+Ko,Qo="__reactEvents$"+Ko,Zo="__reactListeners$"+Ko,Xo="__reactHandles$"+Ko;function Jo(e){var t=e[Ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yo]||n[Ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wo(e);null!==e;){if(n=e[Ho])return n;e=Wo(e)}return t}n=(e=n).parentNode}return null}function es(e){return!(e=e[Ho]||e[Yo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ts(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(zt(33))}function ns(e){return e[Go]||null}var rs=[],is=-1;function as(e){return{current:e}}function os(e){0>is||(e.current=rs[is],rs[is]=null,is--)}function ss(e,t){is++,rs[is]=e.current,e.current=t}var ls={},cs=as(ls),us=as(!1),ds=ls;function hs(e,t){var n=e.type.contextTypes;if(!n)return ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return null!=(e=e.childContextTypes)}function ps(){os(us),os(cs)}function ms(e,t,n){if(cs.current!==ls)throw Error(zt(168));ss(cs,t),ss(us,n)}function gs(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(zt(108,Sn(e)||"Unknown",i));return vn({},n,r)}function ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,ds=cs.current,ss(cs,e),ss(us,us.current),!0}function vs(e,t,n){var r=e.stateNode;if(!r)throw Error(zt(169));n?(e=gs(e,t,ds),r.__reactInternalMemoizedMergedChildContext=e,os(us),os(cs),ss(cs,e)):os(us),ss(us,n)}var bs=null,ws=!1,xs=!1;function _s(e){null===bs?bs=[e]:bs.push(e)}function Es(){if(!xs&&null!==bs){xs=!0;var e=0,t=ei;try{var n=bs;for(ei=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}bs=null,ws=!1}catch(jL){throw null!==bs&&(bs=bs.slice(e+1)),Tr(Dr,Es),jL}finally{ei=t,xs=!1}}return null}var Ss=[],ks=0,Cs=null,Os=0,Ts=[],As=0,Ns=null,Is=1,js="";function Ps(e,t){Ss[ks++]=Os,Ss[ks++]=Cs,Cs=e,Os=t}function Ds(e,t,n){Ts[As++]=Is,Ts[As++]=js,Ts[As++]=Ns,Ns=e;var r=Is;e=js;var i=32-Vr(r)-1;r&=~(1<<i),n+=1;var a=32-Vr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Is=1<<32-Vr(t)+i|n<<i|r,js=a+e}else Is=1<<a|n<<i|r,js=e}function Ms(e){null!==e.return&&(Ps(e,1),Ds(e,1,0))}function Rs(e){for(;e===Cs;)Cs=Ss[--ks],Ss[ks]=null,Os=Ss[--ks],Ss[ks]=null;for(;e===Ns;)Ns=Ts[--As],Ts[As]=null,js=Ts[--As],Ts[As]=null,Is=Ts[--As],Ts[As]=null}var Ls=null,Fs=null,zs=!1,Us=null;function Vs(e,t){var n=dh(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function $s(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ls=e,Fs=qo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ls=e,Fs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ns?{id:Is,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=dh(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ls=e,Fs=null,!0);default:return!1}}function Bs(e){return!(!(1&e.mode)||128&e.flags)}function qs(e){if(zs){var t=Fs;if(t){var n=t;if(!$s(e,t)){if(Bs(e))throw Error(zt(418));t=qo(n.nextSibling);var r=Ls;t&&$s(e,t)?Vs(r,n):(e.flags=-4097&e.flags|2,zs=!1,Ls=e)}}else{if(Bs(e))throw Error(zt(418));e.flags=-4097&e.flags|2,zs=!1,Ls=e}}}function Ws(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ls=e}function Ks(e){if(e!==Ls)return!1;if(!zs)return Ws(e),zs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Lo(e.type,e.memoizedProps)),t&&(t=Fs)){if(Bs(e))throw Hs(),Error(zt(418));for(;t;)Vs(e,t),t=qo(t.nextSibling)}if(Ws(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(zt(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fs=qo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fs=null}}else Fs=Ls?qo(e.stateNode.nextSibling):null;return!0}function Hs(){for(var e=Fs;e;)e=qo(e.nextSibling)}function Gs(){Fs=Ls=null,zs=!1}function Ys(e){null===Us?Us=[e]:Us.push(e)}var Qs=en.ReactCurrentBatchConfig;function Zs(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(zt(309));var r=n.stateNode}if(!r)throw Error(zt(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(zt(284));if(!n._owner)throw Error(zt(290,e))}return e}function Xs(e,t){throw e=Object.prototype.toString.call(t),Error(zt(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Js(e){return(0,e._init)(e._payload)}function el(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=fh(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=yh(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===rn?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===fn&&Js(a)===t.type)?((r=i(t,n.props)).ref=Zs(e,t,n),r.return=e,r):((r=ph(n.type,n.key,n.props,null,e.mode,r)).ref=Zs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=vh(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=mh(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=yh(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case tn:return(n=ph(t.type,t.key,t.props,null,e.mode,n)).ref=Zs(e,null,t),n.return=e,n;case nn:return(t=vh(t,e.mode,n)).return=e,t;case fn:return d(e,(0,t._init)(t._payload),n)}if(Rn(t)||gn(t))return(t=mh(t,e.mode,n,null)).return=e,t;Xs(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tn:return n.key===i?l(e,t,n,r):null;case nn:return n.key===i?c(e,t,n,r):null;case fn:return h(e,t,(i=n._init)(n._payload),r)}if(Rn(n)||gn(n))return null!==i?null:u(e,t,n,r,null);Xs(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tn:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case nn:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case fn:return f(e,t,n,(0,r._init)(r._payload),i)}if(Rn(r)||gn(r))return u(t,e=e.get(n)||null,r,i,null);Xs(t,r)}return null}return function s(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===rn&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case tn:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===rn){if(7===g.tag){n(l,g.sibling),(c=i(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===fn&&Js(m)===g.type){n(l,g.sibling),(c=i(g,u.props)).ref=Zs(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===rn?((c=mh(u.props.children,l.mode,p,u.key)).return=l,l=c):((p=ph(u.type,u.key,u.props,null,l.mode,p)).ref=Zs(l,c,u),p.return=l,l=p)}return o(l);case nn:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=i(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=vh(u,l.mode,p)).return=l,l=c}return o(l);case fn:return s(l,c,(g=u._init)(u._payload),p)}if(Rn(u))return function(i,o,s,l){for(var c=null,u=null,p=o,m=o=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,s[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,p=g}if(m===s.length)return n(i,p),zs&&Ps(i,m),c;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],l))&&(o=a(p,o,m),null===u?c=p:u.sibling=p,u=p);return zs&&Ps(i,m),c}for(p=r(i,p);m<s.length;m++)null!==(g=f(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(i,e)}),zs&&Ps(i,m),c}(l,c,u,p);if(gn(u))return function(i,o,s,l){var c=gn(s);if("function"!=typeof c)throw Error(zt(150));if(null==(s=c.call(s)))throw Error(zt(151));for(var u=c=null,p=o,m=o=0,g=null,y=s.next();null!==p&&!y.done;m++,y=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,p=g}if(y.done)return n(i,p),zs&&Ps(i,m),c;if(null===p){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,l))&&(o=a(y,o,m),null===u?c=y:u.sibling=y,u=y);return zs&&Ps(i,m),c}for(p=r(i,p);!y.done;m++,y=s.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(i,e)}),zs&&Ps(i,m),c}(l,c,u,p);Xs(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=i(c,u)).return=l,l=c):(n(l,c),(c=yh(u,l.mode,p)).return=l,l=c),o(l)):n(l,c)}}var tl=el(!0),nl=el(!1),rl=as(null),il=null,al=null,ol=null;function sl(){ol=al=il=null}function ll(e){var t=rl.current;os(rl),e._currentValue=t}function cl(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ul(e,t){il=e,ol=al=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Jc=!0),e.firstContext=null)}function dl(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},null===al){if(null===il)throw Error(zt(308));al=e,il.dependencies={lanes:0,firstContext:e}}else al=al.next=e;return t}var hl=null;function fl(e){null===hl?hl=[e]:hl.push(e)}function pl(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,fl(t)):(n.next=i.next,i.next=n),t.interleaved=n,ml(e,r)}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var gl=!1;function yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wl(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ld){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ml(e,n)}return null===(i=r.interleaved)?(t.next=t,fl(r)):(t.next=i.next,i.next=t),r.interleaved=t,ml(e,n)}function xl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Jr(e,n)}}function _l(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function El(e,t,n,r){var i=e.updateQueue;gl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=vn({},d,h);break e;case 2:gl=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);gd|=o,e.lanes=o,e.memoizedState=d}}function Sl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(zt(191,i));i.call(r)}}}var kl={},Cl=as(kl),Ol=as(kl),Tl=as(kl);function Al(e){if(e===kl)throw Error(zt(174));return e}function Nl(e,t){switch(ss(Tl,t),ss(Ol,e),ss(Cl,kl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bn(null,"");break;default:t=Bn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}os(Cl),ss(Cl,t)}function Il(){os(Cl),os(Ol),os(Tl)}function jl(e){Al(Tl.current);var t=Al(Cl.current),n=Bn(t,e.type);t!==n&&(ss(Ol,e),ss(Cl,n))}function Pl(e){Ol.current===e&&(os(Cl),os(Ol))}var Dl=as(0);function Ml(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rl=[];function Ll(){for(var e=0;e<Rl.length;e++)Rl[e]._workInProgressVersionPrimary=null;Rl.length=0}var Fl=en.ReactCurrentDispatcher,zl=en.ReactCurrentBatchConfig,Ul=0,Vl=null,$l=null,Bl=null,ql=!1,Wl=!1,Kl=0,Hl=0;function Gl(){throw Error(zt(321))}function Yl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Va(e[n],t[n]))return!1;return!0}function Ql(e,t,n,r,i,a){if(Ul=a,Vl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fl.current=null===e||null===e.memoizedState?Pc:Dc,e=n(r,i),Wl){a=0;do{if(Wl=!1,Kl=0,25<=a)throw Error(zt(301));a+=1,Bl=$l=null,t.updateQueue=null,Fl.current=Mc,e=n(r,i)}while(Wl)}if(Fl.current=jc,t=null!==$l&&null!==$l.next,Ul=0,Bl=$l=Vl=null,ql=!1,t)throw Error(zt(300));return e}function Zl(){var e=0!==Kl;return Kl=0,e}function Xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bl?Vl.memoizedState=Bl=e:Bl=Bl.next=e,Bl}function Jl(){if(null===$l){var e=Vl.alternate;e=null!==e?e.memoizedState:null}else e=$l.next;var t=null===Bl?Vl.memoizedState:Bl.next;if(null!==t)Bl=t,$l=e;else{if(null===e)throw Error(zt(310));e={memoizedState:($l=e).memoizedState,baseState:$l.baseState,baseQueue:$l.baseQueue,queue:$l.queue,next:null},null===Bl?Vl.memoizedState=Bl=e:Bl=Bl.next=e}return Bl}function ec(e,t){return"function"==typeof t?t(e):t}function tc(e){var t=Jl(),n=t.queue;if(null===n)throw Error(zt(311));n.lastRenderedReducer=e;var r=$l,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Ul&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Vl.lanes|=u,gd|=u}c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=s,Va(r,t.memoizedState)||(Jc=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Vl.lanes|=a,gd|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nc(e){var t=Jl(),n=t.queue;if(null===n)throw Error(zt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Va(a,t.memoizedState)||(Jc=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function rc(){}function ic(e,t){var n=Vl,r=Jl(),i=t(),a=!Va(r.memoizedState,i);if(a&&(r.memoizedState=i,Jc=!0),r=r.queue,gc(sc.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Bl&&1&Bl.memoizedState.tag){if(n.flags|=2048,dc(9,oc.bind(null,n,r,i,t),void 0,null),null===cd)throw Error(zt(349));30&Ul||ac(n,t,i)}return i}function ac(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Vl.updateQueue)?(t={lastEffect:null,stores:null},Vl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function oc(e,t,n,r){t.value=n,t.getSnapshot=r,lc(t)&&cc(e)}function sc(e,t,n){return n(function(){lc(t)&&cc(e)})}function lc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Va(e,n)}catch(r){return!0}}function cc(e){var t=ml(e,1);null!==t&&Rd(t,e,1,-1)}function uc(e){var t=Xl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=Tc.bind(null,Vl,e),[t.memoizedState,e]}function dc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vl.updateQueue)?(t={lastEffect:null,stores:null},Vl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hc(){return Jl().memoizedState}function fc(e,t,n,r){var i=Xl();Vl.flags|=e,i.memoizedState=dc(1|t,n,void 0,void 0===r?null:r)}function pc(e,t,n,r){var i=Jl();r=void 0===r?null:r;var a=void 0;if(null!==$l){var o=$l.memoizedState;if(a=o.destroy,null!==r&&Yl(r,o.deps))return void(i.memoizedState=dc(t,n,a,r))}Vl.flags|=e,i.memoizedState=dc(1|t,n,a,r)}function mc(e,t){return fc(8390656,8,e,t)}function gc(e,t){return pc(2048,8,e,t)}function yc(e,t){return pc(4,2,e,t)}function vc(e,t){return pc(4,4,e,t)}function bc(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wc(e,t,n){return n=null!=n?n.concat([e]):null,pc(4,4,bc.bind(null,t,e),n)}function xc(){}function _c(e,t){var n=Jl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ec(e,t){var n=Jl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sc(e,t,n){return 21&Ul?(Va(n,t)||(n=Qr(),Vl.lanes|=n,gd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jc=!0),e.memoizedState=n)}function kc(e,t){var n=ei;ei=0!==n&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{ei=n,zl.transition=r}}function Cc(){return Jl().memoizedState}function Oc(e,t,n){var r=Md(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ac(e))Nc(t,n);else if(null!==(n=pl(e,t,n,r))){Rd(n,e,r,Dd()),Ic(n,t,r)}}function Tc(e,t,n){var r=Md(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))Nc(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Va(s,o)){var l=t.interleaved;return null===l?(i.next=i,fl(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=pl(e,t,i,r))&&(Rd(n,e,r,i=Dd()),Ic(n,t,r))}}function Ac(e){var t=e.alternate;return e===Vl||null!==t&&t===Vl}function Nc(e,t){Wl=ql=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ic(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Jr(e,n)}}var jc={readContext:dl,useCallback:Gl,useContext:Gl,useEffect:Gl,useImperativeHandle:Gl,useInsertionEffect:Gl,useLayoutEffect:Gl,useMemo:Gl,useReducer:Gl,useRef:Gl,useState:Gl,useDebugValue:Gl,useDeferredValue:Gl,useTransition:Gl,useMutableSource:Gl,useSyncExternalStore:Gl,useId:Gl,unstable_isNewReconciler:!1},Pc={readContext:dl,useCallback:function(e,t){return Xl().memoizedState=[e,void 0===t?null:t],e},useContext:dl,useEffect:mc,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,fc(4194308,4,bc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fc(4194308,4,e,t)},useInsertionEffect:function(e,t){return fc(4,2,e,t)},useMemo:function(e,t){var n=Xl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oc.bind(null,Vl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xl().memoizedState=e},useState:uc,useDebugValue:xc,useDeferredValue:function(e){return Xl().memoizedState=e},useTransition:function(){var e=uc(!1),t=e[0];return e=kc.bind(null,e[1]),Xl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vl,i=Xl();if(zs){if(void 0===n)throw Error(zt(407));n=n()}else{if(n=t(),null===cd)throw Error(zt(349));30&Ul||ac(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,mc(sc.bind(null,r,a,e),[e]),r.flags|=2048,dc(9,oc.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Xl(),t=cd.identifierPrefix;if(zs){var n=js;t=":"+t+"R"+(n=(Is&~(1<<32-Vr(Is)-1)).toString(32)+n),0<(n=Kl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Hl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dc={readContext:dl,useCallback:_c,useContext:dl,useEffect:gc,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:vc,useMemo:Ec,useReducer:tc,useRef:hc,useState:function(){return tc(ec)},useDebugValue:xc,useDeferredValue:function(e){return Sc(Jl(),$l.memoizedState,e)},useTransition:function(){return[tc(ec)[0],Jl().memoizedState]},useMutableSource:rc,useSyncExternalStore:ic,useId:Cc,unstable_isNewReconciler:!1},Mc={readContext:dl,useCallback:_c,useContext:dl,useEffect:gc,useImperativeHandle:wc,useInsertionEffect:yc,useLayoutEffect:vc,useMemo:Ec,useReducer:nc,useRef:hc,useState:function(){return nc(ec)},useDebugValue:xc,useDeferredValue:function(e){var t=Jl();return null===$l?t.memoizedState=e:Sc(t,$l.memoizedState,e)},useTransition:function(){return[nc(ec)[0],Jl().memoizedState]},useMutableSource:rc,useSyncExternalStore:ic,useId:Cc,unstable_isNewReconciler:!1};function Rc(e,t){if(e&&e.defaultProps){for(var n in t=vn({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Lc(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:vn({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fc={isMounted:function(e){return!!(e=e._reactInternals)&&Er(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dd(),i=Md(e),a=bl(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=wl(e,a,i))&&(Rd(t,e,i,r),xl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dd(),i=Md(e),a=bl(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=wl(e,a,i))&&(Rd(t,e,i,r),xl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dd(),r=Md(e),i=bl(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=wl(e,i,r))&&(Rd(t,e,r,n),xl(t,e,r))}};function zc(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$a(n,r)||!$a(i,a))}function Uc(e,t,n){var r=!1,i=ls,a=t.contextType;return"object"==typeof a&&null!==a?a=dl(a):(i=fs(t)?ds:cs.current,a=(r=null!=(r=t.contextTypes))?hs(e,i):ls),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fc,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vc(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fc.enqueueReplaceState(t,t.state,null)}function $c(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},yl(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=dl(a):(a=fs(t)?ds:cs.current,i.context=hs(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Lc(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Fc.enqueueReplaceState(i,i.state,null),El(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Bc(e,t){try{var n="",r=t;do{n+=_n(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function qc(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Wc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kc="function"==typeof WeakMap?WeakMap:Map;function Hc(e,t,n){(n=bl(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sd||(Sd=!0,kd=r),Wc(0,t)},n}function Gc(e,t,n){(n=bl(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wc(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){Wc(0,t),"function"!=typeof r&&(null===Cd?Cd=new Set([this]):Cd.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Yc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Kc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ah.bind(null,e,t,n),t.then(e,e))}function Qc(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Zc(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=bl(-1,1)).tag=2,wl(n,t,1))),n.lanes|=1),e)}var Xc=en.ReactCurrentOwner,Jc=!1;function eu(e,t,n,r){t.child=null===e?nl(t,null,n,r):tl(t,e.child,n,r)}function tu(e,t,n,r,i){n=n.render;var a=t.ref;return ul(t,i),r=Ql(e,t,n,r,a,i),n=Zl(),null===e||Jc?(zs&&n&&Ms(t),t.flags|=1,eu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Su(e,t,i))}function nu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||hh(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ph(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ru(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$a)(o,r)&&e.ref===t.ref)return Su(e,t,i)}return t.flags|=1,(e=fh(a,r)).ref=t.ref,e.return=t,t.child=e}function ru(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if($a(a,r)&&e.ref===t.ref){if(Jc=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Su(e,t,i);131072&e.flags&&(Jc=!0)}}return ou(e,t,n,r,i)}function iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ss(fd,hd),hd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ss(fd,hd),hd|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ss(fd,hd),hd|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ss(fd,hd),hd|=r;return eu(e,t,i,n),t.child}function au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ou(e,t,n,r,i){var a=fs(n)?ds:cs.current;return a=hs(t,a),ul(t,i),n=Ql(e,t,n,r,a,i),r=Zl(),null===e||Jc?(zs&&r&&Ms(t),t.flags|=1,eu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Su(e,t,i))}function su(e,t,n,r,i){if(fs(n)){var a=!0;ys(t)}else a=!1;if(ul(t,i),null===t.stateNode)Eu(e,t),Uc(t,n,r),$c(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=dl(c):c=hs(t,c=fs(n)?ds:cs.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&Vc(t,o,r,c),gl=!1;var h=t.memoizedState;o.state=h,El(t,r,o,i),l=t.memoizedState,s!==r||h!==l||us.current||gl?("function"==typeof u&&(Lc(t,n,u,r),l=t.memoizedState),(s=gl||zc(t,n,s,r,h,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vl(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Rc(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=dl(l):l=hs(t,l=fs(n)?ds:cs.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Vc(t,o,r,l),gl=!1,h=t.memoizedState,o.state=h,El(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||us.current||gl?("function"==typeof f&&(Lc(t,n,f,r),p=t.memoizedState),(c=gl||zc(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lu(e,t,n,r,a,i)}function lu(e,t,n,r,i,a){au(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&vs(t,n,!1),Su(e,t,a);r=t.stateNode,Xc.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=tl(t,e.child,null,a),t.child=tl(t,null,s,a)):eu(e,t,s,a),t.memoizedState=r.state,i&&vs(t,n,!0),t.child}function cu(e){var t=e.stateNode;t.pendingContext?ms(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ms(0,t.context,!1),Nl(e,t.containerInfo)}function uu(e,t,n,r,i){return Gs(),Ys(i),t.flags|=256,eu(e,t,n,r),t.child}var du,hu,fu,pu,mu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yu(e,t,n){var r,i=t.pendingProps,a=Dl.current,o=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ss(Dl,1&a),null===e)return qs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},1&i||null===o?o=gh(s,i,0,null):(o.childLanes=0,o.pendingProps=s),e=mh(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gu(n),t.memoizedState=mu,e):vu(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,bu(e,t,o,r=qc(Error(zt(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=gh({mode:"visible",children:r.children},i,0,null),(a=mh(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&tl(t,e.child,null,o),t.child.memoizedState=gu(o),t.memoizedState=mu,a);if(!(1&t.mode))return bu(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,bu(e,t,o,r=qc(a=Error(zt(419)),r,void 0))}if(s=0!==(o&e.childLanes),Jc||s){if(null!==(r=cd)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,ml(e,i),Rd(r,e,i,-1))}return Yd(),bu(e,t,o,r=qc(Error(zt(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=sh.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Fs=qo(i.nextSibling),Ls=t,zs=!0,Us=null,null!==e&&(Ts[As++]=Is,Ts[As++]=js,Ts[As++]=Ns,Is=e.id,js=e.overflow,Ns=t),t=vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&s||t.child===a?(i=fh(a,l)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?o=fh(r,o):(o=mh(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?gu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=mu,i}return e=(o=e.child).sibling,i=fh(o,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function vu(e,t){return(t=gh({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function bu(e,t,n,r){return null!==r&&Ys(r),tl(t,e.child,null,n),(e=vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function wu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cl(e.return,t,n)}function xu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function _u(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(eu(e,t,r.children,n),2&(r=Dl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&wu(e,n,t);else if(19===e.tag)wu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ss(Dl,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ml(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ml(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xu(t,!0,n,null,a);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Eu(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Su(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),gd|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(zt(153));if(null!==t.child){for(n=fh(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=fh(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ku(e,t){if(!zs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ou(e,t,n){var r=t.pendingProps;switch(Rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cu(t),null;case 1:case 17:return fs(t.type)&&ps(),Cu(t),null;case 3:return r=t.stateNode,Il(),os(us),os(cs),Ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ks(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Us&&(Ud(Us),Us=null))),hu(e,t),Cu(t),null;case 5:Pl(t);var i=Al(Tl.current);if(n=t.type,null!==e&&null!=t.stateNode)fu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(zt(166));return Cu(t),null}if(e=Al(Cl.current),Ks(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ho]=t,r[Go]=a,e=!!(1&t.mode),n){case"dialog":wo("cancel",r),wo("close",r);break;case"iframe":case"object":case"embed":wo("load",r);break;case"video":case"audio":for(i=0;i<go.length;i++)wo(go[i],r);break;case"source":wo("error",r);break;case"img":case"image":case"link":wo("error",r),wo("load",r);break;case"details":wo("toggle",r);break;case"input":In(r,a),wo("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wo("invalid",r);break;case"textarea":zn(r,a),wo("invalid",r)}for(var o in Jn(n,a),i=null,a)if(a.hasOwnProperty(o)){var s=a[o];"children"===o?"string"==typeof s?r.textContent!==s&&(!0!==a.suppressHydrationWarning&&Po(r.textContent,s,e),i=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(!0!==a.suppressHydrationWarning&&Po(r.textContent,s,e),i=["children",""+s]):Vt.hasOwnProperty(o)&&null!=s&&"onScroll"===o&&wo("scroll",r)}switch(n){case"input":On(r),Dn(r,a,!0);break;case"textarea":On(r),Vn(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Do)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=$n(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ho]=t,e[Go]=r,du(e,t,!1,!1),t.stateNode=e;e:{switch(o=er(n,r),n){case"dialog":wo("cancel",e),wo("close",e),i=r;break;case"iframe":case"object":case"embed":wo("load",e),i=r;break;case"video":case"audio":for(i=0;i<go.length;i++)wo(go[i],e);i=r;break;case"source":wo("error",e),i=r;break;case"img":case"image":case"link":wo("error",e),wo("load",e),i=r;break;case"details":wo("toggle",e),i=r;break;case"input":In(e,r),i=Nn(e,r),wo("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vn({},r,{value:void 0}),wo("invalid",e);break;case"textarea":zn(e,r),i=Fn(e,r),wo("invalid",e)}for(a in Jn(n,i),s=i)if(s.hasOwnProperty(a)){var l=s[a];"style"===a?Zn(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Kn(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&Hn(e,l):"number"==typeof l&&Hn(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Vt.hasOwnProperty(a)?null!=l&&"onScroll"===a&&wo("scroll",e):null!=l&&Jt(e,a,l,o))}switch(n){case"input":On(e),Dn(e,r,!1);break;case"textarea":On(e),Vn(e);break;case"option":null!=r.value&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?Ln(e,!!r.multiple,a,!1):null!=r.defaultValue&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Do)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Cu(t),null;case 6:if(e&&null!=t.stateNode)pu(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(zt(166));if(n=Al(Tl.current),Al(Cl.current),Ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ho]=t,(a=r.nodeValue!==n)&&null!==(e=Ls))switch(e.tag){case 3:Po(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Po(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Ho]=t,t.stateNode=r}return Cu(t),null;case 13:if(os(Dl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(zs&&null!==Fs&&1&t.mode&&!(128&t.flags))Hs(),Gs(),t.flags|=98560,a=!1;else if(a=Ks(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(zt(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(zt(317));a[Ho]=t}else Gs(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Cu(t),a=!1}else null!==Us&&(Ud(Us),Us=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Dl.current?0===pd&&(pd=3):Yd())),null!==t.updateQueue&&(t.flags|=4),Cu(t),null);case 4:return Il(),hu(e,t),null===e&&Eo(t.stateNode.containerInfo),Cu(t),null;case 10:return ll(t.type._context),Cu(t),null;case 19:if(os(Dl),null===(a=t.memoizedState))return Cu(t),null;if(r=!!(128&t.flags),null===(o=a.rendering))if(r)ku(a,!1);else{if(0!==pd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Ml(e))){for(t.flags|=128,ku(a,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ss(Dl,1&Dl.current|2),t.child}e=e.sibling}null!==a.tail&&jr()>_d&&(t.flags|=128,r=!0,ku(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ml(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ku(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!zs)return Cu(t),null}else 2*jr()-a.renderingStartTime>_d&&1073741824!==n&&(t.flags|=128,r=!0,ku(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=a.last)?n.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jr(),t.sibling=null,n=Dl.current,ss(Dl,r?1&n|2:1&n),t):(Cu(t),null);case 22:case 23:return Wd(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&hd)&&(Cu(t),6&t.subtreeFlags&&(t.flags|=8192)):Cu(t),null;case 24:case 25:return null}throw Error(zt(156,t.tag))}function Tu(e,t){switch(Rs(t),t.tag){case 1:return fs(t.type)&&ps(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Il(),os(us),os(cs),Ll(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Pl(t),null;case 13:if(os(Dl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(zt(340));Gs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return os(Dl),null;case 4:return Il(),null;case 10:return ll(t.type._context),null;case 22:case 23:return Wd(),null;default:return null}}du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},hu=function(){},fu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Al(Cl.current);var a,o=null;switch(n){case"input":i=Nn(e,i),r=Nn(e,r),o=[];break;case"select":i=vn({},i,{value:void 0}),r=vn({},r,{value:void 0}),o=[];break;case"textarea":i=Fn(e,i),r=Fn(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Do)}for(c in Jn(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Vt.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Vt.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&wo("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Au=!1,Nu=!1,Iu="function"==typeof WeakSet?WeakSet:Set,ju=null;function Pu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){ih(e,t,r)}else n.current=null}function Du(e,t,n){try{n()}catch(r){ih(e,t,r)}}var Mu=!1;function Ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Du(t,n,a)}i=i.next}while(i!==r)}}function Lu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function zu(e){var t=e.alternate;null!==t&&(e.alternate=null,zu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Ho],delete t[Go],delete t[Qo],delete t[Zo],delete t[Xo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uu(e){return 5===e.tag||3===e.tag||4===e.tag}function Vu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function $u(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Do));else if(4!==r&&null!==(e=e.child))for($u(e,t,n),e=e.sibling;null!==e;)$u(e,t,n),e=e.sibling}function Bu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Bu(e,t,n),e=e.sibling;null!==e;)Bu(e,t,n),e=e.sibling}var qu=null,Wu=!1;function Ku(e,t,n){for(n=n.child;null!==n;)Hu(e,t,n),n=n.sibling}function Hu(e,t,n){if(Ur&&"function"==typeof Ur.onCommitFiberUnmount)try{Ur.onCommitFiberUnmount(zr,n)}catch(s){}switch(n.tag){case 5:Nu||Pu(n,t);case 6:var r=qu,i=Wu;qu=null,Ku(e,t,n),Wu=i,null!==(qu=r)&&(Wu?(e=qu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):qu.removeChild(n.stateNode));break;case 18:null!==qu&&(Wu?(e=qu,n=n.stateNode,8===e.nodeType?Bo(e.parentNode,n):1===e.nodeType&&Bo(e,n),Ei(e)):Bo(qu,n.stateNode));break;case 4:r=qu,i=Wu,qu=n.stateNode.containerInfo,Wu=!0,Ku(e,t,n),qu=r,Wu=i;break;case 0:case 11:case 14:case 15:if(!Nu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&Du(n,t,o),i=i.next}while(i!==r)}Ku(e,t,n);break;case 1:if(!Nu&&(Pu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ih(n,t,s)}Ku(e,t,n);break;case 21:Ku(e,t,n);break;case 22:1&n.mode?(Nu=(r=Nu)||null!==n.memoizedState,Ku(e,t,n),Nu=r):Ku(e,t,n);break;default:Ku(e,t,n)}}function Gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Iu),t.forEach(function(t){var r=lh.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:qu=s.stateNode,Wu=!1;break e;case 3:case 4:qu=s.stateNode.containerInfo,Wu=!0;break e}s=s.return}if(null===qu)throw Error(zt(160));Hu(a,o,i),qu=null,Wu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){ih(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Qu(t,e),t=t.sibling}function Qu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yu(t,e),Zu(e),4&r){try{Ru(3,e,e.return),Lu(3,e)}catch(m){ih(e,e.return,m)}try{Ru(5,e,e.return)}catch(m){ih(e,e.return,m)}}break;case 1:Yu(t,e),Zu(e),512&r&&null!==n&&Pu(n,n.return);break;case 5:if(Yu(t,e),Zu(e),512&r&&null!==n&&Pu(n,n.return),32&e.flags){var i=e.stateNode;try{Hn(i,"")}catch(m){ih(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===a.type&&null!=a.name&&jn(i,a),er(s,o);var c=er(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];"style"===u?Zn(i,d):"dangerouslySetInnerHTML"===u?Kn(i,d):"children"===u?Hn(i,d):Jt(i,u,d,c)}switch(s){case"input":Pn(i,a);break;case"textarea":Un(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?Ln(i,!!a.multiple,f,!1):h!==!!a.multiple&&(null!=a.defaultValue?Ln(i,!!a.multiple,a.defaultValue,!0):Ln(i,!!a.multiple,a.multiple?[]:"",!1))}i[Go]=a}catch(m){ih(e,e.return,m)}}break;case 6:if(Yu(t,e),Zu(e),4&r){if(null===e.stateNode)throw Error(zt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){ih(e,e.return,m)}}break;case 3:if(Yu(t,e),Zu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(m){ih(e,e.return,m)}break;case 4:default:Yu(t,e),Zu(e);break;case 13:Yu(t,e),Zu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(xd=jr())),4&r&&Gu(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Nu=(c=Nu)||u,Yu(t,e),Nu=c):Yu(t,e),Zu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(ju=e,u=e.child;null!==u;){for(d=ju=u;null!==ju;){switch(f=(h=ju).child,h.tag){case 0:case 11:case 14:case 15:Ru(4,h,h.return);break;case 1:Pu(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){ih(r,n,m)}}break;case 5:Pu(h,h.return);break;case 22:if(null!==h.memoizedState){td(d);continue}}null!==f?(f.return=h,ju=f):td(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{i=d.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=d.stateNode,o=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=Qn("display",o))}catch(m){ih(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ih(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yu(t,e),Zu(e),4&r&&Gu(e);case 21:}}function Zu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Uu(n)){var r=n;break e}n=n.return}throw Error(zt(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(Hn(i,""),r.flags&=-33),Bu(e,Vu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;$u(e,Vu(e),a);break;default:throw Error(zt(161))}}catch(o){ih(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xu(e,t,n){ju=e,Ju(e)}function Ju(e,t,n){for(var r=!!(1&e.mode);null!==ju;){var i=ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Au;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Nu;s=Au;var c=Nu;if(Au=o,(Nu=l)&&!c)for(ju=i;null!==ju;)l=(o=ju).child,22===o.tag&&null!==o.memoizedState?nd(i):null!==l?(l.return=o,ju=l):nd(i);for(;null!==a;)ju=a,Ju(a),a=a.sibling;ju=i,Au=s,Nu=c}ed(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,ju=a):ed(e)}}function ed(e){for(;null!==ju;){var t=ju;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Nu||Lu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Nu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Rc(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Sl(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Sl(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ei(d)}}}break;default:throw Error(zt(163))}Nu||512&t.flags&&Fu(t)}catch(h){ih(t,t.return,h)}}if(t===e){ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,ju=n;break}ju=t.return}}function td(e){for(;null!==ju;){var t=ju;if(t===e){ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ju=n;break}ju=t.return}}function nd(e){for(;null!==ju;){var t=ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lu(4,t)}catch(l){ih(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ih(t,i,l)}}var a=t.return;try{Fu(t)}catch(l){ih(t,a,l)}break;case 5:var o=t.return;try{Fu(t)}catch(l){ih(t,o,l)}}}catch(l){ih(t,t.return,l)}if(t===e){ju=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ju=s;break}ju=t.return}}var rd,id=Math.ceil,ad=en.ReactCurrentDispatcher,od=en.ReactCurrentOwner,sd=en.ReactCurrentBatchConfig,ld=0,cd=null,ud=null,dd=0,hd=0,fd=as(0),pd=0,md=null,gd=0,yd=0,vd=0,bd=null,wd=null,xd=0,_d=1/0,Ed=null,Sd=!1,kd=null,Cd=null,Od=!1,Td=null,Ad=0,Nd=0,Id=null,jd=-1,Pd=0;function Dd(){return 6&ld?jr():-1!==jd?jd:jd=jr()}function Md(e){return 1&e.mode?2&ld&&0!==dd?dd&-dd:null!==Qs.transition?(0===Pd&&(Pd=Qr()),Pd):0!==(e=ei)?e:e=void 0===(e=window.event)?16:Ii(e.type):1}function Rd(e,t,n,r){if(50<Nd)throw Nd=0,Id=null,Error(zt(185));Xr(e,n,r),2&ld&&e===cd||(e===cd&&(!(2&ld)&&(yd|=n),4===pd&&Vd(e,dd)),Ld(e,r),1===n&&0===ld&&!(1&t.mode)&&(_d=jr()+500,ws&&Es()))}function Ld(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Vr(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Gr(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Hr(e,e===cd?dd:0);if(0===r)null!==n&&Ar(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ar(n),1===t)0===e.tag?function(e){ws=!0,_s(e)}($d.bind(null,e)):_s($d.bind(null,e)),Vo(function(){!(6&ld)&&Es()}),n=null;else{switch(ti(r)){case 1:n=Dr;break;case 4:n=Mr;break;case 16:default:n=Rr;break;case 536870912:n=Fr}n=ch(n,Fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fd(e,t){if(jd=-1,Pd=0,6&ld)throw Error(zt(327));var n=e.callbackNode;if(nh()&&e.callbackNode!==n)return null;var r=Hr(e,e===cd?dd:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=Qd(e,r);else{t=r;var i=ld;ld|=2;var a=Gd();for(cd===e&&dd===t||(Ed=null,_d=jr()+500,Kd(e,t));;)try{Xd();break}catch(s){Hd(e,s)}sl(),ad.current=a,ld=i,null!==ud?t=0:(cd=null,dd=0,t=pd)}if(0!==t){if(2===t&&(0!==(i=Yr(e))&&(r=i,t=zd(e,i))),1===t)throw n=md,Kd(e,0),Vd(e,r),Ld(e,jr()),n;if(6===t)Vd(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Va(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=Qd(e,r),2===t&&(a=Yr(e),0!==a&&(r=a,t=zd(e,a))),1!==t)))throw n=md,Kd(e,0),Vd(e,r),Ld(e,jr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(zt(345));case 2:case 5:th(e,wd,Ed);break;case 3:if(Vd(e,r),(130023424&r)===r&&10<(t=xd+500-jr())){if(0!==Hr(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Dd(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fo(th.bind(null,e,wd,Ed),t);break}th(e,wd,Ed);break;case 4:if(Vd(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Vr(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=jr()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*id(r/1960))-r)){e.timeoutHandle=Fo(th.bind(null,e,wd,Ed),r);break}th(e,wd,Ed);break;default:throw Error(zt(329))}}}return Ld(e,jr()),e.callbackNode===n?Fd.bind(null,e):null}function zd(e,t){var n=bd;return e.current.memoizedState.isDehydrated&&(Kd(e,t).flags|=256),2!==(e=Qd(e,t))&&(t=wd,wd=n,null!==t&&Ud(t)),e}function Ud(e){null===wd?wd=e:wd.push.apply(wd,e)}function Vd(e,t){for(t&=~vd,t&=~yd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vr(t),r=1<<n;e[n]=-1,t&=~r}}function $d(e){if(6&ld)throw Error(zt(327));nh();var t=Hr(e,0);if(!(1&t))return Ld(e,jr()),null;var n=Qd(e,t);if(0!==e.tag&&2===n){var r=Yr(e);0!==r&&(t=r,n=zd(e,r))}if(1===n)throw n=md,Kd(e,0),Vd(e,t),Ld(e,jr()),n;if(6===n)throw Error(zt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,th(e,wd,Ed),Ld(e,jr()),null}function Bd(e,t){var n=ld;ld|=1;try{return e(t)}finally{0===(ld=n)&&(_d=jr()+500,ws&&Es())}}function qd(e){null!==Td&&0===Td.tag&&!(6&ld)&&nh();var t=ld;ld|=1;var n=sd.transition,r=ei;try{if(sd.transition=null,ei=1,e)return e()}finally{ei=r,sd.transition=n,!(6&(ld=t))&&Es()}}function Wd(){hd=fd.current,os(fd)}function Kd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,zo(n)),null!==ud)for(n=ud.return;null!==n;){var r=n;switch(Rs(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ps();break;case 3:Il(),os(us),os(cs),Ll();break;case 5:Pl(r);break;case 4:Il();break;case 13:case 19:os(Dl);break;case 10:ll(r.type._context);break;case 22:case 23:Wd()}n=n.return}if(cd=e,ud=e=fh(e.current,null),dd=hd=t,pd=0,md=null,vd=yd=gd=0,wd=bd=null,null!==hl){for(t=0;t<hl.length;t++)if(null!==(r=(n=hl[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hl=null}return e}function Hd(e,t){for(;;){var n=ud;try{if(sl(),Fl.current=jc,ql){for(var r=Vl.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ql=!1}if(Ul=0,Bl=$l=Vl=null,Wl=!1,Kl=0,od.current=null,null===n||null===n.return){pd=1,md=t,ud=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=dd,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=s,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Qc(o);if(null!==f){f.flags&=-257,Zc(f,o,s,0,t),1&f.mode&&Yc(a,c,t),l=c;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){Yc(a,c,t),Yd();break e}l=Error(zt(426))}else if(zs&&1&s.mode){var g=Qc(o);if(null!==g){!(65536&g.flags)&&(g.flags|=256),Zc(g,o,s,0,t),Ys(Bc(l,s));break e}}a=l=Bc(l,s),4!==pd&&(pd=2),null===bd?bd=[a]:bd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,_l(a,Hc(0,l,t));break e;case 1:s=l;var y=a.type,v=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Cd&&Cd.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,_l(a,Gc(a,s,t));break e}}a=a.return}while(null!==a)}eh(n)}catch(b){t=b,ud===n&&null!==n&&(ud=n=n.return);continue}break}}function Gd(){var e=ad.current;return ad.current=jc,null===e?jc:e}function Yd(){0!==pd&&3!==pd&&2!==pd||(pd=4),null===cd||!(268435455&gd)&&!(268435455&yd)||Vd(cd,dd)}function Qd(e,t){var n=ld;ld|=2;var r=Gd();for(cd===e&&dd===t||(Ed=null,Kd(e,t));;)try{Zd();break}catch(jL){Hd(e,jL)}if(sl(),ld=n,ad.current=r,null!==ud)throw Error(zt(261));return cd=null,dd=0,pd}function Zd(){for(;null!==ud;)Jd(ud)}function Xd(){for(;null!==ud&&!Nr();)Jd(ud)}function Jd(e){var t=rd(e.alternate,e,hd);e.memoizedProps=e.pendingProps,null===t?eh(e):ud=t,od.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Tu(n,t)))return n.flags&=32767,void(ud=n);if(null===e)return pd=6,void(ud=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ou(n,t,hd)))return void(ud=n);if(null!==(t=t.sibling))return void(ud=t);ud=t=e}while(null!==t);0===pd&&(pd=5)}function th(e,t,n){var r=ei,i=sd.transition;try{sd.transition=null,ei=1,function(e,t,n,r){do{nh()}while(null!==Td);if(6&ld)throw Error(zt(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(zt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Vr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===cd&&(ud=cd=null,dd=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Od||(Od=!0,ch(Rr,function(){return nh(),null})),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=sd.transition,sd.transition=null;var o=ei;ei=1;var s=ld;ld|=4,od.current=null,function(e,t){if(Mo=ki,Ha(e=Ka())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(s=o+i),d!==a||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ro={focusedElem:e,selectionRange:n},ki=!1,ju=t;null!==ju;)if(e=(t=ju).child,1028&t.subtreeFlags&&null!==e)e.return=t,ju=e;else for(;null!==ju;){t=ju;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Rc(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(zt(163))}}catch(w){ih(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,ju=e;break}ju=t.return}p=Mu,Mu=!1}(e,n),Qu(n,e),Ga(Ro),ki=!!Mo,Ro=Mo=null,e.current=n,Xu(n),Ir(),ld=s,ei=o,sd.transition=a}else e.current=n;if(Od&&(Od=!1,Td=e,Ad=i),a=e.pendingLanes,0===a&&(Cd=null),function(e){if(Ur&&"function"==typeof Ur.onCommitFiberRoot)try{Ur.onCommitFiberRoot(zr,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Ld(e,jr()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,e=kd,kd=null,e;!!(1&Ad)&&0!==e.tag&&nh(),a=e.pendingLanes,1&a?e===Id?Nd++:(Nd=0,Id=e):Nd=0,Es()}(e,t,n,r)}finally{sd.transition=i,ei=r}return null}function nh(){if(null!==Td){var e=ti(Ad),t=sd.transition,n=ei;try{if(sd.transition=null,ei=16>e?16:e,null===Td)var r=!1;else{if(e=Td,Td=null,Ad=0,6&ld)throw Error(zt(331));var i=ld;for(ld|=4,ju=e.current;null!==ju;){var a=ju,o=a.child;if(16&ju.flags){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(ju=c;null!==ju;){var u=ju;switch(u.tag){case 0:case 11:case 15:Ru(8,u,a)}var d=u.child;if(null!==d)d.return=u,ju=d;else for(;null!==ju;){var h=(u=ju).sibling,f=u.return;if(zu(u),u===c){ju=null;break}if(null!==h){h.return=f,ju=h;break}ju=f}}}var p=a.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}ju=a}}if(2064&a.subtreeFlags&&null!==o)o.return=a,ju=o;else e:for(;null!==ju;){if(2048&(a=ju).flags)switch(a.tag){case 0:case 11:case 15:Ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ju=y;break e}ju=a.return}}var v=e.current;for(ju=v;null!==ju;){var b=(o=ju).child;if(2064&o.subtreeFlags&&null!==b)b.return=o,ju=b;else e:for(o=v;null!==ju;){if(2048&(s=ju).flags)try{switch(s.tag){case 0:case 11:case 15:Lu(9,s)}}catch(x){ih(s,s.return,x)}if(s===o){ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,ju=w;break e}ju=s.return}}if(ld=i,Es(),Ur&&"function"==typeof Ur.onPostCommitFiberRoot)try{Ur.onPostCommitFiberRoot(zr,e)}catch(x){}r=!0}return r}finally{ei=n,sd.transition=t}}return!1}function rh(e,t,n){e=wl(e,t=Hc(0,t=Bc(n,t),1),1),t=Dd(),null!==e&&(Xr(e,1,t),Ld(e,t))}function ih(e,t,n){if(3===e.tag)rh(e,e,n);else for(;null!==t;){if(3===t.tag){rh(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Cd||!Cd.has(r))){t=wl(t,e=Gc(t,e=Bc(n,e),1),1),e=Dd(),null!==t&&(Xr(t,1,e),Ld(t,e));break}}t=t.return}}function ah(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Dd(),e.pingedLanes|=e.suspendedLanes&n,cd===e&&(dd&n)===n&&(4===pd||3===pd&&(130023424&dd)===dd&&500>jr()-xd?Kd(e,0):vd|=n),Ld(e,t)}function oh(e,t){0===t&&(1&e.mode?(t=Wr,!(130023424&(Wr<<=1))&&(Wr=4194304)):t=1);var n=Dd();null!==(e=ml(e,t))&&(Xr(e,t,n),Ld(e,n))}function sh(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),oh(e,n)}function lh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(zt(314))}null!==r&&r.delete(t),oh(e,n)}function ch(e,t){return Tr(e,t)}function uh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dh(e,t,n,r){return new uh(e,t,n,r)}function hh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function fh(e,t){var n=e.alternate;return null===n?((n=dh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ph(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)hh(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case rn:return mh(n.children,i,a,t);case an:o=8,i|=8;break;case on:return(e=dh(12,n,t,2|i)).elementType=on,e.lanes=a,e;case un:return(e=dh(13,n,t,i)).elementType=un,e.lanes=a,e;case dn:return(e=dh(19,n,t,i)).elementType=dn,e.lanes=a,e;case pn:return gh(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case sn:o=10;break e;case ln:o=9;break e;case cn:o=11;break e;case hn:o=14;break e;case fn:o=16,r=null;break e}throw Error(zt(130,null==e?e:typeof e,""))}return(t=dh(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function mh(e,t,n,r){return(e=dh(7,e,r,t)).lanes=n,e}function gh(e,t,n,r){return(e=dh(22,e,r,t)).elementType=pn,e.lanes=n,e.stateNode={isHidden:!1},e}function yh(e,t,n){return(e=dh(6,e,null,t)).lanes=n,e}function vh(e,t,n){return(t=dh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bh(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zr(0),this.expirationTimes=Zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wh(e,t,n,r,i,a,o,s,l){return e=new bh(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=dh(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(a),e}function xh(e){if(!e)return ls;e:{if(Er(e=e._reactInternals)!==e||1!==e.tag)throw Error(zt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(zt(171))}if(1===e.tag){var n=e.type;if(fs(n))return gs(e,n,t)}return t}function _h(e,t,n,r,i,a,o,s,l){return(e=wh(n,r,!0,e,0,a,0,s,l)).context=xh(null),n=e.current,(a=bl(r=Dd(),i=Md(n))).callback=null!=t?t:null,wl(n,a,i),e.current.lanes=i,Xr(e,i,r),Ld(e,r),e}function Eh(e,t,n,r){var i=t.current,a=Dd(),o=Md(i);return n=xh(n),null===t.context?t.context=n:t.pendingContext=n,(t=bl(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=wl(i,t,o))&&(Rd(e,i,o,a),xl(e,i,o)),o}function Sh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function kh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ch(e,t){kh(e,t),(e=e.alternate)&&kh(e,t)}rd=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||us.current)Jc=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return Jc=!1,function(e,t,n){switch(t.tag){case 3:cu(t),Gs();break;case 5:jl(t);break;case 1:fs(t.type)&&ys(t);break;case 4:Nl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ss(rl,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ss(Dl,1&Dl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?yu(e,t,n):(ss(Dl,1&Dl.current),null!==(e=Su(e,t,n))?e.sibling:null);ss(Dl,1&Dl.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return _u(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ss(Dl,Dl.current),r)break;return null;case 22:case 23:return t.lanes=0,iu(e,t,n)}return Su(e,t,n)}(e,t,n);Jc=!!(131072&e.flags)}else Jc=!1,zs&&1048576&t.flags&&Ds(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Eu(e,t),e=t.pendingProps;var i=hs(t,cs.current);ul(t,n),i=Ql(null,t,r,e,i,n);var a=Zl();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(r)?(a=!0,ys(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,yl(t),i.updater=Fc,t.stateNode=i,i._reactInternals=t,$c(t,r,e,n),t=lu(null,t,r,!0,a,n)):(t.tag=0,zs&&a&&Ms(t),eu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Eu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return hh(e)?1:0;if(null!=e){if((e=e.$$typeof)===cn)return 11;if(e===hn)return 14}return 2}(r),e=Rc(r,e),i){case 0:t=ou(null,t,r,e,n);break e;case 1:t=su(null,t,r,e,n);break e;case 11:t=tu(null,t,r,e,n);break e;case 14:t=nu(null,t,r,Rc(r.type,e),n);break e}throw Error(zt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ou(e,t,r,i=t.elementType===r?i:Rc(r,i),n);case 1:return r=t.type,i=t.pendingProps,su(e,t,r,i=t.elementType===r?i:Rc(r,i),n);case 3:e:{if(cu(t),null===e)throw Error(zt(387));r=t.pendingProps,i=(a=t.memoizedState).element,vl(e,t),El(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=uu(e,t,r,n,i=Bc(Error(zt(423)),t));break e}if(r!==i){t=uu(e,t,r,n,i=Bc(Error(zt(424)),t));break e}for(Fs=qo(t.stateNode.containerInfo.firstChild),Ls=t,zs=!0,Us=null,n=nl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Gs(),r===i){t=Su(e,t,n);break e}eu(e,t,r,n)}t=t.child}return t;case 5:return jl(t),null===e&&qs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Lo(r,i)?o=null:null!==a&&Lo(r,a)&&(t.flags|=32),au(e,t),eu(e,t,o,n),t.child;case 6:return null===e&&qs(t),null;case 13:return yu(e,t,n);case 4:return Nl(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=tl(t,null,r,n):eu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,tu(e,t,r,i=t.elementType===r?i:Rc(r,i),n);case 7:return eu(e,t,t.pendingProps,n),t.child;case 8:case 12:return eu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ss(rl,r._currentValue),r._currentValue=o,null!==a)if(Va(a.value,o)){if(a.children===i.children&&!us.current){t=Su(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=bl(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),cl(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(zt(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),cl(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}eu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ul(t,n),r=r(i=dl(i)),t.flags|=1,eu(e,t,r,n),t.child;case 14:return i=Rc(r=t.type,t.pendingProps),nu(e,t,r,i=Rc(r.type,i),n);case 15:return ru(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Rc(r,i),Eu(e,t),t.tag=1,fs(r)?(e=!0,ys(t)):e=!1,ul(t,n),Uc(t,r,i),$c(t,r,i,n),lu(null,t,r,!0,e,n);case 19:return _u(e,t,n);case 22:return iu(e,t,n)}throw Error(zt(156,t.tag))};var Oh="function"==typeof reportError?reportError:function(e){console.error(e)};function Th(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}function Nh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ih(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function jh(){}function Ph(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Sh(o);s.call(e)}}Eh(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Sh(o);a.call(e)}}var o=_h(t,r,e,0,null,!1,0,"",jh);return e._reactRootContainer=o,e[Yo]=o.current,Eo(8===e.nodeType?e.parentNode:e),qd(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Sh(l);s.call(e)}}var l=wh(e,0,!1,null,0,!1,0,"",jh);return e._reactRootContainer=l,e[Yo]=l.current,Eo(8===e.nodeType?e.parentNode:e),qd(function(){Eh(t,l,n,r)}),l}(n,t,e,i,r);return Sh(o)}Ah.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(zt(409));Eh(e,t,null,null)},Ah.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;qd(function(){Eh(null,e,null,null)}),t[Yo]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=ai();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&0!==t&&t<pi[n].priority;n++);pi.splice(n,0,e),0===n&&vi(e)}},ni=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kr(t.pendingLanes);0!==n&&(Jr(t,1|n),Ld(t,jr()),!(6&ld)&&(_d=jr()+500,Es()))}break;case 13:qd(function(){var t=ml(e,1);if(null!==t){var n=Dd();Rd(t,e,1,n)}}),Ch(e,1)}},ri=function(e){if(13===e.tag){var t=ml(e,134217728);if(null!==t)Rd(t,e,134217728,Dd());Ch(e,134217728)}},ii=function(e){if(13===e.tag){var t=Md(e),n=ml(e,t);if(null!==n)Rd(n,e,t,Dd());Ch(e,t)}},ai=function(){return ei},oi=function(e,t){var n=ei;try{return ei=e,t()}finally{ei=n}},rr=function(e,t,n){switch(t){case"input":if(Pn(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ns(r);if(!i)throw Error(zt(90));Tn(r),Pn(r,i)}}}break;case"textarea":Un(e,n);break;case"select":null!=(t=n.value)&&Ln(e,!!n.multiple,t,!1)}},cr=Bd,ur=qd;var Dh={usingClientEntryPoint:!1,Events:[es,ts,ns,sr,lr,Bd]},Mh={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rh={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Cr(e))?null:e.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{zr=Lh.inject(Rh),Ur=Lh}catch(Wn){}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dh,Pt.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nh(t))throw Error(zt(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:nn,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Pt.createRoot=function(e,t){if(!Nh(e))throw Error(zt(299));var n=!1,r="",i=Oh;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=wh(e,1,!1,null,0,n,0,r,i),e[Yo]=t.current,Eo(8===e.nodeType?e.parentNode:e),new Th(t)},Pt.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(zt(188));throw e=Object.keys(e).join(","),Error(zt(268,e))}return e=null===(e=Cr(t))?null:e.stateNode},Pt.flushSync=function(e){return qd(e)},Pt.hydrate=function(e,t,n){if(!Ih(t))throw Error(zt(200));return Ph(null,e,t,!0,n)},Pt.hydrateRoot=function(e,t,n){if(!Nh(e))throw Error(zt(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Oh;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=_h(t,null,e,1,null!=n?n:null,i,0,a,o),e[Yo]=t.current,Eo(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ah(t)},Pt.render=function(e,t,n){if(!Ih(t))throw Error(zt(200));return Ph(null,e,t,!1,n)},Pt.unmountComponentAtNode=function(e){if(!Ih(e))throw Error(zt(40));return!!e._reactRootContainer&&(qd(function(){Ph(null,null,e,!1,function(){e._reactRootContainer=null,e[Yo]=null})}),!0)},Pt.unstable_batchedUpdates=Bd,Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ih(n))throw Error(zt(200));if(null==e||void 0===e._reactInternals)throw Error(zt(38));return Ph(e,t,n,!1,r)},Pt.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),jt.exports=Pt;var Fh=jt.exports;const zh=Me(Fh);var Uh=Fh;It.createRoot=Uh.createRoot,It.hydrateRoot=Uh.hydrateRoot;var Vh="popstate";function $h(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s="POP",l=null,c=u();null==c&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s="PUSH";let r=Kh(m.location,e,t);n&&n(r,e),c=u()+1;let d=Wh(r,c),h=m.createHref(r);try{o.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s="REPLACE";let r=Kh(m.location,e,t);n&&n(r,e),c=u();let i=Wh(r,c),d=m.createHref(r);o.replaceState(i,"",d),a&&l&&l({action:s,location:m.location,delta:0})}function p(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);Bh(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:Hh(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vh,d),l=e,()=>{i.removeEventListener(Vh,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>o.go(e)};return m}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=Gh(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Kh("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:Hh(t))},function(e,t){qh("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function Bh(e,t){if(!1===e||null==e)throw new Error(t)}function qh(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(jL){}}}function Wh(e,t){return{usr:e.state,key:e.key,idx:t}}function Kh(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?Gh(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function Hh({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function Gh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Yh(e,t,n="/"){return function(e,t,n,r){let i="string"==typeof t?Gh(t):t,a=uf(i.pathname||"/",n);if(null==a)return null;let o=Qh(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let l=0;null==s&&l<o.length;++l){let e=cf(a);s=sf(o[l],e,r)}return s}(e,t,n,!1)}function Qh(e,t=[],n=[],r="",i=!1){let a=(e,a,o=i,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;Bh(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let c=pf([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(Bh(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Qh(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:of(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of Zh(e.path))a(e,t,!0,r);else a(e,t)}),t}function Zh(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=Zh(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var Xh=/^:[\w-]+$/,Jh=3,ef=2,tf=1,nf=10,rf=-2,af=e=>"*"===e;function of(e,t){let n=e.split("/"),r=n.length;return n.some(af)&&(r+=rf),t&&(r+=ef),n.filter(e=>!af(e)).reduce((e,t)=>e+(Xh.test(t)?Jh:""===t?tf:nf),r)}function sf(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=lf({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=lf({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:pf([a,u.pathname]),pathnameBase:mf(pf([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=pf([a,u.pathnameBase]))}return o}function lf(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){qh("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const i=s[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:o,pattern:e}}function cf(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return qh(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function uf(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function df(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hf(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ff(e,t,n,r=!1){let i;"string"==typeof e?i=Gh(e):(i={...e},Bh(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),Bh(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),Bh(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof e?Gh(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:gf(r),hash:yf(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var pf=e=>e.join("/").replace(/\/\/+/g,"/"),mf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gf=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",yf=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var vf=["POST","PUT","PATCH","DELETE"];new Set(vf);var bf=["GET",...vf];new Set(bf);var wf=wt.createContext(null);wf.displayName="DataRouter";var xf=wt.createContext(null);xf.displayName="DataRouterState",wt.createContext(!1);var _f=wt.createContext({isTransitioning:!1});_f.displayName="ViewTransition",wt.createContext(new Map).displayName="Fetchers",wt.createContext(null).displayName="Await";var Ef=wt.createContext(null);Ef.displayName="Navigation";var Sf=wt.createContext(null);Sf.displayName="Location";var kf=wt.createContext({outlet:null,matches:[],isDataRoute:!1});kf.displayName="Route";var Cf=wt.createContext(null);function Of(){return null!=wt.useContext(Sf)}function Tf(){return Bh(Of(),"useLocation() may be used only in the context of a <Router> component."),wt.useContext(Sf).location}Cf.displayName="RouteError";var Af="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nf(e){wt.useContext(Ef).static||wt.useLayoutEffect(e)}function If(){let{isDataRoute:e}=wt.useContext(kf);return e?function(){let{router:e}=function(e){let t=wt.useContext(wf);return Bh(t,zf(e)),t}("useNavigate"),t=Uf("useNavigate"),n=wt.useRef(!1);Nf(()=>{n.current=!0});let r=wt.useCallback(async(r,i={})=>{qh(n.current,Af),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t]);return r}():function(){Bh(Of(),"useNavigate() may be used only in the context of a <Router> component.");let e=wt.useContext(wf),{basename:t,navigator:n}=wt.useContext(Ef),{matches:r}=wt.useContext(kf),{pathname:i}=Tf(),a=JSON.stringify(hf(r)),o=wt.useRef(!1);Nf(()=>{o.current=!0});let s=wt.useCallback((r,s={})=>{if(qh(o.current,Af),!o.current)return;if("number"==typeof r)return void n.go(r);let l=ff(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:pf([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,a,i,e]);return s}()}var jf=wt.createContext(null);function Pf(e,{relative:t}={}){let{matches:n}=wt.useContext(kf),{pathname:r}=Tf(),i=JSON.stringify(hf(n));return wt.useMemo(()=>ff(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function Df(e,t,n,r,i){var a;Bh(Of(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=wt.useContext(Ef),{matches:s}=wt.useContext(kf),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";$f(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=Tf();if(t){let e="string"==typeof t?Gh(t):t;Bh("/"===d||(null==(a=e.pathname)?void 0:a.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let m=f.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=Yh(e,{pathname:g});qh(h||null!=y,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),qh(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=null==n?void 0:n.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));Bh(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let e=i[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=l),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||Rf,o&&(s<0&&0===c?($f("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:l.route.Component?wt.createElement(l.route.Component,null):l.route.element?l.route.element:e,wt.createElement(Ff,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?wt.createElement(Lf,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},unstable_onError:r}):m()},null)}(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:pf([d,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:pf([d,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,r,i);return t&&v?wt.createElement(Sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function Mf(){let e=function(){var e;let t=wt.useContext(Cf),n=function(e){let t=wt.useContext(xf);return Bh(t,zf(e)),t}("useRouteError"),r=Uf("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=wt.createElement(wt.Fragment,null,wt.createElement("p",null,"💿 Hey developer 👋"),wt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",wt.createElement("code",{style:a},"ErrorBoundary")," or"," ",wt.createElement("code",{style:a},"errorElement")," prop on your route.")),wt.createElement(wt.Fragment,null,wt.createElement("h2",null,"Unexpected Application Error!"),wt.createElement("h3",{style:{fontStyle:"italic"}},t),n?wt.createElement("pre",{style:i},n):null,o)}var Rf=wt.createElement(Mf,null),Lf=class extends wt.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?wt.createElement(kf.Provider,{value:this.props.routeContext},wt.createElement(Cf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ff({routeContext:e,match:t,children:n}){let r=wt.useContext(wf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),wt.createElement(kf.Provider,{value:e},n)}function zf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uf(e){let t=function(e){let t=wt.useContext(kf);return Bh(t,zf(e)),t}(e),n=t.matches[t.matches.length-1];return Bh(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var Vf={};function $f(e,t,n){t||Vf[e]||(Vf[e]=!0,qh(!1,n))}function Bf({to:e,replace:t,state:n,relative:r}){Bh(Of(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=wt.useContext(Ef);qh(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=wt.useContext(kf),{pathname:o}=Tf(),s=If(),l=ff(e,hf(a),o,"path"===r),c=JSON.stringify(l);return wt.useEffect(()=>{s(JSON.parse(c),{replace:t,state:n,relative:r})},[s,c,r,t,n]),null}function qf(e){return function(e){let t=wt.useContext(kf).outlet;return wt.useMemo(()=>t&&wt.createElement(jf.Provider,{value:e},t),[t,e])}(e.context)}function Wf(e){Bh(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kf({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Bh(!Of(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),s=wt.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);"string"==typeof n&&(n=Gh(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:h="default"}=n,f=wt.useMemo(()=>{let e=uf(l,o);return null==e?null:{location:{pathname:e,search:c,hash:u,state:d,key:h},navigationType:r}},[o,l,c,u,d,h,r]);return qh(null!=f,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:wt.createElement(Ef.Provider,{value:s},wt.createElement(Sf.Provider,{children:t,value:f}))}function Hf({children:e,location:t}){return Df(Gf(e),t)}function Gf(e,t=[]){let n=[];return wt.Children.forEach(e,(e,r)=>{if(!wt.isValidElement(e))return;let i=[...t,r];if(e.type===wt.Fragment)return void n.push.apply(n,Gf(e.props.children,i));Bh(e.type===Wf,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bh(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Gf(e.props.children,i)),n.push(a)}),n}wt.memo(function({routes:e,future:t,state:n,unstable_onError:r}){return Df(e,void 0,n,r,t)});var Yf="get",Qf="application/x-www-form-urlencoded";function Zf(e){return null!=e&&"string"==typeof e.tagName}var Xf=null;var Jf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(e){return null==e||Jf.has(e)?e:(qh(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qf}"`),null)}function tp(e,t){let n,r,i,a,o;if(Zf(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?uf(o,t):null,n=e.getAttribute("method")||Yf,i=ep(e.getAttribute("enctype"))||Qf,a=new FormData(e)}else if(function(e){return Zf(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Zf(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(r=s?uf(s,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Yf,i=ep(e.getAttribute("formenctype"))||ep(o.getAttribute("enctype"))||Qf,a=new FormData(o,e),!function(){if(null===Xf)try{new FormData(document.createElement("form"),0),Xf=!1}catch(jL){Xf=!0}return Xf}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(Zf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yf,r=null,i=Qf,o=e}var s;return a&&"text/plain"===i&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}function np(e,t){if(!1===e||null==e)throw new Error(t)}function rp(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function ip(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(rp).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function ap(e,t,n,r,i,a){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>o(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{var l;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function op(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function sp(){let e=wt.useContext(wf);return np(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lp=wt.createContext(void 0);function cp(){let e=wt.useContext(lp);return np(e,"You must render this element inside a <HydratedRouter> element"),e}function up(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dp({page:e,...t}){let{router:n}=sp(),r=wt.useMemo(()=>Yh(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?wt.createElement(hp,{page:e,matches:r,...t}):null}function hp({page:e,matches:t,...n}){let r=Tf(),{manifest:i,routeModules:a}=cp(),{basename:o}=sp(),{loaderData:s,matches:l}=function(){let e=wt.useContext(xf);return np(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),c=wt.useMemo(()=>ap(e,t,l,i,r,"data"),[e,t,l,i,r]),u=wt.useMemo(()=>ap(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=wt.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=i.routes[e.route.id];r&&r.hasLoader&&(!c.some(t=>t.route.id===e.route.id)&&e.route.id in s&&(null==(t=a[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let u=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===uf(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,o,"data");return l&&n.size>0&&u.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[u.pathname+u.search]},[o,s,r,i,c,t,e,a]),h=wt.useMemo(()=>op(u,i),[u,i]),f=function(e){let{manifest:t,routeModules:n}=cp(),[r,i]=wt.useState([]);return wt.useEffect(()=>{let r=!1;return ip(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(u);return wt.createElement(wt.Fragment,null,d.map(e=>wt.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>wt.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>wt.createElement("link",{key:e,nonce:n.nonce,...t})))}function fp(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}lp.displayName="FrameworkContext";var pp="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{pp&&(window.__reactRouterVersion="7.9.3")}catch(jL){}function mp({basename:e,children:t,window:n}){let r=wt.useRef();null==r.current&&(r.current=$h({window:n,v5Compat:!0}));let i=r.current,[a,o]=wt.useState({action:i.action,location:i.location}),s=wt.useCallback(e=>{wt.startTransition(()=>o(e))},[o]);return wt.useLayoutEffect(()=>i.listen(s),[i,s]),wt.createElement(Kf,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var gp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=wt.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:a,state:o,target:s,to:l,preventScrollReset:c,viewTransition:u,...d},h){let f,{basename:p}=wt.useContext(Ef),m="string"==typeof l&&gp.test(l),g=!1;if("string"==typeof l&&m&&(f=l,pp))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=uf(t.pathname,p);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:g=!0}catch(jL){qh(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=function(e,{relative:t}={}){Bh(Of(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=wt.useContext(Ef),{hash:i,pathname:a,search:o}=Pf(e,{relative:t}),s=a;return"/"!==n&&(s="/"===a?n:pf([n,a])),r.createHref({pathname:s,search:o,hash:i})}(l,{relative:r}),[v,b,w]=function(e,t){let n=wt.useContext(lp),[r,i]=wt.useState(!1),[a,o]=wt.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,h=wt.useRef(null);wt.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),wt.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:up(s,f),onBlur:up(l,p),onMouseEnter:up(c,f),onMouseLeave:up(u,p),onTouchStart:up(d,f)}]:[!1,h,{}]}(n,d),x=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=If(),l=Tf(),c=Pf(e,{relative:a});return wt.useCallback(u=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(u,t)){u.preventDefault();let t=void 0!==n?n:Hh(l)===Hh(c);s(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[l,s,c,n,r,t,e,i,a,o])}(l,{replace:a,state:o,target:s,preventScrollReset:c,relative:r,viewTransition:u});let _=wt.createElement("a",{...d,...w,href:f||y,onClick:g||i?e:function(t){e&&e(t),t.defaultPrevented||x(t)},ref:fp(h,b),target:s,"data-discover":m||"render"!==t?void 0:"true"});return v&&!m?wt.createElement(wt.Fragment,null,_,wt.createElement(dp,{page:y})):_});yp.displayName="Link";var vp=wt.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:a,viewTransition:o,children:s,...l},c){let u=Pf(a,{relative:l.relative}),d=Tf(),h=wt.useContext(xf),{navigator:f,basename:p}=wt.useContext(Ef),m=null!=h&&function(e,{relative:t}={}){let n=wt.useContext(_f);Bh(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wp("useViewTransitionState"),i=Pf(e,{relative:t});if(!n.isTransitioning)return!1;let a=uf(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=uf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=lf(i.pathname,o)||null!=lf(i.pathname,a)}(u)&&!0===o,g=f.encodeLocation?f.encodeLocation(u).pathname:u.pathname,y=d.pathname,v=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(y=y.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&p&&(v=uf(v,p)||v);const b="/"!==g&&g.endsWith("/")?g.length-1:g.length;let w,x=y===g||!r&&y.startsWith(g)&&"/"===y.charAt(b),_=null!=v&&(v===g||!r&&v.startsWith(g)&&"/"===v.charAt(g.length)),E={isActive:x,isPending:_,isTransitioning:m},S=x?e:void 0;w="function"==typeof n?n(E):[n,x?"active":null,_?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let k="function"==typeof i?i(E):i;return wt.createElement(yp,{...l,"aria-current":S,className:w,ref:c,style:k,to:a,viewTransition:o},"function"==typeof s?s(E):s)});vp.displayName="NavLink";var bp=wt.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Yf,action:s,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...h},f)=>{let p=function(){let{router:e}=wp("useSubmit"),{basename:t}=wt.useContext(Ef),n=Uf("useRouteId");return wt.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:l,body:c}=tp(r,t);if(!1===i.navigate){let t=i.fetcherKey||_p();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}(),m=function(e,{relative:t}={}){let{basename:n}=wt.useContext(Ef),r=wt.useContext(kf);Bh(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Pf(e||".",{relative:t})},o=Tf();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:pf([n,a.pathname]));return Hh(a)}(s,{relative:c}),g="get"===o.toLowerCase()?"get":"post",y="string"==typeof s&&gp.test(s);return wt.createElement("form",{ref:f,method:g,action:m,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=(null==r?void 0:r.getAttribute("formmethod"))||o;p(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:c,preventScrollReset:u,viewTransition:d})},...h,"data-discover":y||"render"!==e?void 0:"true"})});function wp(e){let t=wt.useContext(wf);return Bh(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}bp.displayName="Form";var xp=0,_p=()=>`__${String(++xp)}__`;var Ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sp={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kp=(n=class{constructor(){Ne(this,e,Sp),Ne(this,t,!1)}setTimeoutProvider(t){Ie(this,e,t)}setTimeout(t,n){return Ae(this,e).setTimeout(t,n)}clearTimeout(t){Ae(this,e).clearTimeout(t)}setInterval(t,n){return Ae(this,e).setInterval(t,n)}clearInterval(t){Ae(this,e).clearInterval(t)}},e=new WeakMap,t=new WeakMap,n),Cp=new kp;var Op="undefined"==typeof window||"Deno"in globalThis;function Tp(){}function Ap(e){return"number"==typeof e&&e>=0&&e!==1/0}function Np(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ip(e,t){return"function"==typeof e?e(t):e}function jp(e,t){return"function"==typeof e?e(t):e}function Pp(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o)if(r){if(t.queryHash!==Mp(o,t.options))return!1}else if(!Lp(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof s||t.isStale()===s)&&((!i||i===t.state.fetchStatus)&&!(a&&!a(t)))}function Dp(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Rp(t.options.mutationKey)!==Rp(a))return!1}else if(!Lp(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function Mp(e,t){return((null==t?void 0:t.queryKeyHashFn)||Rp)(e)}function Rp(e){return JSON.stringify(e,(e,t)=>$p(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Lp(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>Lp(e[n],t[n])))}var Fp=Object.prototype.hasOwnProperty;function zp(e,t){if(e===t)return e;const n=Vp(e)&&Vp(t);if(!(n||$p(e)&&$p(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,o=n?new Array(a):{};let s=0;for(let l=0;l<a;l++){const a=n?l:i[l],c=e[a],u=t[a];if(c===u){o[a]=c,(n?l<r:Fp.call(e,a))&&s++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){o[a]=u;continue}const d=zp(c,u);o[a]=d,d===c&&s++}return r===a&&s===r?e:o}function Up(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Vp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $p(e){if(!Bp(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Bp(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Bp(e){return"[object Object]"===Object.prototype.toString.call(e)}function qp(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?zp(e,t):t}function Wp(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Kp(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Hp=Symbol();function Gp(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Hp?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Yp(e,t){return"function"==typeof e?e(...t):!!e}var Qp=new(o=class extends Ep{constructor(){super(),Ne(this,r),Ne(this,i),Ne(this,a),Ie(this,a,e=>{if(!Op&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Ae(this,i)||this.setEventListener(Ae(this,a))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ae(this,i))||e.call(this),Ie(this,i,void 0))}setEventListener(e){var t;Ie(this,a,e),null==(t=Ae(this,i))||t.call(this),Ie(this,i,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){Ae(this,r)!==e&&(Ie(this,r,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof Ae(this,r)?Ae(this,r):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},r=new WeakMap,i=new WeakMap,a=new WeakMap,o);function Zp(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}var Xp=function(e){setTimeout(e,0)};var Jp=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=Xp;const a=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:a=>{let o;t++;try{o=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return o},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),em=new(u=class extends Ep{constructor(){super(),Ne(this,s,!0),Ne(this,l),Ne(this,c),Ie(this,c,e=>{if(!Op&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){Ae(this,l)||this.setEventListener(Ae(this,c))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ae(this,l))||e.call(this),Ie(this,l,void 0))}setEventListener(e){var t;Ie(this,c,e),null==(t=Ae(this,l))||t.call(this),Ie(this,l,e(this.setOnline.bind(this)))}setOnline(e){Ae(this,s)!==e&&(Ie(this,s,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Ae(this,s)}},s=new WeakMap,l=new WeakMap,c=new WeakMap,u);function tm(e){return Math.min(1e3*2**e,3e4)}function nm(e){return"online"!==(e??"online")||em.isOnline()}var rm=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function im(e){let t,n=!1,r=0;const i=Zp(),a=()=>"pending"!==i.status,o=()=>Qp.isFocused()&&("always"===e.networkMode||em.isOnline())&&e.canRun(),s=()=>nm(e.networkMode)&&e.canRun(),l=e=>{a()||(null==t||t(),i.resolve(e))},c=e=>{a()||(null==t||t(),i.reject(e))},u=()=>new Promise(n=>{var r;t=e=>{(a()||o())&&n(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var n;t=void 0,a()||null==(n=e.onContinue)||n.call(e)}),d=()=>{if(a())return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(s){t=Promise.reject(s)}Promise.resolve(t).then(l).catch(t=>{var i;if(a())return;const s=e.retry??(Op?0:3),l=e.retryDelay??tm,h="function"==typeof l?l(r,t):l,f=!0===s||"number"==typeof s&&r<s||"function"==typeof s&&s(r,t);var p;!n&&f?(r++,null==(i=e.onFail)||i.call(e,r,t),(p=h,new Promise(e=>{Cp.setTimeout(e,p)})).then(()=>o()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:i,status:()=>i.status,cancel:t=>{var n;if(!a()){const r=new rm(t);c(r),null==(n=e.onCancel)||n.call(e,r)}},continue:()=>(null==t||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:s,start:()=>(s()?d():u().then(d),i)}}var am=(h=class{constructor(){Ne(this,d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ap(this.gcTime)&&Ie(this,d,Cp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Op?1/0:3e5))}clearGcTimeout(){Ae(this,d)&&(Cp.clearTimeout(Ae(this,d)),Ie(this,d,void 0))}},d=new WeakMap,h),om=(_=class extends am{constructor(e){super(),Ne(this,w),Ne(this,f),Ne(this,p),Ne(this,m),Ne(this,g),Ne(this,y),Ne(this,v),Ne(this,b),Ie(this,b,!1),Ie(this,v,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ie(this,g,e.client),Ie(this,m,Ae(this,g).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ie(this,f,lm(this.options)),this.state=e.state??Ae(this,f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=Ae(this,y))?void 0:e.promise}setOptions(e){if(this.options={...Ae(this,v),...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=lm(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),Ie(this,f,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Ae(this,m).remove(this)}setData(e,t){const n=qp(this.state.data,e,this.options);return je(this,w,x).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){je(this,w,x).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=Ae(this,y))?void 0:t.promise;return null==(n=Ae(this,y))||n.cancel(e),r?r.then(Tp).catch(Tp):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,f))}isActive(){return this.observers.some(e=>!1!==jp(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Ip(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Np(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=Ae(this,y))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=Ae(this,y))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ae(this,m).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Ae(this,y)&&(Ae(this,b)?Ae(this,y).cancel({revert:!0}):Ae(this,y).cancelRetry()),this.scheduleGc()),Ae(this,m).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,w,x).call(this,{type:"invalidate"})}async fetch(e,t){var n,r,i,a,o,s,l,c,u,d,h,f;if("idle"!==this.state.fetchStatus&&"rejected"!==(null==(n=Ae(this,y))?void 0:n.status()))if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,y))return Ae(this,y).continueRetry(),Ae(this,y).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const v=new AbortController,_=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Ie(this,b,!0),v.signal)})},E=()=>{const e=Gp(this.options,t),n=(()=>{const e={client:Ae(this,g),queryKey:this.queryKey,meta:this.meta};return _(e),e})();return Ie(this,b,!1),this.options.persister?this.options.persister(e,n,this):e(n)},S=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Ae(this,g),state:this.state,fetchFn:E};return _(e),e})();null==(r=this.options.behavior)||r.onFetch(S,this),Ie(this,p,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(i=S.fetchOptions)?void 0:i.meta)||je(this,w,x).call(this,{type:"fetch",meta:null==(a=S.fetchOptions)?void 0:a.meta}),Ie(this,y,im({initialPromise:null==t?void 0:t.initialPromise,fn:S.fetchFn,onCancel:e=>{e instanceof rm&&e.revert&&this.setState({...Ae(this,p),fetchStatus:"idle"}),v.abort()},onFail:(e,t)=>{je(this,w,x).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{je(this,w,x).call(this,{type:"pause"})},onContinue:()=>{je(this,w,x).call(this,{type:"continue"})},retry:S.options.retry,retryDelay:S.options.retryDelay,networkMode:S.options.networkMode,canRun:()=>!0}));try{const e=await Ae(this,y).start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),null==(s=(o=Ae(this,m).config).onSuccess)||s.call(o,e,this),null==(c=(l=Ae(this,m).config).onSettled)||c.call(l,e,this.state.error,this),e}catch(k){if(k instanceof rm){if(k.silent)return Ae(this,y).promise;if(k.revert){if(void 0===this.state.data)throw k;return this.state.data}}throw je(this,w,x).call(this,{type:"error",error:k}),null==(d=(u=Ae(this,m).config).onError)||d.call(u,k,this),null==(f=(h=Ae(this,m).config).onSettled)||f.call(h,this.state.data,k,this),k}finally{this.scheduleGc()}}},f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakSet,x=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...sm(t.data,this.options),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,p,e.manual?n:void 0),n;case"error":const r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Jp.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Ae(this,m).notify({query:this,type:"updated",action:e})})},_);function sm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nm(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function lm(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cm=(G=class extends Ep{constructor(e,t){super(),Ne(this,F),Ne(this,E),Ne(this,S),Ne(this,k),Ne(this,C),Ne(this,O),Ne(this,T),Ne(this,A),Ne(this,N),Ne(this,I),Ne(this,j),Ne(this,P),Ne(this,D),Ne(this,M),Ne(this,R),Ne(this,L,new Set),this.options=t,Ie(this,E,e),Ie(this,N,null),Ie(this,A,Zp()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Ae(this,S).addObserver(this),um(Ae(this,S),this.options)?je(this,F,z).call(this):this.updateResult(),je(this,F,B).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dm(Ae(this,S),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dm(Ae(this,S),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,F,q).call(this),je(this,F,W).call(this),Ae(this,S).removeObserver(this)}setOptions(e){const t=this.options,n=Ae(this,S);if(this.options=Ae(this,E).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof jp(this.options.enabled,Ae(this,S)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,F,K).call(this),Ae(this,S).setOptions(this.options),t._defaulted&&!Up(this.options,t)&&Ae(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:Ae(this,S),observer:this});const r=this.hasListeners();r&&hm(Ae(this,S),n,this.options,t)&&je(this,F,z).call(this),this.updateResult(),!r||Ae(this,S)===n&&jp(this.options.enabled,Ae(this,S))===jp(t.enabled,Ae(this,S))&&Ip(this.options.staleTime,Ae(this,S))===Ip(t.staleTime,Ae(this,S))||je(this,F,U).call(this);const i=je(this,F,V).call(this);!r||Ae(this,S)===n&&jp(this.options.enabled,Ae(this,S))===jp(t.enabled,Ae(this,S))&&i===Ae(this,R)||je(this,F,$).call(this,i)}getOptimisticResult(e){const t=Ae(this,E).getQueryCache().build(Ae(this,E),e),n=this.createResult(t,e);return function(e,t){if(!Up(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(Ie(this,C,n),Ie(this,T,this.options),Ie(this,O,Ae(this,S).state)),n}getCurrentResult(){return Ae(this,C)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null==t||t(n),"promise"!==n||this.options.experimental_prefetchInRender||"pending"!==Ae(this,A).status||Ae(this,A).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(e,n))})}trackProp(e){Ae(this,L).add(e)}getCurrentQuery(){return Ae(this,S)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Ae(this,E).defaultQueryOptions(e),n=Ae(this,E).getQueryCache().build(Ae(this,E),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return je(this,F,z).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Ae(this,C)))}createResult(e,t){var n;const r=Ae(this,S),i=this.options,a=Ae(this,C),o=Ae(this,O),s=Ae(this,T),l=e!==r?e.state:Ae(this,k),{state:c}=e;let u,d={...c},h=!1;if(t._optimisticResults){const n=this.hasListeners(),a=!n&&um(e,t),o=n&&hm(e,r,t,i);(a||o)&&(d={...d,...sm(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:m}=d;u=d.data;let g=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===m){let e;(null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==s?void 0:s.placeholderData)?(e=a.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(n=Ae(this,P))?void 0:n.state.data,Ae(this,P)):t.placeholderData,void 0!==e&&(m="success",u=qp(null==a?void 0:a.data,e,t),h=!0)}if(t.select&&void 0!==u&&!g)if(a&&u===(null==o?void 0:o.data)&&t.select===Ae(this,I))u=Ae(this,j);else try{Ie(this,I,t.select),u=t.select(u),u=qp(null==a?void 0:a.data,u,t),Ie(this,j,u),Ie(this,N,null)}catch(E){Ie(this,N,E)}Ae(this,N)&&(f=Ae(this,N),u=Ae(this,j),p=Date.now(),m="error");const y="fetching"===d.fetchStatus,v="pending"===m,b="error"===m,w=v&&y,x=void 0!==u,_={status:m,fetchStatus:d.fetchStatus,isPending:v,isSuccess:"success"===m,isError:b,isInitialLoading:w,isLoading:w,data:u,dataUpdatedAt:d.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!x,isPaused:"paused"===d.fetchStatus,isPlaceholderData:h,isRefetchError:b&&x,isStale:fm(e,t),refetch:this.refetch,promise:Ae(this,A),isEnabled:!1!==jp(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===_.status?e.reject(_.error):void 0!==_.data&&e.resolve(_.data)},n=()=>{const e=Ie(this,A,_.promise=Zp());t(e)},i=Ae(this,A);switch(i.status){case"pending":e.queryHash===r.queryHash&&t(i);break;case"fulfilled":"error"!==_.status&&_.data===i.value||n();break;case"rejected":"error"===_.status&&_.error===i.reason||n()}}return _}updateResult(){const e=Ae(this,C),t=this.createResult(Ae(this,S),this.options);if(Ie(this,O,Ae(this,S).state),Ie(this,T,this.options),void 0!==Ae(this,O).data&&Ie(this,P,Ae(this,S)),Up(t,e))return;Ie(this,C,t);je(this,F,H).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!Ae(this,L).size)return!0;const r=new Set(n??Ae(this,L));return this.options.throwOnError&&r.add("error"),Object.keys(Ae(this,C)).some(t=>{const n=t;return Ae(this,C)[n]!==e[n]&&r.has(n)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,F,B).call(this)}},E=new WeakMap,S=new WeakMap,k=new WeakMap,C=new WeakMap,O=new WeakMap,T=new WeakMap,A=new WeakMap,N=new WeakMap,I=new WeakMap,j=new WeakMap,P=new WeakMap,D=new WeakMap,M=new WeakMap,R=new WeakMap,L=new WeakMap,F=new WeakSet,z=function(e){je(this,F,K).call(this);let t=Ae(this,S).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Tp)),t},U=function(){je(this,F,q).call(this);const e=Ip(this.options.staleTime,Ae(this,S));if(Op||Ae(this,C).isStale||!Ap(e))return;const t=Np(Ae(this,C).dataUpdatedAt,e)+1;Ie(this,D,Cp.setTimeout(()=>{Ae(this,C).isStale||this.updateResult()},t))},V=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(Ae(this,S)):this.options.refetchInterval)??!1},$=function(e){je(this,F,W).call(this),Ie(this,R,e),!Op&&!1!==jp(this.options.enabled,Ae(this,S))&&Ap(Ae(this,R))&&0!==Ae(this,R)&&Ie(this,M,Cp.setInterval(()=>{(this.options.refetchIntervalInBackground||Qp.isFocused())&&je(this,F,z).call(this)},Ae(this,R)))},B=function(){je(this,F,U).call(this),je(this,F,$).call(this,je(this,F,V).call(this))},q=function(){Ae(this,D)&&(Cp.clearTimeout(Ae(this,D)),Ie(this,D,void 0))},W=function(){Ae(this,M)&&(Cp.clearInterval(Ae(this,M)),Ie(this,M,void 0))},K=function(){const e=Ae(this,E).getQueryCache().build(Ae(this,E),this.options);if(e===Ae(this,S))return;const t=Ae(this,S);Ie(this,S,e),Ie(this,k,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},H=function(e){Jp.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Ae(this,C))}),Ae(this,E).getQueryCache().notify({query:Ae(this,S),type:"observerResultsUpdated"})})},G);function um(e,t){return function(e,t){return!1!==jp(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&dm(e,t,t.refetchOnMount)}function dm(e,t,n){if(!1!==jp(t.enabled,e)&&"static"!==Ip(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&fm(e,t)}return!1}function hm(e,t,n,r){return(e!==t||!1===jp(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&fm(e,n)}function fm(e,t){return!1!==jp(t.enabled,e)&&e.isStaleByTime(Ip(t.staleTime,e))}function pm(e){return{onFetch:(t,n)=>{var r,i,a,o,s;const l=t.options,c=null==(a=null==(i=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:i.fetchMore)?void 0:a.direction,u=(null==(o=t.state.data)?void 0:o.pages)||[],d=(null==(s=t.state.data)?void 0:s.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let n=!1;const r=Gp(t.options,t.fetchOptions),i=async(e,i,a)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),s=await r(o),{maxPages:l}=t.options,c=a?Kp:Wp;return{pages:c(e.pages,s,l),pageParams:c(e.pageParams,i,l)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:d},n=(e?gm:mm)(l,t);h=await i(t,n,e)}else{const t=e??u.length;do{const e=0===f?d[0]??l.initialPageParam:mm(l,h);if(f>0&&null==e)break;h=await i(h,e),f++}while(f<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function mm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function gm(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var ym=(te=class extends am{constructor(e){super(),Ne(this,J),Ne(this,Y),Ne(this,Q),Ne(this,Z),Ne(this,X),Ie(this,Y,e.client),this.mutationId=e.mutationId,Ie(this,Z,e.mutationCache),Ie(this,Q,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ae(this,Q).includes(e)||(Ae(this,Q).push(e),this.clearGcTimeout(),Ae(this,Z).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ie(this,Q,Ae(this,Q).filter(t=>t!==e)),this.scheduleGc(),Ae(this,Z).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ae(this,Q).length||("pending"===this.state.status?this.scheduleGc():Ae(this,Z).remove(this))}continue(){var e;return(null==(e=Ae(this,X))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,i,a,o,s,l,c,u,d,h,f,p,m,g,y,v,b,w;const x=()=>{je(this,J,ee).call(this,{type:"continue"})},_={client:Ae(this,Y),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,X,im({fn:()=>this.options.mutationFn?this.options.mutationFn(e,_):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{je(this,J,ee).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{je(this,J,ee).call(this,{type:"pause"})},onContinue:x,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,Z).canRun(this)}));const E="pending"===this.state.status,S=!Ae(this,X).canStart();try{if(E)x();else{je(this,J,ee).call(this,{type:"pending",variables:e,isPaused:S}),await(null==(n=(t=Ae(this,Z).config).onMutate)?void 0:n.call(t,e,this,_));const a=await(null==(i=(r=this.options).onMutate)?void 0:i.call(r,e,_));a!==this.state.context&&je(this,J,ee).call(this,{type:"pending",context:a,variables:e,isPaused:S})}const f=await Ae(this,X).start();return await(null==(o=(a=Ae(this,Z).config).onSuccess)?void 0:o.call(a,f,e,this.state.context,this,_)),await(null==(l=(s=this.options).onSuccess)?void 0:l.call(s,f,e,this.state.context,_)),await(null==(u=(c=Ae(this,Z).config).onSettled)?void 0:u.call(c,f,null,this.state.variables,this.state.context,this,_)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,f,null,e,this.state.context,_)),je(this,J,ee).call(this,{type:"success",data:f}),f}catch(k){try{throw await(null==(p=(f=Ae(this,Z).config).onError)?void 0:p.call(f,k,e,this.state.context,this,_)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,k,e,this.state.context,_)),await(null==(v=(y=Ae(this,Z).config).onSettled)?void 0:v.call(y,void 0,k,this.state.variables,this.state.context,this,_)),await(null==(w=(b=this.options).onSettled)?void 0:w.call(b,void 0,k,e,this.state.context,_)),k}finally{je(this,J,ee).call(this,{type:"error",error:k})}}finally{Ae(this,Z).runNext(this)}}},Y=new WeakMap,Q=new WeakMap,Z=new WeakMap,X=new WeakMap,J=new WeakSet,ee=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Jp.batch(()=>{Ae(this,Q).forEach(t=>{t.onMutationUpdate(e)}),Ae(this,Z).notify({mutation:this,type:"updated",action:e})})},te);var vm=(ae=class extends Ep{constructor(e={}){super(),Ne(this,ne),Ne(this,re),Ne(this,ie),this.config=e,Ie(this,ne,new Set),Ie(this,re,new Map),Ie(this,ie,0)}build(e,t,n){const r=new ym({client:e,mutationCache:this,mutationId:++Pe(this,ie)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){Ae(this,ne).add(e);const t=bm(e);if("string"==typeof t){const n=Ae(this,re).get(t);n?n.push(e):Ae(this,re).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ae(this,ne).delete(e)){const t=bm(e);if("string"==typeof t){const n=Ae(this,re).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Ae(this,re).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=bm(e);if("string"==typeof t){const n=Ae(this,re).get(t),r=null==n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t;const n=bm(e);if("string"==typeof n){const r=null==(t=Ae(this,re).get(n))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){Jp.batch(()=>{Ae(this,ne).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ae(this,ne).clear(),Ae(this,re).clear()})}getAll(){return Array.from(Ae(this,ne))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Dp(t,e))}findAll(e={}){return this.getAll().filter(t=>Dp(e,t))}notify(e){Jp.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Jp.batch(()=>Promise.all(e.map(e=>e.continue().catch(Tp))))}},ne=new WeakMap,re=new WeakMap,ie=new WeakMap,ae);function bm(e){var t;return null==(t=e.options.scope)?void 0:t.id}var wm=(fe=class extends Ep{constructor(e,t){super(),Ne(this,ue),Ne(this,oe),Ne(this,se),Ne(this,le),Ne(this,ce),Ie(this,oe,e),this.setOptions(t),this.bindMethods(),je(this,ue,de).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=Ae(this,oe).defaultMutationOptions(e),Up(this.options,n)||Ae(this,oe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ae(this,le),observer:this}),(null==n?void 0:n.mutationKey)&&this.options.mutationKey&&Rp(n.mutationKey)!==Rp(this.options.mutationKey)?this.reset():"pending"===(null==(t=Ae(this,le))?void 0:t.state.status)&&Ae(this,le).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=Ae(this,le))||e.removeObserver(this)}onMutationUpdate(e){je(this,ue,de).call(this),je(this,ue,he).call(this,e)}getCurrentResult(){return Ae(this,se)}reset(){var e;null==(e=Ae(this,le))||e.removeObserver(this),Ie(this,le,void 0),je(this,ue,de).call(this),je(this,ue,he).call(this)}mutate(e,t){var n;return Ie(this,ce,t),null==(n=Ae(this,le))||n.removeObserver(this),Ie(this,le,Ae(this,oe).getMutationCache().build(Ae(this,oe),this.options)),Ae(this,le).addObserver(this),Ae(this,le).execute(e)}},oe=new WeakMap,se=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakSet,de=function(){var e;const t=(null==(e=Ae(this,le))?void 0:e.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};Ie(this,se,{...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},he=function(e){Jp.batch(()=>{var t,n,r,i,a,o,s,l;if(Ae(this,ce)&&this.hasListeners()){const c=Ae(this,se).variables,u=Ae(this,se).context,d={client:Ae(this,oe),meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===(null==e?void 0:e.type)?(null==(n=(t=Ae(this,ce)).onSuccess)||n.call(t,e.data,c,u,d),null==(i=(r=Ae(this,ce)).onSettled)||i.call(r,e.data,null,c,u,d)):"error"===(null==e?void 0:e.type)&&(null==(o=(a=Ae(this,ce)).onError)||o.call(a,e.error,c,u,d),null==(l=(s=Ae(this,ce)).onSettled)||l.call(s,void 0,e.error,c,u,d))}this.listeners.forEach(e=>{e(Ae(this,se))})})},fe),xm=(me=class extends Ep{constructor(e={}){super(),Ne(this,pe),this.config=e,Ie(this,pe,new Map)}build(e,t,n){const r=t.queryKey,i=t.queryHash??Mp(r,t);let a=this.get(i);return a||(a=new om({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){Ae(this,pe).has(e.queryHash)||(Ae(this,pe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ae(this,pe).get(e.queryHash);t&&(e.destroy(),t===e&&Ae(this,pe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jp.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ae(this,pe).get(e)}getAll(){return[...Ae(this,pe).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Pp(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Pp(e,t)):t}notify(e){Jp.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Jp.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jp.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pe=new WeakMap,me),_m=(Se=class{constructor(e={}){Ne(this,ge),Ne(this,ye),Ne(this,ve),Ne(this,be),Ne(this,we),Ne(this,xe),Ne(this,_e),Ne(this,Ee),Ie(this,ge,e.queryCache||new xm),Ie(this,ye,e.mutationCache||new vm),Ie(this,ve,e.defaultOptions||{}),Ie(this,be,new Map),Ie(this,we,new Map),Ie(this,xe,0)}mount(){Pe(this,xe)._++,1===Ae(this,xe)&&(Ie(this,_e,Qp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,ge).onFocus())})),Ie(this,Ee,em.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ae(this,ge).onOnline())})))}unmount(){var e,t;Pe(this,xe)._--,0===Ae(this,xe)&&(null==(e=Ae(this,_e))||e.call(this),Ie(this,_e,void 0),null==(t=Ae(this,Ee))||t.call(this),Ie(this,Ee,void 0))}isFetching(e){return Ae(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ae(this,ye).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ae(this,ge).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ae(this,ge).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ip(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ae(this,ge).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Ae(this,ge).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0!==a)return Ae(this,ge).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Jp.batch(()=>Ae(this,ge).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ae(this,ge).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=Ae(this,ge);Jp.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=Ae(this,ge);return Jp.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Jp.batch(()=>Ae(this,ge).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(Tp).catch(Tp)}invalidateQueries(e,t={}){return Jp.batch(()=>(Ae(this,ge).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Jp.batch(()=>Ae(this,ge).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Tp)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(Tp)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Ae(this,ge).build(this,t);return n.isStaleByTime(Ip(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tp).catch(Tp)}fetchInfiniteQuery(e){return e.behavior=pm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tp).catch(Tp)}ensureInfiniteQueryData(e){return e.behavior=pm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return em.isOnline()?Ae(this,ye).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,ge)}getMutationCache(){return Ae(this,ye)}getDefaultOptions(){return Ae(this,ve)}setDefaultOptions(e){Ie(this,ve,e)}setQueryDefaults(e,t){Ae(this,be).set(Rp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ae(this,be).values()],n={};return t.forEach(t=>{Lp(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){Ae(this,we).set(Rp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ae(this,we).values()],n={};return t.forEach(t=>{Lp(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ae(this,ve).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Mp(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hp&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...Ae(this,ve).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ae(this,ge).clear(),Ae(this,ye).clear()}},ge=new WeakMap,ye=new WeakMap,ve=new WeakMap,be=new WeakMap,we=new WeakMap,xe=new WeakMap,_e=new WeakMap,Ee=new WeakMap,Se),Em=wt.createContext(void 0),Sm=e=>{const t=wt.useContext(Em);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},km=({client:e,children:t})=>(wt.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Nt.jsx(Em.Provider,{value:e,children:t})),Cm=wt.createContext(!1);Cm.Provider;var Om=wt.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Tm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Am(e,t,n){var r,i,a,o,s;const l=wt.useContext(Cm),c=wt.useContext(Om),u=Sm(),d=u.defaultQueryOptions(e);null==(i=null==(r=u.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||i.call(r,d),d._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(e??t,t),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>n(r(...e)):n(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,c),(e=>{wt.useEffect(()=>{e.clearReset()},[e])})(c);const h=!u.getQueryCache().get(d.queryHash),[f]=wt.useState(()=>new t(u,d)),p=f.getOptimisticResult(d),m=!l&&!1!==e.subscribed;if(wt.useSyncExternalStore(wt.useCallback(e=>{const t=m?f.subscribe(Jp.batchCalls(e)):Tp;return f.updateResult(),t},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),wt.useEffect(()=>{f.setOptions(d)},[d,f]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(d,p))throw Tm(d,f,c);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||Yp(n,[e.error,r])))({result:p,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null==(o=null==(a=u.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||o.call(a,d,p),d.experimental_prefetchInRender&&!Op&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,l)){const e=h?Tm(d,f,c):null==(s=u.getQueryCache().get(d.queryHash))?void 0:s.promise;null==e||e.catch(Tp).finally(()=>{f.updateResult()})}return d.notifyOnChangeProps?p:f.trackResult(p)}function Nm(e,t){return Am(e,cm)}function Im(e,t){const n=Sm(),[r]=wt.useState(()=>new wm(n,e));wt.useEffect(()=>{r.setOptions(e)},[r,e]);const i=wt.useSyncExternalStore(wt.useCallback(e=>r.subscribe(Jp.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=wt.useCallback((e,t)=>{r.mutate(e,t).catch(Tp)},[r]);if(i.error&&Yp(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var jm=e=>"checkbox"===e.type,Pm=e=>e instanceof Date,Dm=e=>null==e;const Mm=e=>"object"==typeof e;var Rm=e=>!Dm(e)&&!Array.isArray(e)&&Mm(e)&&!Pm(e),Lm="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Fm(e){let t;const n=Array.isArray(e),r="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Lm&&(e instanceof Blob||r)||!n&&!Rm(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Rm(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Fm(e[n]));else t=e}return t}var zm=e=>/^\w*$/.test(e),Um=e=>void 0===e,Vm=e=>Array.isArray(e)?e.filter(Boolean):[],$m=e=>Vm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Bm=(e,t,n)=>{if(!t||!Rm(e))return n;const r=(zm(t)?[t]:$m(t)).reduce((e,t)=>Dm(e)?e:e[t],e);return Um(r)||r===e?Um(e[t])?n:e[t]:r},qm=e=>"boolean"==typeof e,Wm=(e,t,n)=>{let r=-1;const i=zm(t)?[t]:$m(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=Rm(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const Km="blur",Hm="focusout",Gm="onBlur",Ym="onChange",Qm="onSubmit",Zm="onTouched",Xm="all",Jm="max",eg="min",tg="maxLength",ng="minLength",rg="pattern",ig="required",ag="validate";xt.createContext(null).displayName="HookFormContext";const og="undefined"!=typeof window?xt.useLayoutEffect:xt.useEffect;var sg=e=>"string"==typeof e,lg=e=>Dm(e)||!Mm(e);function cg(e,t,n=new WeakSet){if(lg(e)||lg(t))return e===t;if(Pm(e)&&Pm(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const r=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=t[a];if(Pm(r)&&Pm(e)||Rm(r)&&Rm(e)||Array.isArray(r)&&Array.isArray(e)?!cg(r,e,n):r!==e)return!1}}return!0}var ug=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},dg=e=>Array.isArray(e)?e:[e],hg=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function fg(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&Rm(i)&&a){const e=fg(i,a);Rm(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var pg=e=>Rm(e)&&!Object.keys(e).length,mg=e=>"file"===e.type,gg=e=>"function"==typeof e,yg=e=>{if(!Lm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vg=e=>"select-multiple"===e.type,bg=e=>"radio"===e.type,wg=e=>yg(e)&&e.isConnected;function xg(e,t){const n=Array.isArray(t)?t:zm(t)?[t]:$m(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Um(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(Rm(r)&&pg(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Um(e[t]))return!1;return!0}(r))&&xg(e,n.slice(0,-1)),e}function _g(e){return Array.isArray(e)||Rm(e)&&!(e=>{for(const t in e)if(gg(e[t]))return!0;return!1})(e)}function Eg(e,t={}){for(const n in e)_g(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Eg(e[n],t[n])):Dm(e[n])||(t[n]=!0);return t}function Sg(e,t,n){n||(n=Eg(t));for(const r in e)_g(e[r])?Um(t)||lg(n[r])?n[r]=Eg(e[r],Array.isArray(e[r])?[]:{}):Sg(e[r],Dm(t)?{}:t[r],n[r]):n[r]=!cg(e[r],t[r]);return n}const kg={value:!1,isValid:!1},Cg={value:!0,isValid:!0};var Og=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Um(e[0].attributes.value)?Um(e[0].value)||""===e[0].value?Cg:{value:e[0].value,isValid:!0}:Cg:kg}return kg},Tg=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Um(e)?e:t?""===e?NaN:e?+e:e:n&&sg(e)?new Date(e):r?r(e):e;const Ag={isValid:!1,value:null};var Ng=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Ag):Ag;function Ig(e){const t=e.ref;return mg(t)?t.files:bg(t)?Ng(e.refs).value:vg(t)?[...t.selectedOptions].map(({value:e})=>e):jm(t)?Og(e.refs).value:Tg(Um(t.value)?e.ref.value:t.value,e)}var jg=e=>e instanceof RegExp,Pg=e=>Um(e)?e:jg(e)?e.source:Rm(e)?jg(e.value)?e.value.source:e.value:e,Dg=e=>({isOnSubmit:!e||e===Qm,isOnBlur:e===Gm,isOnChange:e===Ym,isOnAll:e===Xm,isOnTouch:e===Zm});const Mg="AsyncFunction";var Rg=e=>!!e&&!!e.validate&&!!(gg(e.validate)&&e.validate.constructor.name===Mg||Rm(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Mg)),Lg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Fg=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=Bm(e,i);if(n){const{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Fg(a,t))break}else if(Rm(a)&&Fg(a,t))break}}};function zg(e,t,n){const r=Bm(e,n);if(r||zm(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=Bm(t,r),o=Bm(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var Ug=(e,t,n)=>{const r=dg(Bm(e,n));return Wm(r,"root",t[n]),Wm(e,n,r),e};function Vg(e,t,n="validate"){if(sg(e)||Array.isArray(e)&&e.every(sg)||qm(e)&&!e)return{type:n,message:sg(e)?e:"",ref:t}}var $g=e=>Rm(e)&&!jg(e)?e:{value:e,message:""},Bg=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:y}=e._f,v=Bm(n,m);if(!y||t.has(m))return{};const b=s?s[0]:o,w=e=>{i&&b.reportValidity&&(b.setCustomValidity(qm(e)?"":e||""),b.reportValidity())},x={},_=bg(o),E=jm(o),S=_||E,k=(g||mg(o))&&Um(o.value)&&Um(v)||yg(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,C=ug.bind(null,m,r,x),O=(e,t,n,r=tg,i=ng)=>{const a=e?t:n;x[m]={type:e?r:i,message:a,ref:o,...C(e?r:i,a)}};if(a?!Array.isArray(v)||!v.length:l&&(!S&&(k||Dm(v))||qm(v)&&!v||E&&!Og(s).isValid||_&&!Ng(s).isValid)){const{value:e,message:t}=sg(l)?{value:!!l,message:l}:$g(l);if(e&&(x[m]={type:ig,message:t,ref:b,...C(ig,t)},!r))return w(t),x}if(!(k||Dm(d)&&Dm(h))){let e,t;const n=$g(h),i=$g(d);if(Dm(v)||isNaN(v)){const r=o.valueAsDate||new Date(v),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;sg(n.value)&&v&&(e=s?a(v)>a(n.value):l?v>n.value:r>new Date(n.value)),sg(i.value)&&v&&(t=s?a(v)<a(i.value):l?v<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(v?+v:v);Dm(n.value)||(e=r>n.value),Dm(i.value)||(t=r<i.value)}if((e||t)&&(O(!!e,n.message,i.message,Jm,eg),!r))return w(x[m].message),x}if((c||u)&&!k&&(sg(v)||a&&Array.isArray(v))){const e=$g(c),t=$g(u),n=!Dm(e.value)&&v.length>+e.value,i=!Dm(t.value)&&v.length<+t.value;if((n||i)&&(O(n,e.message,t.message),!r))return w(x[m].message),x}if(f&&!k&&sg(v)){const{value:e,message:t}=$g(f);if(jg(e)&&!v.match(e)&&(x[m]={type:rg,message:t,ref:o,...C(rg,t)},!r))return w(t),x}if(p)if(gg(p)){const e=Vg(await p(v,n),b);if(e&&(x[m]={...e,...C(ag,e.message)},!r))return w(e.message),x}else if(Rm(p)){let e={};for(const t in p){if(!pg(e)&&!r)break;const i=Vg(await p[t](v,n),b,t);i&&(e={...i,...C(t,i.message)},w(i.message),r&&(x[m]=e))}if(!pg(e)&&(x[m]={ref:b,...e},!r))return x}return w(!0),x};const qg={mode:Qm,reValidateMode:Ym,shouldFocusError:!0};function Wg(e={}){let t,n={...qg,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:gg(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(Rm(n.defaultValues)||Rm(n.values))&&Fm(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:Fm(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:hg(),state:hg()},f=n.criteriaMode===Xm,p=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?pg((await b()).errors):await w(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},m=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?Wm(r.validatingFields,e,t):xg(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!pg(r.validatingFields)}))},g=(e,t,n,r)=>{const l=Bm(i,e);if(l){const i=Bm(o,e,Um(n)?Bm(a,e):n);Um(i)||r&&r.defaultChecked||t?Wm(o,e,t?i:Ig(l._f)):E(e,i),s.mount&&p()}},y=(e,t,i,o,s)=>{let l=!1,c=!1;const f={name:e};if(!n.disabled){if(!i||o){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=f.isDirty=x(),l=c!==f.isDirty);const n=cg(Bm(a,e),t);c=!!Bm(r.dirtyFields,e),n?xg(r.dirtyFields,e):Wm(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(i){const t=Bm(r.touchedFields,e);t||(Wm(r.touchedFields,e,i),f.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==i)}l&&s&&h.state.next(f)}return l?f:{}},v=(e,i,a,o)=>{const s=Bm(r.errors,e),l=(u.isValid||d.isValid)&&qm(i)&&r.isValid!==i;var f;if(n.delayError&&a?(f=()=>((e,t)=>{Wm(r.errors,e,t),h.state.next({errors:r.errors})})(e,a),t=e=>{clearTimeout(c),c=setTimeout(f,e)},t(n.delayError)):(clearTimeout(c),t=null,a?Wm(r.errors,e,a):xg(r.errors,e)),(a?!cg(s,a):s)||!pg(o)||l){const t={...o,...l&&qm(i)?{isValid:i}:{},errors:r.errors,name:e};r={...r,...t},h.state.next(t)}},b=async e=>{m(e,!0);const t=await n.resolver(o,n.context,((e,t,n,r)=>{const i={};for(const a of e){const e=Bm(t,a);e&&Wm(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return m(e),t},w=async(e,t,i={valid:!0})=>{for(const a in e){const s=e[a];if(s){const{_f:e,...a}=s;if(e){const a=l.array.has(e.name),c=s._f&&Rg(s._f);c&&u.validatingFields&&m([e.name],!0);const d=await Bg(s,l.disabled,o,f,n.shouldUseNativeValidation&&!t,a);if(c&&u.validatingFields&&m([e.name]),d[e.name]&&(i.valid=!1,t))break;!t&&(Bm(d,e.name)?a?Ug(r.errors,d,e.name):Wm(r.errors,e.name,d[e.name]):xg(r.errors,e.name))}!pg(a)&&await w(a,t,i)}}return i.valid},x=(e,t)=>!n.disabled&&(e&&t&&Wm(o,e,t),!cg(A(),a)),_=(e,t,n)=>((e,t,n,r,i)=>sg(e)?(r&&t.watch.add(e),Bm(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),Bm(n,e))):(r&&(t.watchAll=!0),n))(e,l,{...s.mount?o:Um(t)?a:sg(e)?{[e]:t}:t},n,t),E=(e,t,n={})=>{const r=Bm(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&Wm(o,e,Tg(t,n)),a=yg(n.ref)&&Dm(t)?"":t,vg(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?jm(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):mg(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||h.state.next({name:e,values:Fm(o)})))}(n.shouldDirty||n.shouldTouch)&&y(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},S=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const a=t[r],o=e+"."+r,s=Bm(i,o);(l.array.has(e)||Rm(a)||s&&!s._f)&&!Pm(a)?S(o,a,n):E(o,a,n)}},k=(e,t,n={})=>{const c=Bm(i,e),f=l.array.has(e),p=Fm(t);Wm(o,e,p),f?(h.array.next({name:e,values:Fm(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:Sg(a,o),isDirty:x(e,p)})):!c||c._f||Dm(p)?E(e,p,n):S(e,p,n),Lg(e,l)&&h.state.next({...r,name:e}),h.state.next({name:s.mount?e:void 0,values:Fm(o)})},C=async e=>{s.mount=!0;const a=e.target;let c=a.name,g=!0;const x=Bm(i,c),_=e=>{g=Number.isNaN(e)||Pm(e)&&isNaN(e.getTime())||cg(e,Bm(o,c,e))},E=Dg(n.mode),S=Dg(n.reValidateMode);if(x){let s,k;const C=a.type?Ig(x._f):(e=>Rm(e)&&e.target?jm(e.target)?e.target.checked:e.target.value:e)(e),O=e.type===Km||e.type===Hm,A=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(x._f)&&!n.resolver&&!Bm(r.errors,c)&&!x._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(O,Bm(r.touchedFields,c),r.isSubmitted,S,E),N=Lg(c,l,O);Wm(o,c,C),O?a&&a.readOnly||(x._f.onBlur&&x._f.onBlur(e),t&&t(0)):x._f.onChange&&x._f.onChange(e);const I=y(c,C,O),j=!pg(I)||N;if(!O&&h.state.next({name:c,type:e.type,values:Fm(o)}),A)return(u.isValid||d.isValid)&&("onBlur"===n.mode?O&&p():O||p()),j&&h.state.next({name:c,...N?{}:I});if(!O&&N&&h.state.next({...r}),n.resolver){const{errors:e}=await b([c]);if(_(C),g){const t=zg(r.errors,i,c),n=zg(e,i,t.name||c);s=n.error,c=n.name,k=pg(e)}}else m([c],!0),s=(await Bg(x,l.disabled,o,f,n.shouldUseNativeValidation))[c],m([c]),_(C),g&&(s?k=!1:(u.isValid||d.isValid)&&(k=await w(i,!0)));g&&(x._f.deps&&(!Array.isArray(x._f.deps)||x._f.deps.length>0)&&T(x._f.deps),v(c,k,s,I))}},O=(e,t)=>{if(Bm(r.errors,t)&&e.focus)return e.focus(),1},T=async(e,t={})=>{let a,o;const s=dg(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=Bm(t,n);e?Wm(r.errors,n,e):xg(r.errors,n)}else r.errors=t;return t})(Um(e)?e:s);a=pg(t),o=e?!s.some(e=>Bm(t,e)):a}else e?(o=(await Promise.all(s.map(async e=>{const t=Bm(i,e);return await w(t&&t._f?{[e]:t}:t)}))).every(Boolean),(o||r.isValid)&&p()):o=a=await w(i);return h.state.next({...!sg(e)||(u.isValid||d.isValid)&&a!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:a}:{},errors:r.errors}),t.shouldFocus&&!o&&Fg(i,O,e?s:l.mount),o},A=(e,t)=>{let n={...s.mount?o:a};return t&&(n=fg(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),Um(e)?n:sg(e)?Bm(n,e):e.map(e=>Bm(n,e))},N=(e,t)=>({invalid:!!Bm((t||r).errors,e),isDirty:!!Bm((t||r).dirtyFields,e),error:Bm((t||r).errors,e),isValidating:!!Bm(r.validatingFields,e),isTouched:!!Bm((t||r).touchedFields,e)}),I=(e,t,n)=>{const a=(Bm(i,e,{_f:{}})._f||{}).ref,o=Bm(r.errors,e)||{},{ref:s,message:l,type:c,...u}=o;Wm(r.errors,e,{...u,...t,ref:a}),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},j=e=>h.state.subscribe({next:t=>{var n,i,s;n=e.name,i=t.name,s=e.exact,n&&i&&n!==i&&!dg(n).some(e=>e&&(s?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i,...a}=e;return pg(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||Xm))})(t,e.formState||u,U,e.reRenderRoot)||e.callback({values:{...o},...r,...t,defaultValues:a})}}).unsubscribe,P=(e,t={})=>{for(const s of e?dg(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(xg(i,s),xg(o,s)),!t.keepError&&xg(r.errors,s),!t.keepDirty&&xg(r.dirtyFields,s),!t.keepTouched&&xg(r.touchedFields,s),!t.keepIsValidating&&xg(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&xg(a,s);h.state.next({values:Fm(o)}),h.state.next({...r,...t.keepDirty?{isDirty:x()}:{}}),!t.keepIsValid&&p()},D=({disabled:e,name:t})=>{(qm(e)&&s.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},M=(e,t={})=>{let r=Bm(i,e);const o=qm(t.disabled)||qm(n.disabled);return Wm(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?D({disabled:qm(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),{...o?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:Pg(t.min),max:Pg(t.max),minLength:Pg(t.minLength),maxLength:Pg(t.maxLength),pattern:Pg(t.pattern)}:{},name:e,onChange:C,onBlur:C,ref:o=>{if(o){M(e,t),r=Bm(i,e);const n=Um(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=(e=>bg(e)||jm(e))(n),l=r._f.refs||[];if(s?l.find(e=>e===n):n===r._f.ref)return;Wm(i,e,{_f:{...r._f,...s?{refs:[...l.filter(wg),n,...Array.isArray(Bm(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else r=Bm(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!s.action)&&l.unMount.add(e)}}},R=()=>n.shouldFocusError&&Fg(i,O,l.mount),L=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Fm(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();r.errors=e,c=Fm(t)}else await w(i);if(l.disabled.size)for(const e of l.disabled)xg(c,e);if(xg(r.errors,"root"),pg(r.errors)){h.state.next({errors:{}});try{await e(c,a)}catch(u){s=u}}else t&&await t({...r.errors},a),R(),setTimeout(R);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pg(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},F=(e,t={})=>{const c=e?Fm(e):a,d=Fm(c),f=pg(e),p=f?a:d;if(t.keepDefaultValues||(a=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Sg(a,o))]);for(const t of Array.from(e))Bm(r.dirtyFields,t)?Wm(p,t,Bm(o,t)):k(t,Bm(p,t))}else{if(Lm&&Um(e))for(const e of l.mount){const t=Bm(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(yg(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)k(e,Bm(p,e));else i={}}o=n.shouldUnregister?t.keepDefaultValues?Fm(a):{}:Fm(p),h.array.next({values:{...p}}),h.state.next({values:{...p}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,s.watch=!!n.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!f&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||cg(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&o?Sg(a,o):r.dirtyFields:t.keepDefaultValues&&e?Sg(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},z=(e,t)=>F(gg(e)?e(o):e,t),U=e=>{r={...r,...e}},V={control:{register:M,unregister:P,getFieldState:N,handleSubmit:L,setError:I,_subscribe:j,_runSchema:b,_focusError:R,_getWatch:_,_getDirty:x,_setValid:p,_setFieldArray:(e,t=[],l,c,f=!0,p=!0)=>{if(c&&l&&!n.disabled){if(s.action=!0,p&&Array.isArray(Bm(i,e))){const t=l(Bm(i,e),c.argA,c.argB);f&&Wm(i,e,t)}if(p&&Array.isArray(Bm(r.errors,e))){const t=l(Bm(r.errors,e),c.argA,c.argB);f&&Wm(r.errors,e,t),((e,t)=>{!Vm(Bm(e,t)).length&&xg(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(Bm(r.touchedFields,e))){const t=l(Bm(r.touchedFields,e),c.argA,c.argB);f&&Wm(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Sg(a,o)),h.state.next({name:e,isDirty:x(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wm(o,e,t)},_setDisabledField:D,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Vm(Bm(s.mount?o:a,e,n.shouldUnregister?Bm(a,e,[]):[])),_reset:F,_resetDefaultValues:()=>gg(n.defaultValues)&&n.defaultValues().then(e=>{z(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=Bm(i,e);t&&(t._f.refs?t._f.refs.every(e=>!wg(e)):!wg(t._f.ref))&&P(e)}l.unMount=new Set},_disableForm:e=>{qm(e)&&(h.state.next({disabled:e}),Fg(i,(t,n)=>{const r=Bm(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(s.mount=!0,d={...d,...e.formState},j({...e,formState:d})),trigger:T,register:M,handleSubmit:L,watch:(e,t)=>gg(e)?h.state.subscribe({next:n=>"values"in n&&e(_(void 0,t),n)}):_(e,t,!0),setValue:k,getValues:A,reset:z,resetField:(e,t={})=>{Bm(i,e)&&(Um(t.defaultValue)?k(e,Fm(Bm(a,e))):(k(e,t.defaultValue),Wm(a,e,Fm(t.defaultValue))),t.keepTouched||xg(r.touchedFields,e),t.keepDirty||(xg(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,Fm(Bm(a,e))):x()),t.keepError||(xg(r.errors,e),u.isValid&&p()),h.state.next({...r}))},clearErrors:e=>{e&&dg(e).forEach(e=>xg(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:P,setError:I,setFocus:(e,t={})=>{const n=Bm(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&gg(e.select)&&e.select())}},getFieldState:N};return{...V,formControl:V}}function Kg(e={}){const t=xt.useRef(void 0),n=xt.useRef(void 0),[r,i]=xt.useState({isDirty:!1,isValidating:!1,isLoading:gg(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:gg(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!gg(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...i}=Wg(e);t.current={...i,formState:r}}const a=t.current.control;return a._options=e,og(()=>{const e=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),xt.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),xt.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),xt.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),xt.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),xt.useEffect(()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),xt.useEffect(()=>{e.values&&!cg(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(e=>({...e}))):a._resetDefaultValues()},[a,e.values]),xt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=((e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const n=a;return t._proxyFormState[n]!==Xm&&(t._proxyFormState[n]=!r||Xm),e[n]}});return i})(r,a),t.current}const Hg=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Bm(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Gg=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Hg(r.ref,n,e):r&&r.refs&&r.refs.forEach(t=>Hg(t,n,e))}},Yg=(e,t)=>{t.shouldUseNativeValidation&&Gg(e,t);const n={};for(const r in e){const i=Bm(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Qg(t.names||Object.keys(e),r)){const e=Object.assign({},Bm(n,r));Wm(e,"root",a),Wm(n,r,e)}else Wm(n,r,a)}return n},Qg=(e,t)=>{const n=Zg(t);return e.some(e=>Zg(e).match(`^${n}\\.\\d+`))};function Zg(e){return e.replace(/\]|\[/g,"")}function Xg(e,t,n){function r(n,r){var i;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(i=n._zod).traits??(i.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in o.prototype)e in n||Object.defineProperty(n,e,{value:o.prototype[e].bind(n)});n._zod.constr=o,n._zod.def=r}const i=(null==n?void 0:n.Parent)??Object;class a extends i{}function o(e){var t;const i=(null==n?void 0:n.Parent)?new a:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const n of i._zod.deferred)n();return i}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>{var r,i;return!!((null==n?void 0:n.Parent)&&t instanceof n.Parent)||(null==(i=null==(r=null==t?void 0:t._zod)?void 0:r.traits)?void 0:i.has(e))}}),Object.defineProperty(o,"name",{value:e}),o}class Jg extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ey extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const ty={};function ny(e){return ty}function ry(e,t){return"bigint"==typeof t?t.toString():t}function iy(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ay(e){return null==e}function oy(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const sy=Symbol("evaluating");function ly(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==sy)return void 0===r&&(r=sy,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function cy(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function uy(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function dy(e){return JSON.stringify(e)}const hy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function fy(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const py=iy(()=>{var e;if("undefined"!=typeof navigator&&(null==(e=null==navigator?void 0:navigator.userAgent)?void 0:e.includes("Cloudflare")))return!1;try{return new Function(""),!0}catch(t){return!1}});function my(e){if(!1===fy(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==fy(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function gy(e){return my(e)?{...e}:Array.isArray(e)?[...e]:e}const yy=new Set(["string","number","symbol"]);function vy(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function by(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!(null==n?void 0:n.parent)||(r._zod.parent=e),r}function wy(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==(null==t?void 0:t.message)){if(void 0!==(null==t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}const xy={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function _y(e,t=0){var n;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(!0!==(null==(n=e.issues[r])?void 0:n.continue))return!0;return!1}function Ey(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Sy(e){return"string"==typeof e?e:null==e?void 0:e.message}function ky(e,t,n){var r,i,a,o,s,l;const c={...e,path:e.path??[]};if(!e.message){const u=Sy(null==(a=null==(i=null==(r=e.inst)?void 0:r._zod.def)?void 0:i.error)?void 0:a.call(i,e))??Sy(null==(o=null==t?void 0:t.error)?void 0:o.call(t,e))??Sy(null==(s=n.customError)?void 0:s.call(n,e))??Sy(null==(l=n.localeError)?void 0:l.call(n,e))??"Invalid input";c.message=u}return delete c.inst,delete c.continue,(null==t?void 0:t.reportInput)||delete c.input,c}function Cy(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Oy(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const Ty=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ry,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ay=Xg("$ZodError",Ty),Ny=Xg("$ZodError",Ty,{Parent:Error});const Iy=e=>(t,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Jg;if(o.issues.length){const t=new((null==i?void 0:i.Err)??e)(o.issues.map(e=>ky(e,a,ny())));throw hy(t,null==i?void 0:i.callee),t}return o.value},jy=Iy(Ny),Py=e=>async(t,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const t=new((null==i?void 0:i.Err)??e)(o.issues.map(e=>ky(e,a,ny())));throw hy(t,null==i?void 0:i.callee),t}return o.value},Dy=Py(Ny),My=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new Jg;return a.issues.length?{success:!1,error:new(e??Ay)(a.issues.map(e=>ky(e,i,ny())))}:{success:!0,data:a.value}},Ry=My(Ny),Ly=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>ky(e,i,ny())))}:{success:!0,data:a.value}},Fy=Ly(Ny),zy=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Iy(e)(t,n,i)},Uy=e=>(t,n,r)=>Iy(e)(t,n,r),Vy=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Py(e)(t,n,i)},$y=e=>async(t,n,r)=>Py(e)(t,n,r),By=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return My(e)(t,n,i)},qy=e=>(t,n,r)=>My(e)(t,n,r),Wy=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ly(e)(t,n,i)},Ky=e=>async(t,n,r)=>Ly(e)(t,n,r),Hy=/^[cC][^\s-]{8,}$/,Gy=/^[0-9a-z]+$/,Yy=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Qy=/^[0-9a-vA-V]{20}$/,Zy=/^[A-Za-z0-9]{27}$/,Xy=/^[a-zA-Z0-9_-]{21}$/,Jy=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ev=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,tv=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,nv=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const rv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,av=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ov=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sv=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lv=/^[A-Za-z0-9_-]*$/,cv=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,uv=/^\+(?:[0-9]){6,14}[0-9]$/,dv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",hv=new RegExp(`^${dv}$`);function fv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const pv=/^-?\d+$/,mv=/^-?\d+(?:\.\d+)?/,gv=/^[^A-Z]*$/,yv=/^[^a-z]*$/,vv=Xg("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),bv={number:"number",bigint:"bigint",object:"date"},wv=Xg("$ZodCheckLessThan",(e,t)=>{vv.init(e,t);const n=bv[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),xv=Xg("$ZodCheckGreaterThan",(e,t)=>{vv.init(e,t);const n=bv[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_v=Xg("$ZodCheckMultipleOf",(e,t)=>{vv.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);(null==e?void 0:e[1])&&(i=Number.parseInt(e[1]))}const a=n>i?n:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Ev=Xg("$ZodCheckNumberFormat",(e,t)=>{var n;vv.init(e,t),t.format=t.format||"float64";const r=null==(n=t.format)?void 0:n.includes("int"),i=r?"int":"number",[a,o]=xy[t.format];e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,n.minimum=a,n.maximum=o,r&&(n.pattern=pv)}),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<a&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>o&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:o,inst:e})}}),Sv=Xg("$ZodCheckMaxLength",(e,t)=>{var n;vv.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ay(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Cy(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),kv=Xg("$ZodCheckMinLength",(e,t)=>{var n;vv.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ay(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Cy(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Cv=Xg("$ZodCheckLengthEquals",(e,t)=>{var n;vv.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!ay(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const a=Cy(r),o=i>t.length;n.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Ov=Xg("$ZodCheckStringFormat",(e,t)=>{var n,r;vv.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Tv=Xg("$ZodCheckRegex",(e,t)=>{Ov.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Av=Xg("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=gv),Ov.init(e,t)}),Nv=Xg("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=yv),Ov.init(e,t)}),Iv=Xg("$ZodCheckIncludes",(e,t)=>{vv.init(e,t);const n=vy(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),jv=Xg("$ZodCheckStartsWith",(e,t)=>{vv.init(e,t);const n=new RegExp(`^${vy(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Pv=Xg("$ZodCheckEndsWith",(e,t)=>{vv.init(e,t);const n=new RegExp(`.*${vy(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Dv=Xg("$ZodCheckOverwrite",(e,t)=>{vv.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Mv{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const i of r)this.content.push(i)}compile(){return new Function(...null==this?void 0:this.args,[...((null==this?void 0:this.content)??[""]).map(e=>`  ${e}`)].join("\n"))}}const Rv={major:4,minor:1,patch:11},Lv=Xg("$ZodType",(e,t)=>{var n,r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Rv;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const a of i)for(const t of a._zod.onattach)t(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),null==(n=e._zod.deferred)||n.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=_y(e);for(const a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&!1===(null==n?void 0:n.async))throw new Jg;if(r||o instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await o;e.issues.length!==t&&(i||(i=_y(e,t)))});else{if(e.issues.length===t)continue;i||(i=_y(e,t))}}return r?r.then(()=>e):e},n=(n,r,a)=>{if(_y(n))return n.aborted=!0,n;const o=t(r,i,a);if(o instanceof Promise){if(!1===a.async)throw new Jg;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(r,a)=>{if(a.skipChecks)return e._zod.parse(r,a);if("backward"===a.direction){const t=e._zod.parse({value:r.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,r,a)):n(t,r,a)}const o=e._zod.parse(r,a);if(o instanceof Promise){if(!1===a.async)throw new Jg;return o.then(e=>t(e,i,a))}return t(o,i,a)}}e["~standard"]={validate:t=>{var n;try{const r=Ry(e,t);return r.success?{value:r.data}:{issues:null==(n=r.error)?void 0:n.issues}}catch(r){return Fy(e,t).then(e=>{var t;return e.success?{value:e.data}:{issues:null==(t=e.error)?void 0:t.issues}})}},vendor:"zod",version:1}}),Fv=Xg("$ZodString",(e,t)=>{var n;Lv.init(e,t),e._zod.pattern=[...(null==(n=null==e?void 0:e._zod.bag)?void 0:n.patterns)??[]].pop()??(e=>{const t=e?`[\\s\\S]{${(null==e?void 0:e.minimum)??0},${(null==e?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)})(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(i){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),zv=Xg("$ZodStringFormat",(e,t)=>{Ov.init(e,t),Fv.init(e,t)}),Uv=Xg("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=ev),zv.init(e,t)}),Vv=Xg("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=tv(e))}else t.pattern??(t.pattern=tv());zv.init(e,t)}),$v=Xg("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nv),zv.init(e,t)}),Bv=Xg("$ZodURL",(e,t)=>{zv.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:cv.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=r)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),qv=Xg("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),zv.init(e,t)}),Wv=Xg("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Xy),zv.init(e,t)}),Kv=Xg("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Hy),zv.init(e,t)}),Hv=Xg("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Gy),zv.init(e,t)}),Gv=Xg("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Yy),zv.init(e,t)}),Yv=Xg("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Qy),zv.init(e,t)}),Qv=Xg("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Zy),zv.init(e,t)}),Zv=Xg("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){const t=fv({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${dv}T(?:${r})$`)}(t)),zv.init(e,t)}),Xv=Xg("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=hv),zv.init(e,t)}),Jv=Xg("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${fv(t)}$`)),zv.init(e,t)}),eb=Xg("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Jy),zv.init(e,t)}),tb=Xg("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=rv),zv.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),nb=Xg("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=iv),zv.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),rb=Xg("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=av),zv.init(e,t)}),ib=Xg("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=ov),zv.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(2!==r.length)throw new Error;const[e,t]=r;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ab(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const ob=Xg("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=sv),zv.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{ab(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});const sb=Xg("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=lv),zv.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{(function(e){if(!lv.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return ab(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),lb=Xg("$ZodE164",(e,t)=>{t.pattern??(t.pattern=uv),zv.init(e,t)});const cb=Xg("$ZodJWT",(e,t)=>{zv.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&"JWT"!==(null==i?void 0:i.typ)||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),ub=Xg("$ZodNumber",(e,t)=>{Lv.init(e,t),e._zod.pattern=e._zod.bag.pattern??mv,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(o){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),n}}),db=Xg("$ZodNumber",(e,t)=>{Ev.init(e,t),ub.init(e,t)}),hb=Xg("$ZodUnknown",(e,t)=>{Lv.init(e,t),e._zod.parse=e=>e}),fb=Xg("$ZodNever",(e,t)=>{Lv.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),pb=Xg("$ZodDate",(e,t)=>{Lv.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(o){}const i=n.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:e}),n}});function mb(e,t,n){e.issues.length&&t.issues.push(...Ey(n,e.issues)),t.value[n]=e.value}const gb=Xg("$ZodArray",(e,t)=>{Lv.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const a=[];for(let e=0;e<i.length;e++){const o=i[e],s=t.element._zod.run({value:o,issues:[]},r);s instanceof Promise?a.push(s.then(t=>mb(t,n,e))):mb(s,n,e)}return a.length?Promise.all(a).then(()=>n):n}});function yb(e,t,n,r){e.issues.length&&t.issues.push(...Ey(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function vb(e){var t,n,r,i;const a=Object.keys(e.shape);for(const l of a)if(!(null==(i=null==(r=null==(n=null==(t=e.shape)?void 0:t[l])?void 0:n._zod)?void 0:r.traits)?void 0:i.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const o=(s=e.shape,Object.keys(s).filter(e=>"optional"===s[e]._zod.optin&&"optional"===s[e]._zod.optout));var s;return{...e,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(o)}}function bb(e,t,n,r,i,a){const o=[],s=i.keySet,l=i.catchall._zod,c=l.def.type;for(const u of Object.keys(t)){if(s.has(u))continue;if("never"===c){o.push(u);continue}const i=l.run({value:t[u],issues:[]},r);i instanceof Promise?e.push(i.then(e=>yb(e,n,u,t))):yb(i,n,u,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const wb=Xg("$ZodObject",(e,t)=>{Lv.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(null==n?void 0:n.get)){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=iy(()=>vb(t));ly(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const i=fy,a=t.catchall;let o;e._zod.parse=(t,n)=>{o??(o=r.value);const s=t.value;if(!i(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};const l=[],c=o.shape;for(const e of o.keys){const r=c[e]._zod.run({value:s[e],issues:[]},n);r instanceof Promise?l.push(r.then(n=>yb(n,t,e,s))):yb(r,t,e,s)}return a?bb(l,s,t,n,r.value,e):l.length?Promise.all(l).then(()=>t):t}}),xb=Xg("$ZodObjectJIT",(e,t)=>{wb.init(e,t);const n=e._zod.parse,r=iy(()=>vb(t));let i;const a=fy,o=!ty.jitless,s=o&&py.value,l=t.catchall;let c;e._zod.parse=(u,d)=>{c??(c=r.value);const h=u.value;return a(h)?o&&s&&!1===(null==d?void 0:d.async)&&!0!==d.jitless?(i||(i=(e=>{const t=new Mv(["shape","payload","ctx"]),n=r.value,i=e=>{const t=dy(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const a=Object.create(null);let o=0;for(const r of n.keys)a[r]="key_"+o++;t.write("const newResult = {};");for(const r of n.keys){const e=a[r],n=dy(r);t.write(`const ${e} = ${i(r)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${n}, ...iss.path] : [${n}]\n          })));\n        }\n        \n        \n        if (${e}.value === undefined) {\n          if (${n} in input) {\n            newResult[${n}] = undefined;\n          }\n        } else {\n          newResult[${n}] = ${e}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),u=i(u,d),l?bb([],h,u,d,c,e):u):n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),u)}});function _b(e,t,n,r){for(const a of e)if(0===a.issues.length)return t.value=a.value,t;const i=e.filter(e=>!_y(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>ky(e,r,ny())))}),t)}const Eb=Xg("$ZodUnion",(e,t)=>{Lv.init(e,t),ly(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ly(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ly(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ly(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>oy(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(n)return r(i,a);let o=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(0===t.issues.length)return t;s.push(t)}}return o?Promise.all(s).then(t=>_b(t,i,e,a)):_b(s,i,e,a)}}),Sb=Xg("$ZodIntersection",(e,t)=>{Lv.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),a=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,n])=>Cb(e,t,n)):Cb(e,i,a)}});function kb(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(my(e)&&my(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const a of r){const n=kb(e[a],t[a]);if(!n.valid)return{valid:!1,mergeErrorPath:[a,...n.mergeErrorPath]};i[a]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=kb(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Cb(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),_y(e))return e;const r=kb(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Ob=Xg("$ZodEnum",(e,t)=>{Lv.init(e,t);const n=function(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>yy.has(typeof e)).map(e=>"string"==typeof e?vy(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{const a=t.value;return r.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}}),Tb=Xg("$ZodTransform",(e,t)=>{Lv.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new ey(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new Jg;return n.value=i,n}});function Ab(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Nb=Xg("$ZodOptional",(e,t)=>{Lv.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ly(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ly(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${oy(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Ab(t,e.value)):Ab(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Ib=Xg("$ZodNullable",(e,t)=>{Lv.init(e,t),ly(e._zod,"optin",()=>t.innerType._zod.optin),ly(e._zod,"optout",()=>t.innerType._zod.optout),ly(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${oy(e.source)}|null)$`):void 0}),ly(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),jb=Xg("$ZodDefault",(e,t)=>{Lv.init(e,t),e._zod.optin="optional",ly(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Pb(e,t)):Pb(r,t)}});function Pb(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Db=Xg("$ZodPrefault",(e,t)=>{Lv.init(e,t),e._zod.optin="optional",ly(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Mb=Xg("$ZodNonOptional",(e,t)=>{Lv.init(e,t),ly(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>Rb(t,e)):Rb(i,e)}});function Rb(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Lb=Xg("$ZodCatch",(e,t)=>{Lv.init(e,t),ly(e._zod,"optin",()=>t.innerType._zod.optin),ly(e._zod,"optout",()=>t.innerType._zod.optout),ly(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>ky(e,n,ny()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>ky(e,n,ny()))},input:e.value}),e.issues=[]),e)}}),Fb=Xg("$ZodPipe",(e,t)=>{Lv.init(e,t),ly(e._zod,"values",()=>t.in._zod.values),ly(e._zod,"optin",()=>t.in._zod.optin),ly(e._zod,"optout",()=>t.out._zod.optout),ly(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>zb(e,t.in,n)):zb(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>zb(e,t.out,n)):zb(r,t.out,n)}});function zb(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Ub=Xg("$ZodReadonly",(e,t)=>{Lv.init(e,t),ly(e._zod,"propValues",()=>t.innerType._zod.propValues),ly(e._zod,"values",()=>t.innerType._zod.values),ly(e._zod,"optin",()=>t.innerType._zod.optin),ly(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(Vb):Vb(r)}});function Vb(e){return e.value=Object.freeze(e.value),e}const $b=Xg("$ZodCustom",(e,t)=>{vv.init(e,t),Lv.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>Bb(t,n,r,e));Bb(i,n,r,e)}});function Bb(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Oy(e))}}class qb{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function Wb(){return new qb}const Kb=Wb();function Hb(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...wy(t)})}function Gb(e,t){return new wv({check:"less_than",...wy(t),value:e,inclusive:!1})}function Yb(e,t){return new wv({check:"less_than",...wy(t),value:e,inclusive:!0})}function Qb(e,t){return new xv({check:"greater_than",...wy(t),value:e,inclusive:!1})}function Zb(e,t){return new xv({check:"greater_than",...wy(t),value:e,inclusive:!0})}function Xb(e,t){return new _v({check:"multiple_of",...wy(t),value:e})}function Jb(e,t){return new Sv({check:"max_length",...wy(t),maximum:e})}function ew(e,t){return new kv({check:"min_length",...wy(t),minimum:e})}function tw(e,t){return new Cv({check:"length_equals",...wy(t),length:e})}function nw(e){return new Dv({check:"overwrite",tx:e})}function rw(e){const t=function(e,t){const n=new vv({check:"custom",...wy(t)});return n._zod.check=e,n}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Oy(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Oy(r))}},e(n.value,n)));return t}function iw(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function aw(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var s=r.unionErrors[0].errors[0];n[o]={message:s.message,type:s.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[o].types,c=l&&l[r.code];n[o]=ug(o,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function ow(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("invalid_union"===r.code&&r.errors.length>0){var s=r.errors[0][0];n[o]={message:s.message,type:s.code}}else n[o]={message:a,type:i};if("invalid_union"===r.code&&r.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=n[o].types,c=l&&l[r.code];n[o]=ug(o,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function sw(e,t,n){if(void 0===n&&(n={}),"_def"in(r=e)&&"object"==typeof r._def&&"typeName"in r._def)return function(i,a,o){try{return Promise.resolve(iw(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](i,t)).then(function(e){return o.shouldUseNativeValidation&&Gg({},o),{errors:{},values:n.raw?Object.assign({},i):e}})},function(e){if(t=e,Array.isArray(null==t?void 0:t.issues))return{values:{},errors:Yg(aw(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};var t;throw e}))}catch(r){return Promise.reject(r)}};var r;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(i,a,o){try{return Promise.resolve(iw(function(){return Promise.resolve(("sync"===n.mode?jy:Dy)(e,i,t)).then(function(e){return o.shouldUseNativeValidation&&Gg({},o),{errors:{},values:n.raw?Object.assign({},i):e}})},function(e){if(e instanceof Ay)return{values:{},errors:Yg(ow(e.issues,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e}))}catch(r){return Promise.reject(r)}};throw new Error("Invalid input: not a Zod schema")}const lw=Xg("ZodISODateTime",(e,t)=>{Zv.init(e,t),Pw.init(e,t)});function cw(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...wy(t)})}(lw,e)}const uw=Xg("ZodISODate",(e,t)=>{Xv.init(e,t),Pw.init(e,t)});function dw(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...wy(t)})}(uw,e)}const hw=Xg("ZodISOTime",(e,t)=>{Jv.init(e,t),Pw.init(e,t)});function fw(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...wy(t)})}(hw,e)}const pw=Xg("ZodISODuration",(e,t)=>{eb.init(e,t),Pw.init(e,t)});function mw(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...wy(t)})}(pw,e)}const gw=Xg("ZodError",(e,t)=>{Ay.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const n=t||function(e){return e.message},r={_errors:[]},i=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,i=0;for(;i<t.path.length;){const r=t.path[i];i===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,ry,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,ry,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),yw=Iy(gw),vw=Py(gw),bw=My(gw),ww=Ly(gw),xw=zy(gw),_w=Uy(gw),Ew=Vy(gw),Sw=$y(gw),kw=By(gw),Cw=qy(gw),Ow=Wy(gw),Tw=Ky(gw),Aw=Xg("ZodType",(e,t)=>(Lv.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(uy(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,n)=>by(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>yw(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>bw(e,t,n),e.parseAsync=async(t,n)=>vw(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>ww(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>xw(e,t,n),e.decode=(t,n)=>_w(e,t,n),e.encodeAsync=async(t,n)=>Ew(e,t,n),e.decodeAsync=async(t,n)=>Sw(e,t,n),e.safeEncode=(t,n)=>kw(e,t,n),e.safeDecode=(t,n)=>Cw(e,t,n),e.safeEncodeAsync=async(t,n)=>Ow(e,t,n),e.safeDecodeAsync=async(t,n)=>Tw(e,t,n),e.refine=(t,n)=>e.check(function(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...wy(n)})}(Tx,e,t)}(t,n)),e.superRefine=t=>e.check(rw(t)),e.overwrite=t=>e.check(nw(t)),e.optional=()=>vx(e),e.nullable=()=>wx(e),e.nullish=()=>vx(wx(e)),e.nonoptional=t=>function(e,t){return new Ex({type:"nonoptional",innerType:e,...wy(t)})}(e,t),e.array=()=>cx(e),e.or=t=>function(e,t){return new hx({type:"union",options:e,...wy(t)})}([e,t]),e.and=t=>new fx({type:"intersection",left:e,right:t}),e.transform=t=>Cx(e,new gx({type:"transform",transform:t})),e.default=t=>{return n=t,new xx({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():gy(n)}});var n},e.prefault=t=>{return n=t,new _x({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():gy(n)}});var n},e.catch=t=>{return new Sx({type:"catch",innerType:e,catchValue:"function"==typeof(n=t)?n:()=>n});var n},e.pipe=t=>Cx(e,t),e.readonly=()=>new Ox({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return Kb.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null==(t=Kb.get(e))?void 0:t.description},configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Kb.get(e);const n=e.clone();return Kb.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Nw=Xg("_ZodString",(e,t)=>{Fv.init(e,t),Aw.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new Tv({check:"string_format",format:"regex",...wy(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new Iv({check:"string_format",format:"includes",...wy(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new jv({check:"string_format",format:"starts_with",...wy(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new Pv({check:"string_format",format:"ends_with",...wy(t),suffix:e})}(...t)),e.min=(...t)=>e.check(ew(...t)),e.max=(...t)=>e.check(Jb(...t)),e.length=(...t)=>e.check(tw(...t)),e.nonempty=(...t)=>e.check(ew(1,...t)),e.lowercase=t=>e.check(function(e){return new Av({check:"string_format",format:"lowercase",...wy(e)})}(t)),e.uppercase=t=>e.check(function(e){return new Nv({check:"string_format",format:"uppercase",...wy(e)})}(t)),e.trim=()=>e.check(nw(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return nw(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(nw(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(nw(e=>e.toUpperCase()))}),Iw=Xg("ZodString",(e,t)=>{Fv.init(e,t),Nw.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...wy(t)})}(Dw,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...wy(t)})}(Lw,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...wy(t)})}(Xw,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...wy(t)})}(Fw,t)),e.guid=t=>e.check(Hb(Mw,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...wy(t)})}(Rw,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...wy(t)})}(Rw,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...wy(t)})}(Rw,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...wy(t)})}(Rw,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...wy(t)})}(zw,t)),e.guid=t=>e.check(Hb(Mw,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...wy(t)})}(Uw,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...wy(t)})}(Vw,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...wy(t)})}($w,t)),e.base64=t=>e.check(function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...wy(t)})}(Yw,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...wy(t)})}(Qw,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...wy(t)})}(Bw,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...wy(t)})}(qw,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...wy(t)})}(Ww,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...wy(t)})}(Kw,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...wy(t)})}(Hw,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...wy(t)})}(Gw,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...wy(t)})}(Zw,t)),e.datetime=t=>e.check(cw(t)),e.date=t=>e.check(dw(t)),e.time=t=>e.check(fw(t)),e.duration=t=>e.check(mw(t))});function jw(e){return function(e,t){return new e({type:"string",...wy(t)})}(Iw,e)}const Pw=Xg("ZodStringFormat",(e,t)=>{zv.init(e,t),Nw.init(e,t)}),Dw=Xg("ZodEmail",(e,t)=>{$v.init(e,t),Pw.init(e,t)}),Mw=Xg("ZodGUID",(e,t)=>{Uv.init(e,t),Pw.init(e,t)}),Rw=Xg("ZodUUID",(e,t)=>{Vv.init(e,t),Pw.init(e,t)}),Lw=Xg("ZodURL",(e,t)=>{Bv.init(e,t),Pw.init(e,t)}),Fw=Xg("ZodEmoji",(e,t)=>{qv.init(e,t),Pw.init(e,t)}),zw=Xg("ZodNanoID",(e,t)=>{Wv.init(e,t),Pw.init(e,t)}),Uw=Xg("ZodCUID",(e,t)=>{Kv.init(e,t),Pw.init(e,t)}),Vw=Xg("ZodCUID2",(e,t)=>{Hv.init(e,t),Pw.init(e,t)}),$w=Xg("ZodULID",(e,t)=>{Gv.init(e,t),Pw.init(e,t)}),Bw=Xg("ZodXID",(e,t)=>{Yv.init(e,t),Pw.init(e,t)}),qw=Xg("ZodKSUID",(e,t)=>{Qv.init(e,t),Pw.init(e,t)}),Ww=Xg("ZodIPv4",(e,t)=>{tb.init(e,t),Pw.init(e,t)}),Kw=Xg("ZodIPv6",(e,t)=>{nb.init(e,t),Pw.init(e,t)}),Hw=Xg("ZodCIDRv4",(e,t)=>{rb.init(e,t),Pw.init(e,t)}),Gw=Xg("ZodCIDRv6",(e,t)=>{ib.init(e,t),Pw.init(e,t)}),Yw=Xg("ZodBase64",(e,t)=>{ob.init(e,t),Pw.init(e,t)}),Qw=Xg("ZodBase64URL",(e,t)=>{sb.init(e,t),Pw.init(e,t)}),Zw=Xg("ZodE164",(e,t)=>{lb.init(e,t),Pw.init(e,t)}),Xw=Xg("ZodJWT",(e,t)=>{cb.init(e,t),Pw.init(e,t)}),Jw=Xg("ZodNumber",(e,t)=>{ub.init(e,t),Aw.init(e,t),e.gt=(t,n)=>e.check(Qb(t,n)),e.gte=(t,n)=>e.check(Zb(t,n)),e.min=(t,n)=>e.check(Zb(t,n)),e.lt=(t,n)=>e.check(Gb(t,n)),e.lte=(t,n)=>e.check(Yb(t,n)),e.max=(t,n)=>e.check(Yb(t,n)),e.int=t=>e.check(tx(t)),e.safe=t=>e.check(tx(t)),e.positive=t=>e.check(Qb(0,t)),e.nonnegative=t=>e.check(Zb(0,t)),e.negative=t=>e.check(Gb(0,t)),e.nonpositive=t=>e.check(Yb(0,t)),e.multipleOf=(t,n)=>e.check(Xb(t,n)),e.step=(t,n)=>e.check(Xb(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null}),ex=Xg("ZodNumberFormat",(e,t)=>{db.init(e,t),Jw.init(e,t)});function tx(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...wy(t)})}(ex,e)}const nx=Xg("ZodUnknown",(e,t)=>{hb.init(e,t),Aw.init(e,t)});function rx(){return new nx({type:"unknown"})}const ix=Xg("ZodNever",(e,t)=>{fb.init(e,t),Aw.init(e,t)});function ax(e){return function(e,t){return new e({type:"never",...wy(t)})}(ix,e)}const ox=Xg("ZodDate",(e,t)=>{pb.init(e,t),Aw.init(e,t),e.min=(t,n)=>e.check(Zb(t,n)),e.max=(t,n)=>e.check(Yb(t,n));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function sx(e){return function(e,t){return new e({type:"date",...wy(t)})}(ox,e)}const lx=Xg("ZodArray",(e,t)=>{gb.init(e,t),Aw.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(ew(t,n)),e.nonempty=t=>e.check(ew(1,t)),e.max=(t,n)=>e.check(Jb(t,n)),e.length=(t,n)=>e.check(tw(t,n)),e.unwrap=()=>e.element});function cx(e,t){return function(e,t,n){return new e({type:"array",element:t,...wy(n)})}(lx,e,t)}const ux=Xg("ZodObject",(e,t)=>{xb.init(e,t),Aw.init(e,t),ly(e,"shape",()=>t.shape),e.keyof=()=>mx(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:rx()}),e.loose=()=>e.clone({...e._zod.def,catchall:rx()}),e.strict=()=>e.clone({...e._zod.def,catchall:ax()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!my(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=uy(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return cy(this,"shape",n),n},checks:[]});return by(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!my(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return cy(this,"shape",n),n},checks:e._zod.def.checks};return by(e,n)}(e,t),e.merge=t=>function(e,t){const n=uy(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return cy(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return by(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return by(e,uy(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return cy(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=uy(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return cy(this,"shape",r),r},checks:[]});return by(e,r)}(e,t),e.partial=(...t)=>function(e,t,n){const r=uy(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return cy(this,"shape",i),i},checks:[]});return by(t,r)}(yx,e,t[0]),e.required=(...t)=>function(e,t,n){const r=uy(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return cy(this,"shape",i),i},checks:[]});return by(t,r)}(Ex,e,t[0])});function dx(e,t){const n={type:"object",shape:e??{},...wy(t)};return new ux(n)}const hx=Xg("ZodUnion",(e,t)=>{Eb.init(e,t),Aw.init(e,t),e.options=t.options});const fx=Xg("ZodIntersection",(e,t)=>{Sb.init(e,t),Aw.init(e,t)});const px=Xg("ZodEnum",(e,t)=>{Ob.init(e,t),Aw.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const a of e){if(!n.has(a))throw new Error(`Key ${a} not found in enum`);i[a]=t.entries[a]}return new px({...t,checks:[],...wy(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new px({...t,checks:[],...wy(r),entries:i})}});function mx(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new px({type:"enum",entries:n,...wy(t)})}const gx=Xg("ZodTransform",(e,t)=>{Tb.init(e,t),Aw.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new ey(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Oy(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Oy(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});const yx=Xg("ZodOptional",(e,t)=>{Nb.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vx(e){return new yx({type:"optional",innerType:e})}const bx=Xg("ZodNullable",(e,t)=>{Ib.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wx(e){return new bx({type:"nullable",innerType:e})}const xx=Xg("ZodDefault",(e,t)=>{jb.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const _x=Xg("ZodPrefault",(e,t)=>{Db.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Ex=Xg("ZodNonOptional",(e,t)=>{Mb.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Sx=Xg("ZodCatch",(e,t)=>{Lb.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const kx=Xg("ZodPipe",(e,t)=>{Fb.init(e,t),Aw.init(e,t),e.in=t.in,e.out=t.out});function Cx(e,t){return new kx({type:"pipe",in:e,out:t})}const Ox=Xg("ZodReadonly",(e,t)=>{Ub.init(e,t),Aw.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Tx=Xg("ZodCustom",(e,t)=>{$b.init(e,t),Aw.init(e,t)});function Ax(e){return function(e,t){return new e({type:"number",coerce:!0,checks:[],...wy(t)})}(Jw,e)}var Nx={};const Ix=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ix(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Px;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dx=function(e){return function(e){const t=Ix(e);return jx.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Mx=function(e){try{return jx.decodeString(e,!0)}catch(jL){console.error("base64Decode failed: ",jL)}return null};const Rx=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Lx=()=>{try{return Rx()||(()=>{if("undefined"==typeof process)return;const e=Nx.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(jL){return}const t=e&&Mx(e[1]);return t&&JSON.parse(t)})()}catch(jL){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${jL}`)}},Fx=e=>{var t,n;return null==(n=null==(t=Lx())?void 0:t.emulatorHosts)?void 0:n[e]},zx=()=>{var e;return null==(e=Lx())?void 0:e.config},Ux=e=>{var t;return null==(t=Lx())?void 0:t[`_${e}`]};class Vx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bx(e){return(await fetch(e,{credentials:"include"})).ok}const qx={};let Wx=!1;function Kx(e,t){if("undefined"==typeof window||"undefined"==typeof document||!$x(window.location.host)||qx[e]===t||qx[e]||Wx)return;function n(e){return`__firebase__banner__${e}`}qx[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(qx))qx[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Wx=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Hx(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gx(){return!function(){var e;const t=null==(e=Lx())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(jL){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Yx extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Yx.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qx.prototype.create)}}class Qx{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?function(e,t){return e.replace(Zx,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Yx(r,o,n)}}const Zx=/\{\$([^}]+)}/g;function Xx(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Jx(n)&&Jx(a)){if(!Xx(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jx(e){return null!==e&&"object"==typeof e}function e_(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function t_(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function n_(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class r_{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=i_),void 0===r.error&&(r.error=i_),void 0===r.complete&&(r.complete=i_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(jL){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(jL){"undefined"!=typeof console&&console.error&&console.error(jL)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i_(){}function a_(e){return e&&e._delegate?e._delegate:e}class o_{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s_="[DEFAULT]";let l_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Vx;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(jL){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=(null==e?void 0:e.optional)??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(jL){if(n)return null;throw jL}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s_})}catch(jL){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(jL){}}}}clearInstance(e=s_){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s_){return this.instances.has(e)}getOptions(e=s_){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===s_?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=s_){return this.component?this.component.multipleInstances?e:s_:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};class c_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var u_,d_;(d_=u_||(u_={}))[d_.DEBUG=0]="DEBUG",d_[d_.VERBOSE=1]="VERBOSE",d_[d_.INFO=2]="INFO",d_[d_.WARN=3]="WARN",d_[d_.ERROR=4]="ERROR",d_[d_.SILENT=5]="SILENT";const h_={debug:u_.DEBUG,verbose:u_.VERBOSE,info:u_.INFO,warn:u_.WARN,error:u_.ERROR,silent:u_.SILENT},f_=u_.INFO,p_={[u_.DEBUG]:"log",[u_.VERBOSE]:"log",[u_.INFO]:"info",[u_.WARN]:"warn",[u_.ERROR]:"error"},m_=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=p_[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class g_{constructor(e){this.name=e,this._logLevel=f_,this._logHandler=m_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in u_))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?h_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,u_.DEBUG,...e),this._logHandler(this,u_.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,u_.VERBOSE,...e),this._logHandler(this,u_.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,u_.INFO,...e),this._logHandler(this,u_.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,u_.WARN,...e),this._logHandler(this,u_.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,u_.ERROR,...e),this._logHandler(this,u_.ERROR,...e)}}let y_,v_;const b_=new WeakMap,w_=new WeakMap,x_=new WeakMap,__=new WeakMap,E_=new WeakMap;let S_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return w_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||x_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function k_(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(T_(this),t),O_(b_.get(this))}:function(...t){return O_(e.apply(T_(this),t))}:function(t,...n){const r=e.call(T_(this),t,...n);return x_.set(r,t.sort?t.sort():[t]),O_(r)}}function C_(e){return"function"==typeof e?k_(e):(e instanceof IDBTransaction&&function(e){if(w_.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});w_.set(e,t)}(e),t=e,(y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,S_):e);var t}function O_(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(O_(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&b_.set(t,e)}).catch(()=>{}),E_.set(t,e),t}(e);if(__.has(e))return __.get(e);const t=C_(e);return t!==e&&(__.set(e,t),E_.set(t,e)),t}const T_=e=>E_.get(e);const A_=["get","getKey","getAll","getAllKeys","count"],N_=["put","add","delete","clear"],I_=new Map;function j_(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(I_.get(t))return I_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=N_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!A_.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return I_.set(t,a),a}S_=(e=>({...e,get:(t,n,r)=>j_(t,n)||e.get(t,n,r),has:(t,n)=>!!j_(t,n)||e.has(t,n)}))(S_);class P_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const D_="@firebase/app",M_="0.14.3",R_=new g_("@firebase/app"),L_="@firebase/app-compat",F_="@firebase/analytics-compat",z_="@firebase/analytics",U_="@firebase/app-check-compat",V_="@firebase/app-check",$_="@firebase/auth",B_="@firebase/auth-compat",q_="@firebase/database",W_="@firebase/data-connect",K_="@firebase/database-compat",H_="@firebase/functions",G_="@firebase/functions-compat",Y_="@firebase/installations",Q_="@firebase/installations-compat",Z_="@firebase/messaging",X_="@firebase/messaging-compat",J_="@firebase/performance",eE="@firebase/performance-compat",tE="@firebase/remote-config",nE="@firebase/remote-config-compat",rE="@firebase/storage",iE="@firebase/storage-compat",aE="@firebase/firestore",oE="@firebase/ai",sE="@firebase/firestore-compat",lE="firebase",cE="[DEFAULT]",uE={[D_]:"fire-core",[L_]:"fire-core-compat",[z_]:"fire-analytics",[F_]:"fire-analytics-compat",[V_]:"fire-app-check",[U_]:"fire-app-check-compat",[$_]:"fire-auth",[B_]:"fire-auth-compat",[q_]:"fire-rtdb",[W_]:"fire-data-connect",[K_]:"fire-rtdb-compat",[H_]:"fire-fn",[G_]:"fire-fn-compat",[Y_]:"fire-iid",[Q_]:"fire-iid-compat",[Z_]:"fire-fcm",[X_]:"fire-fcm-compat",[J_]:"fire-perf",[eE]:"fire-perf-compat",[tE]:"fire-rc",[nE]:"fire-rc-compat",[rE]:"fire-gcs",[iE]:"fire-gcs-compat",[aE]:"fire-fst",[sE]:"fire-fst-compat",[oE]:"fire-vertex","fire-js":"fire-js",[lE]:"fire-js-all"},dE=new Map,hE=new Map,fE=new Map;function pE(e,t){try{e.container.addComponent(t)}catch(jL){R_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,jL)}}function mE(e){const t=e.name;if(fE.has(t))return R_.debug(`There were multiple attempts to register component ${t}.`),!1;fE.set(t,e);for(const n of dE.values())pE(n,e);for(const n of hE.values())pE(n,e);return!0}function gE(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yE(e){return null!=e&&void 0!==e.settings}const vE=new Qx("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class bE{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new o_("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vE.create("app-deleted",{appName:this._name})}}const wE="12.3.0";function xE(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:cE,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw vE.create("bad-app-name",{appName:String(i)});if(n||(n=zx()),!n)throw vE.create("no-options");const a=dE.get(i);if(a){if(Xx(n,a.options)&&Xx(r,a.config))return a;throw vE.create("duplicate-app",{appName:i})}const o=new c_(i);for(const l of fE.values())o.addComponent(l);const s=new bE(n,r,o);return dE.set(i,s),s}function _E(e=cE){const t=dE.get(e);if(!t&&e===cE&&zx())return xE();if(!t)throw vE.create("no-app",{appName:e});return t}function EE(e,t,n){let r=uE[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void R_.warn(e.join(" "))}mE(new o_(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const SE="firebase-heartbeat-store";let kE=null;function CE(){return kE||(kE=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=O_(o);return r&&o.addEventListener("upgradeneeded",e=>{r(O_(o.result),e.oldVersion,e.newVersion,O_(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(SE)}catch(jL){console.warn(jL)}}}).catch(e=>{throw vE.create("idb-open",{originalErrorMessage:e.message})})),kE}async function OE(e,t){try{const n=(await CE()).transaction(SE,"readwrite"),r=n.objectStore(SE);await r.put(t,TE(e)),await n.done}catch(jL){if(jL instanceof Yx)R_.warn(jL.message);else{const t=vE.create("idb-set",{originalErrorMessage:null==jL?void 0:jL.message});R_.warn(t.message)}}}function TE(e){return`${e.name}!${e.options.appId}`}class AE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IE(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NE();if(null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(jL){R_.warn(jL)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=NE(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),jE(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Dx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(jL){return R_.warn(jL),""}}}function NE(){return(new Date).toISOString().substring(0,10)}class IE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(jL){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await CE()).transaction(SE),n=await t.objectStore(SE).get(TE(e));return await t.done,n}catch(jL){if(jL instanceof Yx)R_.warn(jL.message);else{const t=vE.create("idb-get",{originalErrorMessage:null==jL?void 0:jL.message});R_.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return OE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function jE(e){return Dx(JSON.stringify({version:2,heartbeats:e})).length}var PE;function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}PE="",mE(new o_("platform-logger",e=>new P_(e),"PRIVATE")),mE(new o_("heartbeat",e=>new AE(e),"PRIVATE")),EE(D_,M_,PE),EE(D_,M_,"esm2020"),EE("fire-js","");const ME=DE,RE=new Qx("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),LE=new g_("@firebase/auth");function FE(e,...t){LE.logLevel<=u_.ERROR&&LE.error(`Auth (${wE}): ${e}`,...t)}function zE(e,...t){throw BE(e,...t)}function UE(e,...t){return BE(e,...t)}function VE(e,t,n){const r={...ME(),[t]:n};return new Qx("auth","Firebase",r).create(t,{appName:e.name})}function $E(e){return VE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BE(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return RE.create(e,...t)}function qE(e,t,...n){if(!e)throw BE(t,...n)}function WE(e){const t="INTERNAL ASSERTION FAILED: "+e;throw FE(t),new Error(t)}function KE(e,t){e||WE(t)}function HE(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function GE(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}function YE(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==GE()&&"https:"!==GE()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}class QE{constructor(e,t){this.shortDelay=e,this.longDelay=t,KE(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hx())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return YE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ZE(e,t){KE(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class XE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void WE("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void WE("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void WE("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tS=new QE(3e4,6e4);function nS(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function rS(e,t,n,r,i={}){return iS(e,i,async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=e_({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:s,...i};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&$x(e.emulatorConfig.host)&&(l.credentials="include"),XE.fetch()(await oS(e,e.config.apiHost,n,o),l)})}async function iS(e,t,n){e._canInitEmulator=!1;const r={...JE,...t};try{const t=new lS(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw cS(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw cS(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw cS(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw cS(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw VE(e,s,o);zE(e,s)}}catch(jL){if(jL instanceof Yx)throw jL;zE(e,"network-request-failed",{message:String(jL)})}}async function aS(e,t,n,r,i={}){const a=await rS(e,t,n,r,i);return"mfaPendingCredential"in a&&zE(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function oS(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?ZE(e.config,i):`${e.config.apiScheme}://${i}`;if(eS.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function sS(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(UE(this.auth,"network-request-failed")),tS.get())})}}function cS(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=UE(e,t,r);return i.customData._tokenResponse=n,i}function uS(e){return void 0!==e&&void 0!==e.enterprise}class dS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sS(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hS(e,t){return rS(e,"POST","/v1/accounts:lookup",t)}function fS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(jL){}}function pS(e){return 1e3*Number(e)}function mS(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return FE("JWT malformed, contained fewer than 3 sections"),null;try{const e=Mx(n);return e?JSON.parse(e):(FE("Failed to decode base64 JWT payload"),null)}catch(jL){return FE("Caught error parsing JWT payload as JSON",null==jL?void 0:jL.toString()),null}}function gS(e){const t=mS(e);return qE(t,"internal-error"),qE(void 0!==t.exp,"internal-error"),qE(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function yS(e,t,n=!1){if(n)return t;try{return await t}catch(jL){throw jL instanceof Yx&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(jL)&&e.auth.currentUser===e&&await e.auth.signOut(),jL}}class vS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(jL){return void("auth/network-request-failed"===(null==jL?void 0:jL.code)&&this.schedule(!0))}this.schedule()}}class bS{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fS(this.lastLoginAt),this.creationTime=fS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wS(e){var t;const n=e.auth,r=await e.getIdToken(),i=await yS(e,hS(n,{idToken:r}));qE(null==i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null==(t=a.providerUserInfo)?void 0:t.length)?xS(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new bS(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function xS(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class _S{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qE(e.idToken,"internal-error"),qE(void 0!==e.idToken,"internal-error"),qE(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):gS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qE(0!==e.length,"internal-error");const t=gS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(qE(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await iS(e,{},async()=>{const n=e_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await oS(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&$x(e.emulatorConfig.host)&&(s.credentials="include"),XE.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new _S;return n&&(qE("string"==typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(qE("string"==typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(qE("number"==typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _S,this.toJSON())}_performRefresh(){return WE("not implemented")}}function ES(e,t){qE("string"==typeof e||void 0===e,"internal-error",{appName:t})}class SS{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new vS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new bS(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await yS(this,this.stsTokenManager.getToken(this.auth,e));return qE(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=a_(e),r=await n.getIdToken(t),i=mS(r);qE(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,o=null==a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:fS(pS(i.auth_time)),issuedAtTime:fS(pS(i.iat)),expirationTime:fS(pS(i.exp)),signInProvider:o||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=a_(e);await wS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(qE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new SS({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yE(this.auth.app))return Promise.reject($E(this.auth));const e=await this.getIdToken();return await yS(this,async function(e,t){return rS(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,s=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:p}=t;qE(u&&p,e,"internal-error");const m=_S.fromJSON(this.name,p);qE("string"==typeof u,e,"internal-error"),ES(n,e.name),ES(r,e.name),qE("boolean"==typeof d,e,"internal-error"),qE("boolean"==typeof h,e,"internal-error"),ES(i,e.name),ES(a,e.name),ES(o,e.name),ES(s,e.name),ES(l,e.name),ES(c,e.name);const g=new SS({uid:u,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:m,createdAt:l,lastLoginAt:c});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),s&&(g._redirectEventId=s),g}static async _fromIdTokenResponse(e,t,n=!1){const r=new _S;r.updateFromServerResponse(t);const i=new SS({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wS(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];qE(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?xS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),o=new _S;o.updateFromIdToken(n);const s=new SS({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new bS(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,l),s}}const kS=new Map;function CS(e){KE(e instanceof Function,"Expected a class definition");let t=kS.get(e);return t?(KE(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kS.set(e,t),t)}class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OS.type="NONE";const TS=OS;function AS(e,t,n){return`firebase:${e}:${t}:${n}`}class NS{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=AS(this.userKey,r.apiKey,i),this.fullPersistenceKey=AS("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await hS(this.auth,{idToken:e}).catch(()=>{});return t?SS._fromGetAccountInfoResponse(this.auth,t,e):null}return SS._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new NS(CS(TS),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||CS(TS);const a=AS(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(a);if(t){let n;if("string"==typeof t){const r=await hS(e,{idToken:t}).catch(()=>{});if(!r)break;n=await SS._fromGetAccountInfoResponse(e,r,t)}else n=SS._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch{}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch{}})),new NS(i,e,n)):new NS(i,e,n)}}function IS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LS(t))return"Blackberry";if(FS(t))return"Webos";if(PS(t))return"Safari";if((t.includes("chrome/")||DS(t))&&!t.includes("edge/"))return"Chrome";if(RS(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function jS(e=Hx()){return/firefox\//i.test(e)}function PS(e=Hx()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DS(e=Hx()){return/crios\//i.test(e)}function MS(e=Hx()){return/iemobile/i.test(e)}function RS(e=Hx()){return/android/i.test(e)}function LS(e=Hx()){return/blackberry/i.test(e)}function FS(e=Hx()){return/webos/i.test(e)}function zS(e=Hx()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function US(){return function(){const e=Hx();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function VS(e=Hx()){return zS(e)||RS(e)||FS(e)||LS(e)||/windows phone/i.test(e)||MS(e)}function $S(e,t=[]){let n;switch(e){case"Browser":n=IS(Hx());break;case"Worker":n=`${IS(Hx())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${wE}/${r}`}class BS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(jL){r(jL)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(jL){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==jL?void 0:jL.message})}}}class qS{constructor(e){var t;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),void 0!==n.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),void 0!==n.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),void 0!==n.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),void 0!==n.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(null==(t=e.allowedNonAlphanumericCharacters)?void 0:t.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class WS{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new BS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=CS(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await NS.create(this,e),null==(n=this._resolvePersistenceManagerAvailable)||n.call(this),!this._deleted)){if(null==(r=this._popupRedirectResolver)?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(jL){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(i=this.currentUser)?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await hS(this,{idToken:e}),n=await SS._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yE(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null==(t=this.redirectUser)?void 0:t._redirectEventId,a=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null==o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(jL){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(jL))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qE(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(jL){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wS(e)}catch(jL){if("auth/network-request-failed"!==(null==jL?void 0:jL.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yE(this.app))return Promise.reject($E(this));const t=e?a_(e):null;return t&&qE(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qE(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yE(this.app)?Promise.reject($E(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yE(this.app)?Promise.reject($E(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(CS(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return rS(e,"GET","/v2/passwordPolicy",nS(e,t))}(this),t=new qS(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qx("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return rS(e,"POST","/v2/accounts:revokeToken",nS(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&CS(e)||this._popupRedirectResolver;qE(t,this,"argument-error"),this.redirectPersistenceManager=await NS.create(this,[CS(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e?this._currentUser:(null==(n=this.redirectUser)?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=(null==(e=this.currentUser)?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(qE(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qE(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(yE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){LE.logLevel<=u_.WARN&&LE.warn(`Auth (${wE}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function KS(e){return a_(e)}class HS{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new r_(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return qE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let GS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YS(e){return GS.loadJS(e)}class QS{constructor(){this.enterprise=new ZS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const XS="NO_RECAPTCHA";class JS{constructor(e){this.type="recaptcha-enterprise",this.auth=KS(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return rS(e,"GET","/v2/recaptchaConfig",nS(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new dS(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;uS(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(XS)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new QS).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&uS(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=GS.recaptchaEnterpriseScript;0!==t.length&&(t+=n),YS(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function ek(e,t,n,r=!1,i=!1){const a=new JS(e);let o;if(i)o=XS;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function tk(e,t,n,r,i){var a;if(null==(a=e._getRecaptchaConfig())?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ek(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ek(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function nk(e,t,n){const r=KS(e);qE(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=rk(t),{host:a,port:o}=function(e){const t=rk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ik(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ik(t)}}}(t),s=null===o?"":`:${o}`,l={url:`${i}//${a}${s}/`},c=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return qE(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void qE(Xx(l,r.config.emulator)&&Xx(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,$x(a)?(Bx(`${i}//${a}${s}`),Kx("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ik(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ak{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return WE("not implemented")}_getIdTokenResponse(e){return WE("not implemented")}_linkToIdToken(e,t){return WE("not implemented")}_getReauthenticationResolver(e){return WE("not implemented")}}async function ok(e,t){return rS(e,"POST","/v1/accounts:signUp",t)}async function sk(e,t){return aS(e,"POST","/v1/accounts:signInWithPassword",nS(e,t))}class lk extends ak{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lk(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new lk(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return tk(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",sk);case"emailLink":return async function(e,t){return aS(e,"POST","/v1/accounts:signInWithEmailLink",nS(e,t))}(e,{email:this._email,oobCode:this._password});default:zE(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return tk(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ok);case"emailLink":return async function(e,t){return aS(e,"POST","/v1/accounts:signInWithEmailLink",nS(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:zE(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ck(e,t){return aS(e,"POST","/v1/accounts:signInWithIdp",nS(e,t))}class uk extends ak{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uk(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zE("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,...i}=t;if(!n||!r)return null;const a=new uk(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return ck(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ck(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ck(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=e_(t)}return e}}class dk{constructor(e){const t=t_(n_(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);qE(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=t_(n_(e)).link,n=t?t_(n_(t)).deep_link_id:null,r=t_(n_(e)).deep_link_id;return(r?t_(n_(r)).link:null)||r||n||t||e}(e);try{return new dk(t)}catch{return null}}}class hk{constructor(){this.providerId=hk.PROVIDER_ID}static credential(e,t){return lk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=dk.parseLink(t);return qE(n,"argument-error"),lk._fromEmailAndCode(e,n.code,n.tenantId)}}hk.PROVIDER_ID="password",hk.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hk.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pk extends fk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mk extends pk{constructor(){super("facebook.com")}static credential(e){return uk._fromParams({providerId:mk.PROVIDER_ID,signInMethod:mk.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mk.credentialFromTaggedObject(e)}static credentialFromError(e){return mk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return mk.credential(e.oauthAccessToken)}catch{return null}}}mk.FACEBOOK_SIGN_IN_METHOD="facebook.com",mk.PROVIDER_ID="facebook.com";class gk extends pk{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uk._fromParams({providerId:gk.PROVIDER_ID,signInMethod:gk.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gk.credentialFromTaggedObject(e)}static credentialFromError(e){return gk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return gk.credential(t,n)}catch{return null}}}gk.GOOGLE_SIGN_IN_METHOD="google.com",gk.PROVIDER_ID="google.com";class yk extends pk{constructor(){super("github.com")}static credential(e){return uk._fromParams({providerId:yk.PROVIDER_ID,signInMethod:yk.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yk.credentialFromTaggedObject(e)}static credentialFromError(e){return yk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return yk.credential(e.oauthAccessToken)}catch{return null}}}yk.GITHUB_SIGN_IN_METHOD="github.com",yk.PROVIDER_ID="github.com";class vk extends pk{constructor(){super("twitter.com")}static credential(e,t){return uk._fromParams({providerId:vk.PROVIDER_ID,signInMethod:vk.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vk.credentialFromTaggedObject(e)}static credentialFromError(e){return vk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return vk.credential(t,n)}catch{return null}}}vk.TWITTER_SIGN_IN_METHOD="twitter.com",vk.PROVIDER_ID="twitter.com";class bk{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await SS._fromIdTokenResponse(e,n,r),a=wk(n);return new bk({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=wk(n);return new bk({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function wk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xk extends Yx{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,xk.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new xk(e,t,n,r)}}function _k(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw xk._fromErrorAndOperation(e,n,t,r);throw n})}async function Ek(e,t,n=!1){if(yE(e.app))return Promise.reject($E(e));const r="signIn",i=await _k(e,r,t),a=await bk._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Sk(e,t,n){return yE(e.app)?Promise.reject($E(e)):async function(e,t){return Ek(KS(e),t)}(a_(e),hk.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&async function(e){const t=KS(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}(e),t})}function kk(e){return a_(e).signOut()}const Ck="__sak";class Ok{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ck,"1"),this.storage.removeItem(Ck),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tk extends Ok{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);US()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tk.type="LOCAL";const Ak=Tk;class Nk extends Ok{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nk.type="SESSION";const Ik=Nk;class jk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new jk(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pk(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jk.receivers=[];class Dk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Pk("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Mk(){return window}function Rk(){return void 0!==Mk().WorkerGlobalScope&&"function"==typeof Mk().importScripts}const Lk="firebaseLocalStorageDb",Fk="firebaseLocalStorage",zk="fbase_key";class Uk{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vk(e,t){return e.transaction([Fk],t?"readwrite":"readonly").objectStore(Fk)}function $k(){const e=indexedDB.open(Lk,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fk,{keyPath:zk})}catch(jL){n(jL)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Fk)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Lk);return new Uk(e).toPromise()}(),t(await $k()))})})}async function Bk(e,t,n){const r=Vk(e,!0).put({[zk]:t,value:n});return new Uk(r).toPromise()}function qk(e,t){const n=Vk(e,!0).delete(t);return new Uk(n).toPromise()}class Wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await $k()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(jL){if(t++>3)throw jL;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jk._getInstance(Rk()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Dk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null==(e=n[0])?void 0:e.fulfilled)&&(null==(t=n[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $k();return await Bk(e,Ck,"1"),await qk(e,Ck),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Vk(e,!1).get(t),r=await new Uk(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Vk(e,!1).getAll();return new Uk(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Wk.type="LOCAL";const Kk=Wk;new QE(3e4,6e4);class Hk extends ak{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ck(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ck(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ck(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gk(e){return Ek(e.auth,new Hk(e),e.bypassAuthState)}function Yk(e){const{auth:t,user:n}=e;return qE(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e;if(yE(r.app))return Promise.reject($E(r));const i="reauthenticate";try{const a=await yS(e,_k(r,i,t,e),n);qE(a.idToken,r,"internal-error");const o=mS(a.idToken);qE(o,r,"internal-error");const{sub:s}=o;return qE(e.uid===s,r,"user-mismatch"),bk._forOperation(e,i,a)}catch(jL){throw"auth/user-not-found"===(null==jL?void 0:jL.code)&&zE(r,"user-mismatch"),jL}}(n,new Hk(e),e.bypassAuthState)}async function Qk(e){const{auth:t,user:n}=e;return qE(n,t,"internal-error"),async function(e,t,n=!1){const r=await yS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bk._forOperation(e,"link",r)}(n,new Hk(e),e.bypassAuthState)}class Zk{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(jL){this.reject(jL)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(jL){this.reject(jL)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return Qk;case"reauthViaPopup":case"reauthViaRedirect":return Yk;default:zE(this.auth,"internal-error")}}resolve(e){KE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){KE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xk=new QE(2e3,1e4);class Jk extends Zk{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Jk.currentPopupAction&&Jk.currentPopupAction.cancel(),Jk.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qE(e,this.auth,"internal-error"),e}async onExecution(){KE(1===this.filter.length,"Popup operations only handle one event");const e=Pk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(UE(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(UE(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jk.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null==(n=null==(t=this.authWindow)?void 0:t.window)?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(UE(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Xk.get())};e()}}Jk.currentPopupAction=null;const eC="pendingRedirect",tC=new Map;class nC extends Zk{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tC.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return AS(eC,e.config.apiKey,e.name)}(t),r=function(e){return CS(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(jL){e=()=>Promise.reject(jL)}tC.set(this.auth._key(),e)}return this.bypassAuthState||tC.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function rC(e,t){tC.set(e._key(),t)}async function iC(e,t,n=!1){if(yE(e.app))return Promise.reject($E(e));const r=KS(e),i=function(e,t){return t?CS(t):(qE(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),a=new nC(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sC(e)){const r=(null==(n=e.error.code)?void 0:n.split("auth/")[1])||"internal-error";t.onError(UE(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oC(e))}saveEventToCache(e){this.cachedEventUids.add(oC(e)),this.lastProcessedEventTime=Date.now()}}function oC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sC({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return rS(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(dC(n))return}catch{}zE(e,"unauthorized-domain")}function dC(e){const t=HE(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cC.test(n))return!1;if(lC.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hC=new QE(3e4,6e4);function fC(){const e=Mk().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function pC(e){return new Promise((t,n)=>{var r,i,a;function o(){fC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fC(),n(UE(e,"network-request-failed"))},timeout:hC.get()})}if(null==(i=null==(r=Mk().gapi)?void 0:r.iframes)?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null==(a=Mk().gapi)?void 0:a.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Mk()[t]=()=>{gapi.load?o():n(UE(e,"network-request-failed"))},YS(`${GS.gapiScript}?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw mC=null,e})}let mC=null;const gC=new QE(5e3,15e3),yC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(e){const t=e.config;qE(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ZE(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:wE},i=vC.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${e_(r).slice(1)}`}async function wC(e){const t=await function(e){return mC=mC||pC(e),mC}(e),n=Mk().gapi;return qE(n,e,"internal-error"),t.open({where:document.body,url:bC(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yC,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=UE(e,"network-request-failed"),a=Mk().setTimeout(()=>{r(i)},gC.get());function o(){Mk().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _C{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(jL){}}}function EC(e,t,n,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...xC,width:r.toString(),height:i.toString(),top:a,left:o},c=Hx().toLowerCase();n&&(s=DS(c)?"_blank":n),jS(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Hx()){var t;return zS(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new _C(null);const d=window.open(t||"",s,u);qE(d,e,"popup-blocked");try{d.focus()}catch(jL){}return new _C(d)}const SC="__/auth/handler",kC="emulator/auth/handler",CC=encodeURIComponent("fac");async function OC(e,t,n,r,i,a){qE(e.config.authDomain,e,"auth-domain-config-required"),qE(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wE,eventId:i};if(t instanceof fk){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))o[e]=t}if(t instanceof pk){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${CC}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${SC}`;return ZE(e,kC)}(e)}?${e_(s).slice(1)}${c}`}const TC="webStorageSupport";const AC=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ik,this._completeRedirectFn=iC,this._overrideRedirectResult=rC}async _openPopup(e,t,n,r){var i;KE(null==(i=this.eventManagers[e._key()])?void 0:i.manager,"_initialize() not called before _openPopup()");return EC(e,await OC(e,t,n,HE(),r),Pk())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mk().location.href=e}(await OC(e,t,n,HE(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(KE(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await wC(e),n=new aC(e);return t.register("authEvent",t=>{qE(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(TC,{type:TC},n=>{var r;const i=null==(r=null==n?void 0:n[0])?void 0:r[TC];void 0!==i&&t(!!i),zE(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VS()||PS()||zS()}};var NC="@firebase/auth",IC="1.11.0";class jC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const PC=Ux("authIdTokenMaxAge")||300;let DC=null;var MC,RC;MC={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=UE("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",((null==(i=document.getElementsByTagName("head"))?void 0:i[0])??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},GS=MC,RC="Browser",mE(new o_("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;qE(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:a,authDomain:o,clientPlatform:RC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(RC)},l=new WS(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(CS);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),mE(new o_("auth-internal",e=>{const t=KS(e.getProvider("auth").getImmediate());return new jC(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),EE(NC,IC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(RC)),EE(NC,IC,"esm2020");EE("firebase","12.3.0","app");var LC,FC,zC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,o=e.g[3];a=t+(o^n&(i^o))+r[0]+3614090360&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[3]+3250441966&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[4]+4118548399&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[7]+4249261313&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[8]+1770035416&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[11]+2304563134&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[12]+1804603682&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[15]+1236535329&4294967295,a=t+(i^o&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[0]+3921069994&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[4]+3889429448&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[8]+1163531501&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^o)+r[5]+4294588738&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[1]+2763975236&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[13]+681279174&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[9]+3654602809&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~o))+r[0]+4096336452&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[12]+1700485571&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[8]+1873313359&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[4]+4149444226&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return h(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||c.l(e)>0;)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),o=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=a*s,p(n,2*i+2*t),n[2*i+2*t+1]+=r*s,p(n,2*i+2*t+1),n[2*i+2*t+1]+=a*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,FC=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=s;for(let s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+a),n);a<8?(a=o(Math.pow(n,a)),i=i.j(a).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},LC=r}).apply(void 0!==zC?zC:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var UC,VC,$C,BC,qC,WC,KC,HC,GC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof GC&&GC];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(_)}};function _(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function E(){this.u=this.u,this.C=this.C}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},S.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function O(e,t){S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(O,S),O.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&O.Z.h.call(this)},O.prototype.h=function(){O.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),A=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function I(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(I(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}R.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const o=F(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new N(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)V(e,t[a],n,r,i);return null}return n=G(n),e&&e[T]?e.J(t,n,!!o(r)&&!!r.capture,i):function(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const s=o(i)?!!i.capture:!!i;let l=K(e);if(l||(e[z]=l=new R(e)),n=l.add(t,n,r,s,a),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=W;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)$(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=G(n),e&&e[T]?(e=e.i,(a=String(t).toString())in e.g&&((n=F(t=e.g[a],n,r,i))>-1&&(I(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&B(n))}function B(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(L(n,e),0==n.h&&(n.src=null,t[z]=null)):I(e)}}}function q(e){return e in U?U[e]:U[e]="on"+e}function W(e,t){if(e.da)e=!0;else{t=new O(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&B(e),e=n.call(r,t)}return e}function K(e){return(e=e[z])instanceof R?e:null}var H="__closure_events_fn_"+(1e9*Math.random()>>>0);function G(e){return"function"==typeof e?e:(e[H]||(e[H]=function(t){return e.handleEvent(t)}),e[H])}function Y(){E.call(this),this.i=new R(this),this.M=this,this.G=null}function Q(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var i=t;M(t=new S(r,e),i)}let a,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const o=t[a];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&L(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function X(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,X(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Y,E),Y.prototype[T]=!0,Y.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)I(n[e]);delete e.g[t],e.h--}}this.G=null},Y.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Y.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class J extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:X(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(e){E.call(this),this.h=e,this.g={}}u(ee,E);var te=[];function ne(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&B(e)},e),e.g={}}ee.prototype.N=function(){ee.Z.N.call(this),ne(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=a.JSON.stringify,ie=a.JSON.parse,ae=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function oe(){}function se(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){S.call(this,"d")}function ue(){S.call(this,"c")}u(ce,S),u(ue,S);var de={},he=null;function fe(){return he=he||new Y}function pe(e){S.call(this,de.Ia,e)}function me(e){const t=fe();Q(t,new pe(t))}function ge(e,t){S.call(this,de.STAT_EVENT,e),this.stat=t}function ye(e){const t=fe();Q(t,new ge(t,e))}function ve(e,t){S.call(this,de.Ja,e),this.size=t}function be(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function we(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return re(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}de.Ia="serverreachability",u(pe,S),de.STAT_EVENT="statevent",u(ge,S),de.Ja="timingevent",u(ve,S),we.prototype.ua=function(){this.g=!1},we.prototype.info=function(){};var _e,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Se={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ke(){}function Ce(e){return encodeURIComponent(String(e))}function Oe(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Te(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(ke,oe),ke.prototype.g=function(){return new XMLHttpRequest},_e=new ke;var Ne={},Ie={};function je(e,t,n){e.M=1,e.A=rt(Xe(t)),e.u=n,e.R=!0,Pe(e,null)}function Pe(e,t){e.F=Date.now(),Re(e),e.B=Xe(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),yt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=rn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new J(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(te[0]=i.toString()),i=te);for(let a=0;a<i.length;a++){const e=V(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),me(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o="",s=a.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function De(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ie:(n=Number(t.substring(n,r)),isNaN(n)?Ne:(r+=1)+n>t.length?Ie:(t=t.slice(r,r+n),e.C=r+n,t))}function Re(e){e.T=Date.now()+e.H,Le(e,e.H)}function Le(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Fe(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||Xt(e.j,e)}function Ue(e){Fe(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Ve(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Vt(n)}Gt(n),ye(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));We(n.h)<=1&&n.ta&&(n.ta=void 0)}else en(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(He(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,nt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=nn(r,r.L?r.ba:null,r.W),o.L){Ge(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Fe(s),Re(s)),r.g=o}else Ht(r);n.i.length>0&&Bt(n)}else"stop"!=l[0]&&"close"!=l[0]||en(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?en(n,7):Ut(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}me()}catch(u){}}Te.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Rt(e)?t.j():this.Y(e)},Te.prototype.Y=function(e){try{if(e==this.g)e:{const l=Rt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Lt(this.g)))){this.K||4!=l||7==c||me(),Fe(this);var t=this.g.ca();this.X=t;var n=function(e){if(!De(e))return e.g.la();const t=Lt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Rt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Ue(e),ze(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,ye(12),Ue(this),ze(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ve(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Ie){4==l&&(this.m=4,ye(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ne){this.m=4,ye(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),Ve(this,t)}if(De(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,ye(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yt(s),s.P=!0,ye(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),ze(this)}else xe(this.i,this.l,n,null),Ve(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?Xt(this.j,this):(this.o=!1,Re(this)))}else(function(e){const t={};e=(e.g&&Rt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Oe(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Ue(this),ze(this)}}}catch(l){}},Te.prototype.cancel=function(){this.K=!0,Ue(this)},Te.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(me(),ye(17)),Ue(this),this.m=2,ze(this)):Le(this,this.T-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Be(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function We(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function He(e,t){e.g?e.g.add(t):e.h=t}function Ge(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ye(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}Be.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,Je(this,e.j),this.o=e.o,this.g=e.g,et(this,e.u),this.h=e.h,tt(this,vt(e.i)),this.m=e.m):e&&(t=String(e).match(Qe))?(this.l=!1,Je(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),et(this,t[4]),this.h=it(t[5]||"",!0),tt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new ht(null,this.l))}function Xe(e){return new Ze(e)}function Je(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function tt(e,t,n){t instanceof ht?(e.i=t,function(e,t){t&&!e.j&&(ft(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(pt(this,t),yt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ut)),e.i=new ht(t,e.l))}function nt(e,t,n){e.i.set(t,n)}function rt(e){return nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,st,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,st,!0),"@"),e.push(Ce(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ct:lt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,dt)),e.join("")},Ze.prototype.resolve=function(e){const t=Xe(this);let n=!!e.j;n?Je(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)et(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?tt(t,vt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var st=/[#\/\?@]/g,lt=/[#\?:]/g,ct=/[#\?]/g,ut=/[#\?@]/g,dt=/#/g;function ht(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function pt(e,t){ft(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mt(e,t){return ft(e),t=bt(e,t),e.g.has(t)}function gt(e,t){ft(e);let n=[];if("string"==typeof t)mt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function yt(e,t,n){pt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),h(n)),e.h+=n.length)}function vt(e){const t=new ht;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function xt(){this.g=new ae}function _t(e){this.i=e.Sb||null,this.h=e.ab||!1}function Et(e,t){Y.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function St(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function kt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Tt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"==typeof e?null!=n&&Ce(n):nt(e,t,n))}function At(e){Y.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ht.prototype).add=function(e,t){ft(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ft(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return ft(this),this.i=null,mt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=gt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ce(n);n=gt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ce(n[t])),e.push(r)}}return this.i=e.join("&")},u(_t,oe),_t.prototype.g=function(){return new Et(this.i,this.h)},u(Et,Y),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,kt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;St(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kt(this):Ct(this),3==this.readyState&&St(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,kt(this))},e.Na=function(e){this.g&&(this.response=e,kt(this))},e.ga=function(){this.g&&kt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,Y);var Nt=/^https?$/i,It=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Pt(e),Mt(e)}function Pt(e){e.A||(e.A=!0,Q(e,"complete"),Q(e,"error"))}function Dt(e){if(e.h&&void 0!==i)if(e.v&&4==Rt(e))setTimeout(e.Ca.bind(e),0);else if(Q(e,"readystatechange"),4==Rt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Qe)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Nt.test(t?t.toLowerCase():"")}n=r}if(n)Q(e,"complete"),Q(e,"success");else{e.o=6;try{var o=Rt(e)>2?e.g.statusText:""}catch(s){o=""}e.l=o+" ["+e.ca()+"]",Pt(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Q(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Rt(e){return e.g?e.g.readyState:0}function Lt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ft(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new we,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ft("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ft("baseRetryDelayMs",5e3,e),this.Za=Ft("retryDelaySeedMs",1e4,e),this.Ta=Ft("forwardChannelMaxRetries",2,e),this.va=Ft("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Be(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ut(e){if($t(e),3==e.I){var t=e.V++,n=Xe(e.J);if(nt(n,"SID",e.M),nt(n,"RID",t),nt(n,"TYPE","terminate"),Wt(e,n),(t=new Te(e,e.j,t)).M=2,t.A=rt(Xe(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=rn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Re(t)}tn(e)}function Vt(e){e.g&&(Yt(e),e.g.cancel(),e.g=null)}function $t(e){Vt(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Bt(e){if(!qe(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||x(),b||(v(),b=!0),w.add(t,e),e.D=0}}function qt(e,t){var n;n=t?t.l:e.V++;const r=Xe(e.J);nt(r,"SID",e.M),nt(r,"RID",n),nt(r,"AID",e.K),Wt(e,r),e.u&&e.o&&Tt(r,e.u,e.o),n=new Te(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Kt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),He(e.h,n),je(n,r,t)}function Wt(e,t){e.H&&j(e.H,function(e,n){nt(t,n,e)}),e.l&&j({},function(e,n){nt(t,n,e)})}function Kt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var a=i[u].g;const n=i[u].map;if((a-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{a="req"+a+"_"||"";try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;o(n)&&(r=re(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Ht(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||x(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Gt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),Jt(e,e.A)),e.A++,!0)}function Yt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Qt(e){e.g=new Te(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=Xe(e.na);nt(t,"RID","rpc"),nt(t,"SID",e.M),nt(t,"AID",e.K),nt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&nt(t,"TO",e.ia),nt(t,"TYPE","xmlhttp"),Wt(e,t),e.u&&e.o&&Tt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=rt(Xe(t)),n.u=null,n.R=!0,Pe(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function Xt(e,t){var n=null;if(e.g==t){Zt(e),Yt(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Ge(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;Q(r=fe(),new ve(r,n)),Bt(e)}else Ht(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(We(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=be(l(e.Ea,e,t),Jt(e,e.D)),e.D++,0)))}(e,t)||2==r&&Gt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:en(e,5);break;case 4:en(e,10);break;case 3:en(e,6);break;default:en(e,2)}}function Jt(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function en(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Je(r,"https"),rt(r),t?function(e,t){const n=new we;if(a.Image){const r=new Image;r.onload=c(wt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(wt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(wt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(wt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new we;const n=new AbortController,r=setTimeout(()=>{n.abort(),wt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?wt(0,0,!0,t):wt(0,0,!1,t)}).catch(()=>{clearTimeout(r),wt(0,0,!1,t)})}(r.toString(),n)}else ye(2);e.I=0,e.l&&e.l.pa(t),tn(e),$t(e)}function tn(e){if(e.I=0,e.ja=[],e.l){const t=Ye(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function nn(e,t,n){var r=n instanceof Ze?Xe(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),et(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&Je(e,r),t&&(e.g=t),i&&et(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&nt(r,n,t),nt(r,"VER",e.ka),Wt(e,r),r}function rn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new _t({ab:n})):new At(e.ma)).Fa(e.L),t}function an(){}function on(){}function sn(e,t){Y.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new un(this)}function ln(e){ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cn(){ue.call(this),this.status=1}function un(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void jt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(It,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){jt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Q(this,"complete"),Q(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Dt(this):this.Xa())},e.Xa=function(){Dt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Rt(this)>2?this.g.status:-1}catch(Wn){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(Wn){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){ye(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=nn(this,null,this.W),Bt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Te(this,this.j,e);let a=this.o;if(this.U&&(a?(a=P(a),M(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kt(this,i,t),nt(n=Xe(this.J),"RID",e),nt(n,"CVER",22),this.G&&nt(n,"X-HTTP-Session-Id",this.G),Wt(this,n),a&&(this.R?t="headers="+Ce(Ot(a))+"&"+t:this.u&&Tt(n,this.u,a)),He(this.h,i),this.Ra&&nt(n,"TYPE","init"),this.S?(nt(n,"$req",t),nt(n,"SID","null"),i.U=!0,je(i,n,null)):je(i,n,t),this.I=2}}else 3==this.I&&(e?qt(this,e):0==this.i.length||qe(this.h)||qt(this))},e.Da=function(){if(this.v=null,Qt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Vt(this),Qt(this))},e.Va=function(){null!=this.C&&(this.C=null,Vt(this),Gt(this),ye(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},on.prototype.g=function(e,t){return new sn(e,t)},u(sn,Y),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=re(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.I&&Bt(t)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.Z.N.call(this)},u(ln,ce),u(cn,ue),u(un,an),un.prototype.ra=function(){Q(this.g,"a")},un.prototype.qa=function(e){Q(this.g,new ln(e))},un.prototype.pa=function(e){Q(this.g,new cn)},un.prototype.oa=function(){Q(this.g,"b")},on.prototype.createWebChannel=on.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,HC=function(){return new on},KC=function(){return fe()},WC=de,qC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,BC=Ee,Se.COMPLETE="complete",$C=Se,se.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Y.prototype.listen=Y.prototype.J,VC=se,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,UC=At}).apply(void 0!==GC?GC:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const YC="@firebase/firestore",QC="4.9.2";let ZC=class{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ZC.UNAUTHENTICATED=new ZC(null),ZC.GOOGLE_CREDENTIALS=new ZC("google-credentials-uid"),ZC.FIRST_PARTY=new ZC("first-party-uid"),ZC.MOCK_USER=new ZC("mock-user");let XC="12.3.0";const JC=new g_("@firebase/firestore");function eO(){return JC.logLevel}function tO(e,...t){if(JC.logLevel<=u_.DEBUG){const n=t.map(iO);JC.debug(`Firestore (${XC}): ${e}`,...n)}}function nO(e,...t){if(JC.logLevel<=u_.ERROR){const n=t.map(iO);JC.error(`Firestore (${XC}): ${e}`,...n)}}function rO(e,...t){if(JC.logLevel<=u_.WARN){const n=t.map(iO);JC.warn(`Firestore (${XC}): ${e}`,...n)}}function iO(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(n){return e}var t}function aO(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,oO(e,r,n)}function oO(e,t,n){let r=`FIRESTORE (${XC}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw nO(r),new Error(r)}function sO(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||oO(t,i,r)}function lO(e,t){return e}const cO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uO extends Yx{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dO{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ZC.UNAUTHENTICATED))}shutdown(){}}class pO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mO{constructor(e){this.t=e,this.currentUser=ZC.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){sO(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new dO;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dO,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{tO("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(tO("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dO)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(tO("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(sO("string"==typeof t.accessToken,31837,{l:t}),new hO(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sO(null===e||"string"==typeof e,2055,{h:e}),new ZC(e)}}class gO{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ZC.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yO{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new gO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ZC.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){sO(void 0===this.o,3512);const n=e=>{null!=e.error&&tO("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,tO("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{tO("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):tO("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vO(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(sO("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new vO(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wO(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xO{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=wO(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function _O(e,t){return e<t?-1:e>t?1:0}function EO(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return CO(n)===CO(i)?_O(n,i):CO(n)?1:-1}return _O(e.length,t.length)}const SO=55296,kO=57343;function CO(e){const t=e.charCodeAt(0);return t>=SO&&t<=kO}function OO(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const TO="__name__";class AO{constructor(e,t,n){void 0===t?t=0:t>e.length&&aO(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&aO(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===AO.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof AO?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=AO.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return _O(e.length,t.length)}static compareSegments(e,t){const n=AO.isNumericId(e),r=AO.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?AO.extractNumericId(e).compare(AO.extractNumericId(t)):EO(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return LC.fromString(e.substring(4,e.length-2))}}class NO extends AO{construct(e,t,n){return new NO(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new uO(cO.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new NO(t)}static emptyPath(){return new NO([])}}const IO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jO extends AO{construct(e,t,n){return new jO(e,t,n)}static isValidIdentifier(e){return IO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jO.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===TO}static keyField(){return new jO([TO])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new uO(cO.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new uO(cO.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new uO(cO.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new uO(cO.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jO(t)}static emptyPath(){return new jO([])}}class PO{constructor(e){this.path=e}static fromPath(e){return new PO(NO.fromString(e))}static fromName(e){return new PO(NO.fromString(e).popFirst(5))}static empty(){return new PO(NO.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===NO.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return NO.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new PO(new NO(e.slice()))}}function DO(e,t,n){if(!n)throw new uO(cO.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function MO(e){if(!PO.isDocumentKey(e))throw new uO(cO.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function RO(e){if(PO.isDocumentKey(e))throw new uO(cO.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function LO(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function FO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":aO(12329,{type:typeof e})}function zO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new uO(cO.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FO(e);throw new uO(cO.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function UO(e,t){const n={typeString:e};return t&&(n.value=t),n}function VO(e,t){if(!LO(e))throw new uO(cO.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==a&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new uO(cO.INVALID_ARGUMENT,n);return!0}const $O=-62135596800,BO=1e6;class qO{static now(){return qO.fromMillis(Date.now())}static fromDate(e){return qO.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*BO);return new qO(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new uO(cO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new uO(cO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$O)throw new uO(cO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new uO(cO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BO}_compareTo(e){return this.seconds===e.seconds?_O(this.nanoseconds,e.nanoseconds):_O(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qO._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(VO(e,qO._jsonSchema))return new qO(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$O;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qO._jsonSchemaVersion="firestore/timestamp/1.0",qO._jsonSchema={type:UO("string",qO._jsonSchemaVersion),seconds:UO("number"),nanoseconds:UO("number")};class WO{static fromTimestamp(e){return new WO(e)}static min(){return new WO(new qO(0,0))}static max(){return new WO(new qO(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function KO(e){return new HO(e.readTime,e.key,-1)}class HO{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new HO(WO.min(),PO.empty(),-1)}static max(){return new HO(WO.max(),PO.empty(),-1)}}function GO(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=PO.comparator(e.documentKey,t.documentKey),0!==n?n:_O(e.largestBatchId,t.largestBatchId))}class YO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function QO(e){if(e.code!==cO.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;tO("LocalStore","Unexpectedly lost primary lease")}class ZO{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aO(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ZO((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ZO?t:ZO.resolve(t)}catch(t){return ZO.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ZO.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ZO.reject(t)}static resolve(e){return new ZO((t,n)=>{t(e)})}static reject(e){return new ZO((t,n)=>{n(e)})}static waitFor(e){return new ZO((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=ZO.resolve(!1);for(const n of e)t=t.next(e=>e?ZO.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ZO((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new ZO((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function XO(e){return"IndexedDbTransactionError"===e.name}class JO{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}JO.ce=-1;function eT(e){return null==e}function tT(e){return 0===e&&1/e==-1/0}function nT(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function rT(e){return e+""}function iT(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function aT(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function oT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sT{constructor(e,t){this.comparator=e,this.root=t||cT.EMPTY}insert(e,t){return new sT(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cT.BLACK,null,null))}remove(e){return new sT(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cT.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lT(this.root,e,this.comparator,!1)}getReverseIterator(){return new lT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lT(this.root,e,this.comparator,!0)}}class lT{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cT{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cT.RED,this.left=null!=r?r:cT.EMPTY,this.right=null!=i?i:cT.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new cT(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return cT.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return cT.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cT.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cT.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw aO(43730,{key:this.key,value:this.value});if(this.right.isRed())throw aO(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw aO(27949);return e+(this.isRed()?0:1)}}cT.EMPTY=null,cT.RED=!0,cT.BLACK=!1,cT.EMPTY=new class{constructor(){this.size=0}get key(){throw aO(57766)}get value(){throw aO(16141)}get color(){throw aO(16727)}get left(){throw aO(29726)}get right(){throw aO(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new cT(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uT{constructor(e){this.comparator=e,this.data=new sT(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(e){return new dT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof uT))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new uT(this.comparator);return t.data=e,t}}class dT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hT{constructor(e){this.fields=e,e.sort(jO.comparator)}static empty(){return new hT([])}unionWith(e){let t=new uT(jO.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hT(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return OO(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class fT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pT{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new fT("Invalid base64 string: "+t):t}}(e);return new pT(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new pT(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _O(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pT.EMPTY_BYTE_STRING=new pT("");const mT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gT(e){if(sO(!!e,39018),"string"==typeof e){let t=0;const n=mT.exec(e);if(sO(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yT(e.seconds),nanos:yT(e.nanos)}}function yT(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vT(e){return"string"==typeof e?pT.fromBase64String(e):pT.fromUint8Array(e)}const bT="server_timestamp",wT="__type__",xT="__previous_value__",_T="__local_write_time__";function ET(e){var t,n;return(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[wT])?void 0:n.stringValue)===bT}function ST(e){const t=e.mapValue.fields[xT];return ET(t)?ST(t):t}function kT(e){const t=gT(e.mapValue.fields[_T].timestampValue);return new qO(t.seconds,t.nanos)}class CT{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const OT="(default)";class TT{constructor(e,t){this.projectId=e,this.database=t||OT}static empty(){return new TT("","")}get isDefaultDatabase(){return this.database===OT}isEqual(e){return e instanceof TT&&e.projectId===this.projectId&&e.database===this.database}}const AT="__type__",NT="__max__",IT={},jT="__vector__",PT="value";function DT(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ET(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===NT}(e)?9007199254740991:function(e){var t,n;const r=null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[AT])?void 0:n.stringValue;return r===jT}(e)?10:11:aO(28295,{value:e})}function MT(e,t){if(e===t)return!0;const n=DT(e);if(n!==DT(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kT(e).isEqual(kT(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gT(e.timestampValue),r=gT(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,vT(e.bytesValue).isEqual(vT(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yT(e.geoPointValue.latitude)===yT(t.geoPointValue.latitude)&&yT(e.geoPointValue.longitude)===yT(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yT(e.integerValue)===yT(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=yT(e.doubleValue),r=yT(t.doubleValue);return n===r?tT(n)===tT(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return OO(e.arrayValue.values||[],t.arrayValue.values||[],MT);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iT(n)!==iT(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!MT(n[i],r[i])))return!1;return!0}(e,t);default:return aO(52216,{left:e})}var r}function RT(e,t){return void 0!==(e.values||[]).find(e=>MT(e,t))}function LT(e,t){if(e===t)return 0;const n=DT(e),r=DT(t);if(n!==r)return _O(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _O(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=yT(e.integerValue||e.doubleValue),r=yT(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return FT(e.timestampValue,t.timestampValue);case 4:return FT(kT(e),kT(t));case 5:return EO(e.stringValue,t.stringValue);case 6:return function(e,t){const n=vT(e),r=vT(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_O(n[i],r[i]);if(0!==e)return e}return _O(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_O(yT(e.latitude),yT(t.latitude));return 0!==n?n:_O(yT(e.longitude),yT(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zT(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null==(n=o[PT])?void 0:n.arrayValue,c=null==(r=s[PT])?void 0:r.arrayValue,u=_O((null==(i=null==l?void 0:l.values)?void 0:i.length)||0,(null==(a=null==c?void 0:c.values)?void 0:a.length)||0);return 0!==u?u:zT(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===IT&&t===IT)return 0;if(e===IT)return 1;if(t===IT)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=EO(r[o],a[o]);if(0!==e)return e;const t=LT(n[r[o]],i[a[o]]);if(0!==t)return t}return _O(r.length,a.length)}(e.mapValue,t.mapValue);default:throw aO(23264,{he:n})}}function FT(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _O(e,t);const n=gT(e),r=gT(t),i=_O(n.seconds,r.seconds);return 0!==i?i:_O(n.nanos,r.nanos)}function zT(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=LT(n[i],r[i]);if(e)return e}return _O(n.length,r.length)}function UT(e){return VT(e)}function VT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gT(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vT(e.bytesValue).toBase64():"referenceValue"in e?function(e){return PO.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=VT(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${VT(e.fields[i])}`;return n+"}"}(e.mapValue):aO(61005,{value:e})}function $T(e){switch(DT(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ST(e);return t?16+$T(t):16;case 5:return 2*e.stringValue.length;case 6:return vT(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+$T(t),0);case 10:case 11:return function(e){let t=0;return aT(e.fields,(e,n)=>{t+=e.length+$T(n)}),t}(e.mapValue);default:throw aO(13486,{value:e})}}function BT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function qT(e){return!!e&&"integerValue"in e}function WT(e){return!!e&&"arrayValue"in e}function KT(e){return!!e&&"nullValue"in e}function HT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function GT(e){return!!e&&"mapValue"in e}function YT(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return aT(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=YT(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=YT(e.arrayValue.values[n]);return t}return{...e}}class QT{constructor(e){this.value=e}static empty(){return new QT({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!GT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=YT(t)}setAll(e){let t=jO.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=YT(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());GT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return MT(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];GT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){aT(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new QT(YT(this.value))}}function ZT(e){const t=[];return aT(e.fields,(e,n)=>{const r=new jO([e]);if(GT(n)){const e=ZT(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new hT(t)}class XT{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new XT(e,0,WO.min(),WO.min(),WO.min(),QT.empty(),0)}static newFoundDocument(e,t,n,r){return new XT(e,1,t,WO.min(),n,r,0)}static newNoDocument(e,t){return new XT(e,2,t,WO.min(),WO.min(),QT.empty(),0)}static newUnknownDocument(e,t){return new XT(e,3,t,WO.min(),WO.min(),QT.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(WO.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=QT.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=QT.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=WO.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof XT&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new XT(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class JT{constructor(e,t){this.position=e,this.inclusive=t}}function eA(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?PO.comparator(PO.fromName(o.referenceValue),n.key):LT(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function tA(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!MT(e.position[n],t.position[n]))return!1;return!0}class nA{constructor(e,t="asc"){this.field=e,this.dir=t}}function rA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class iA{}class aA extends iA{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hA(e,t,n):"array-contains"===t?new gA(e,n):"in"===t?new yA(e,n):"not-in"===t?new vA(e,n):"array-contains-any"===t?new bA(e,n):new aA(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fA(e,n):new pA(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(LT(t,this.value)):null!==t&&DT(this.value)===DT(t)&&this.matchesComparison(LT(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aO(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oA extends iA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new oA(e,t)}matches(e){return sA(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sA(e){return"and"===e.op}function lA(e){return function(e){for(const t of e.filters)if(t instanceof oA)return!1;return!0}(e)&&sA(e)}function cA(e){if(e instanceof aA)return e.field.canonicalString()+e.op.toString()+UT(e.value);if(lA(e))return e.filters.map(e=>cA(e)).join(",");{const t=e.filters.map(e=>cA(e)).join(",");return`${e.op}(${t})`}}function uA(e,t){return e instanceof aA?(n=e,(r=t)instanceof aA&&n.op===r.op&&n.field.isEqual(r.field)&&MT(n.value,r.value)):e instanceof oA?function(e,t){return t instanceof oA&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&uA(n,t.filters[r]),!0)}(e,t):void aO(19439);var n,r}function dA(e){return e instanceof aA?`${(t=e).field.canonicalString()} ${t.op} ${UT(t.value)}`:e instanceof oA?function(e){return e.op.toString()+" {"+e.getFilters().map(dA).join(" ,")+"}"}(e):"Filter";var t}class hA extends aA{constructor(e,t,n){super(e,t,n),this.key=PO.fromName(n.referenceValue)}matches(e){const t=PO.comparator(e.key,this.key);return this.matchesComparison(t)}}class fA extends aA{constructor(e,t){super(e,"in",t),this.keys=mA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pA extends aA{constructor(e,t){super(e,"not-in",t),this.keys=mA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mA(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>PO.fromName(e.referenceValue))}class gA extends aA{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return WT(t)&&RT(t.arrayValue,this.value)}}class yA extends aA{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&RT(this.value.arrayValue,t)}}class vA extends aA{constructor(e,t){super(e,"not-in",t)}matches(e){if(RT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!RT(this.value.arrayValue,t)}}class bA extends aA{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!WT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>RT(this.value.arrayValue,e))}}class wA{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function xA(e,t=null,n=[],r=[],i=null,a=null,o=null){return new wA(e,t,n,r,i,a,o)}function _A(e){const t=lO(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>cA(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),eT(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>UT(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>UT(e)).join(",")),t.Te=e}return t.Te}function EA(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tA(e.startAt,t.startAt)&&tA(e.endAt,t.endAt)}function SA(e){return PO.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class kA{constructor(e,t=null,n=[],r=[],i=null,a="F",o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CA(e){return new kA(e)}function OA(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function TA(e){return null!==e.collectionGroup}function AA(e){const t=lO(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new uT(jO.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new nA(r,n))}),e.has(jO.keyField().canonicalString())||t.Ie.push(new nA(jO.keyField(),n))}return t.Ie}function NA(e){const t=lO(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return xA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new nA(e.field,t)});const n=e.endAt?new JT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new JT(e.startAt.position,e.startAt.inclusive):null;return xA(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,AA(e))),t.Ee}function IA(e,t){const n=e.filters.concat([t]);return new kA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jA(e,t,n){return new kA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function PA(e,t){return EA(NA(e),NA(t))&&e.limitType===t.limitType}function DA(e){return`${_A(NA(e))}|lt:${e.limitType}`}function MA(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>dA(e)).join(", ")}]`),eT(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>UT(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>UT(e)).join(",")),`Target(${t})`}(NA(e))}; limitType=${e.limitType})`}function RA(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):PO.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of AA(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=eA(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,AA(n),r)||n.endAt&&!function(e,t,n){const r=eA(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,AA(n),r)));var n,r}function LA(e){return(t,n)=>{let r=!1;for(const i of AA(e)){const e=FA(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function FA(e,t,n){const r=e.field.isKeyField()?PO.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?LT(r,i):aO(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return aO(19790,{direction:e.dir})}}class zA{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){aT(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}const UA=new sT(PO.comparator);function VA(){return UA}const $A=new sT(PO.comparator);function BA(...e){let t=$A;for(const n of e)t=t.insert(n.key,n);return t}function qA(e){let t=$A;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function WA(){return HA()}function KA(){return HA()}function HA(){return new zA(e=>e.toString(),(e,t)=>e.isEqual(t))}const GA=new sT(PO.comparator),YA=new uT(PO.comparator);function QA(...e){let t=YA;for(const n of e)t=t.add(n);return t}const ZA=new uT(_O);function XA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tT(t)?"-0":t}}function JA(e){return{integerValue:""+e}}function eN(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!tT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?JA(t):XA(e,t)}class tN{constructor(){this._=void 0}}function nN(e,t,n){return e instanceof aN?function(e,t){const n={fields:{[wT]:{stringValue:bT},[_T]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ET(t)&&(t=ST(t)),t&&(n.fields[xT]=t),{mapValue:n}}(n,t):e instanceof oN?sN(e,t):e instanceof lN?cN(e,t):function(e,t){const n=iN(e,t),r=dN(n)+dN(e.Ae);return qT(n)&&qT(e.Ae)?JA(r):XA(e.serializer,r)}(e,t)}function rN(e,t,n){return e instanceof oN?sN(e,t):e instanceof lN?cN(e,t):n}function iN(e,t){return e instanceof uN?qT(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class aN extends tN{}class oN extends tN{constructor(e){super(),this.elements=e}}function sN(e,t){const n=hN(t);for(const r of e.elements)n.some(e=>MT(e,r))||n.push(r);return{arrayValue:{values:n}}}class lN extends tN{constructor(e){super(),this.elements=e}}function cN(e,t){let n=hN(t);for(const r of e.elements)n=n.filter(e=>!MT(e,r));return{arrayValue:{values:n}}}class uN extends tN{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dN(e){return yT(e.integerValue||e.doubleValue)}function hN(e){return WT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fN{constructor(e,t){this.field=e,this.transform=t}}class pN{constructor(e,t){this.version=e,this.transformResults=t}}class mN{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mN}static exists(e){return new mN(void 0,e)}static updateTime(e){return new mN(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class yN{}function vN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new TN(e.key,mN.none()):new EN(e.key,e.data,mN.none());{const n=e.data,r=QT.empty();let i=new uT(jO.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new SN(e.key,r,new hT(i.toArray()),mN.none())}}function bN(e,t,n){var r;e instanceof EN?function(e,t,n){const r=e.value.clone(),i=CN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof SN?function(e,t,n){if(!gN(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=CN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function wN(e,t,n,r){return e instanceof EN?function(e,t,n,r){if(!gN(e.precondition,t))return n;const i=e.value.clone(),a=ON(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof SN?function(e,t,n,r){if(!gN(e.precondition,t))return n;const i=ON(e.fieldTransforms,r,t),a=t.data;return a.setAll(kN(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,a=n,gN(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a);var i,a}function xN(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=iN(r.transform,e||null);null!=i&&(null===n&&(n=QT.empty()),n.set(r.field,i))}return n||null}function _N(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&OO(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof oN&&r instanceof oN||n instanceof lN&&r instanceof lN?OO(n.elements,r.elements,MT):n instanceof uN&&r instanceof uN?MT(n.Ae,r.Ae):n instanceof aN&&r instanceof aN);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class EN extends yN{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class SN extends yN{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kN(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function CN(e,t,n){const r=new Map;sO(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,rN(o,s,n[i]))}return r}function ON(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,nN(e,a,t))}return r}class TN extends yN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends yN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NN{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bN(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wN(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wN(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=KA();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=vN(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(WO.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),QA())}isEqual(e){return this.batchId===e.batchId&&OO(this.mutations,e.mutations,(e,t)=>_N(e,t))&&OO(this.baseMutations,e.baseMutations,(e,t)=>_N(e,t))}}class IN{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){sO(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return GA}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new IN(e,t,n,r)}}let jN=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}};class PN{constructor(e,t){this.count=e,this.unchangedNames=t}}var DN,MN;function RN(e){switch(e){case cO.OK:return aO(64938);case cO.CANCELLED:case cO.UNKNOWN:case cO.DEADLINE_EXCEEDED:case cO.RESOURCE_EXHAUSTED:case cO.INTERNAL:case cO.UNAVAILABLE:case cO.UNAUTHENTICATED:return!1;case cO.INVALID_ARGUMENT:case cO.NOT_FOUND:case cO.ALREADY_EXISTS:case cO.PERMISSION_DENIED:case cO.FAILED_PRECONDITION:case cO.ABORTED:case cO.OUT_OF_RANGE:case cO.UNIMPLEMENTED:case cO.DATA_LOSS:return!0;default:return aO(15467,{code:e})}}function LN(e){if(void 0===e)return nO("GRPC error has no .code"),cO.UNKNOWN;switch(e){case DN.OK:return cO.OK;case DN.CANCELLED:return cO.CANCELLED;case DN.UNKNOWN:return cO.UNKNOWN;case DN.DEADLINE_EXCEEDED:return cO.DEADLINE_EXCEEDED;case DN.RESOURCE_EXHAUSTED:return cO.RESOURCE_EXHAUSTED;case DN.INTERNAL:return cO.INTERNAL;case DN.UNAVAILABLE:return cO.UNAVAILABLE;case DN.UNAUTHENTICATED:return cO.UNAUTHENTICATED;case DN.INVALID_ARGUMENT:return cO.INVALID_ARGUMENT;case DN.NOT_FOUND:return cO.NOT_FOUND;case DN.ALREADY_EXISTS:return cO.ALREADY_EXISTS;case DN.PERMISSION_DENIED:return cO.PERMISSION_DENIED;case DN.FAILED_PRECONDITION:return cO.FAILED_PRECONDITION;case DN.ABORTED:return cO.ABORTED;case DN.OUT_OF_RANGE:return cO.OUT_OF_RANGE;case DN.UNIMPLEMENTED:return cO.UNIMPLEMENTED;case DN.DATA_LOSS:return cO.DATA_LOSS;default:return aO(39323,{code:e})}}(MN=DN||(DN={}))[MN.OK=0]="OK",MN[MN.CANCELLED=1]="CANCELLED",MN[MN.UNKNOWN=2]="UNKNOWN",MN[MN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",MN[MN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",MN[MN.NOT_FOUND=5]="NOT_FOUND",MN[MN.ALREADY_EXISTS=6]="ALREADY_EXISTS",MN[MN.PERMISSION_DENIED=7]="PERMISSION_DENIED",MN[MN.UNAUTHENTICATED=16]="UNAUTHENTICATED",MN[MN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",MN[MN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",MN[MN.ABORTED=10]="ABORTED",MN[MN.OUT_OF_RANGE=11]="OUT_OF_RANGE",MN[MN.UNIMPLEMENTED=12]="UNIMPLEMENTED",MN[MN.INTERNAL=13]="INTERNAL",MN[MN.UNAVAILABLE=14]="UNAVAILABLE",MN[MN.DATA_LOSS=15]="DATA_LOSS";const FN=new LC([4294967295,4294967295],0);function zN(e){const t=(new TextEncoder).encode(e),n=new FC;return n.update(t),new Uint8Array(n.digest())}function UN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new LC([n,r],0),new LC([i,a],0)]}class VN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new $N(`Invalid padding: ${t}`);if(n<0)throw new $N(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new $N(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new $N(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=LC.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(LC.fromNumber(n)));return 1===r.compare(FN)&&(r=new LC([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=zN(e),[n,r]=UN(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new VN(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=zN(e),[n,r]=UN(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class $N extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class BN{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qN.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new BN(WO.min(),r,new sT(_O),VA(),QA())}}class qN{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qN(n,t,QA(),QA(),QA())}}class WN{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class KN{constructor(e,t){this.targetId=e,this.Ce=t}}class HN{constructor(e,t,n=pT.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class GN{constructor(){this.ve=0,this.Fe=ZN(),this.Me=pT.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=QA(),t=QA(),n=QA();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aO(38017,{changeType:i})}}),new qN(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ZN()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,sO(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YN{constructor(e){this.Ge=e,this.ze=new Map,this.je=VA(),this.Je=QN(),this.He=QN(),this.Ye=new sT(_O)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:aO(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(SA(i))if(0===n){const e=new PO(i.path);this.et(t,e,XT.newNoDocument(e,WO.min()))}else sO(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=vT(n).toUint8Array()}catch(s){if(s instanceof fT)return rO("Decoding the base64 bloom filter in existence filter failed ("+s.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw s}try{o=new VN(a,r,i)}catch(s){return rO(s instanceof $N?"BloomFilter error: ":"Applying bloom filter failed: ",s),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&SA(i.target)){const t=new PO(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,XT.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=QA();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new BN(e,t,this.Ye,this.je,n);return this.je=VA(),this.Je=QN(),this.He=QN(),this.Ye=new sT(_O),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new GN,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new uT(_O),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new uT(_O),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||tO("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GN),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function QN(){return new sT(PO.comparator)}function ZN(){return new sT(PO.comparator)}const XN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eI=(()=>({and:"AND",or:"OR"}))();class tI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nI(e,t){return e.useProto3Json||eT(t)?t:{value:t}}function rI(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aI(e,t){return rI(e,t.toTimestamp())}function oI(e){return sO(!!e,49232),WO.fromTimestamp(function(e){const t=gT(e);return new qO(t.seconds,t.nanos)}(e))}function sI(e,t){return lI(e,t).canonicalString()}function lI(e,t){const n=(r=e,new NO(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function cI(e){const t=NO.fromString(e);return sO(TI(t),10190,{key:t.toString()}),t}function uI(e,t){return sI(e.databaseId,t.path)}function dI(e,t){const n=cI(t);if(n.get(1)!==e.databaseId.projectId)throw new uO(cO.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new uO(cO.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new PO(pI(n))}function hI(e,t){return sI(e.databaseId,t)}function fI(e){return new NO(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pI(e){return sO(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mI(e,t,n){return{name:uI(e,t),fields:n.value.mapValue.fields}}function gI(e,t){let n;if(t instanceof EN)n={update:mI(e,t.key,t.value)};else if(t instanceof TN)n={delete:uI(e,t.key)};else if(t instanceof SN)n={update:mI(e,t.key,t.data),updateMask:OI(t.fieldMask)};else{if(!(t instanceof AN))return aO(16599,{Vt:t.type});n={verify:uI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof aN)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oN)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uN)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw aO(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:aI(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:aO(27497))),n;var r,i}function yI(e,t){return{documents:[hI(e,t.path)]}}function vI(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(e,i);const a=function(e){if(0!==e.length)return CI(oA.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>{return{field:SI((t=e).field),direction:xI(t.dir)};var t})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=nI(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i};var l}function bI(e){let t=function(e){const t=cI(e);return 4===t.length?NO.emptyPath():pI(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sO(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=wI(e);return t instanceof oA&&lA(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new nA(kI((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,eT(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new JT(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new JT(n,t)}(n.endAt)),function(e,t,n,r,i,a,o,s){return new kA(e,t,n,r,i,a,o,s)}(t,i,o,a,s,"F",l,c)}function wI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kI(e.unaryFilter.field);return aA.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kI(e.unaryFilter.field);return aA.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kI(e.unaryFilter.field);return aA.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kI(e.unaryFilter.field);return aA.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return aO(61313);default:return aO(60726)}}(e):void 0!==e.fieldFilter?(t=e,aA.create(kI(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return aO(58110);default:return aO(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return oA.create(e.compositeFilter.filters.map(e=>wI(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aO(1026)}}(e.compositeFilter.op))}(e):aO(30097,{filter:e});var t}function xI(e){return XN[e]}function _I(e){return JN[e]}function EI(e){return eI[e]}function SI(e){return{fieldPath:e.canonicalString()}}function kI(e){return jO.fromServerFormat(e.fieldPath)}function CI(e){return e instanceof aA?function(e){if("=="===e.op){if(HT(e.value))return{unaryFilter:{field:SI(e.field),op:"IS_NAN"}};if(KT(e.value))return{unaryFilter:{field:SI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(HT(e.value))return{unaryFilter:{field:SI(e.field),op:"IS_NOT_NAN"}};if(KT(e.value))return{unaryFilter:{field:SI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:SI(e.field),op:_I(e.op),value:e.value}}}(e):e instanceof oA?function(e){const t=e.getFilters().map(e=>CI(e));return 1===t.length?t[0]:{compositeFilter:{op:EI(e.op),filters:t}}}(e):aO(54877,{filter:e})}function OI(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class AI{constructor(e,t,n,r,i=WO.min(),a=WO.min(),o=pT.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new AI(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new AI(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new AI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new AI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NI{constructor(e){this.yt=e}}function II(e){const t=bI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jA(t,t.limit,"L"):t}class jI{constructor(){this.Cn=new PI}addToCollectionParentIndex(e,t){return this.Cn.add(t),ZO.resolve()}getCollectionParents(e,t){return ZO.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ZO.resolve()}deleteFieldIndex(e,t){return ZO.resolve()}deleteAllFieldIndexes(e){return ZO.resolve()}createTargetIndexes(e,t){return ZO.resolve()}getDocumentsMatchingTarget(e,t){return ZO.resolve(null)}getIndexType(e,t){return ZO.resolve(0)}getFieldIndexes(e,t){return ZO.resolve([])}getNextCollectionGroupToUpdate(e){return ZO.resolve(null)}getMinOffset(e,t){return ZO.resolve(HO.min())}getMinOffsetFromCollectionGroup(e,t){return ZO.resolve(HO.min())}updateCollectionGroup(e,t,n){return ZO.resolve()}updateIndexEntries(e,t){return ZO.resolve()}}class PI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uT(NO.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uT(NO.comparator)).toArray()}}const DI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MI=41943040;class RI{static withCacheSize(e){return new RI(e,RI.DEFAULT_COLLECTION_PERCENTILE,RI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}RI.DEFAULT_COLLECTION_PERCENTILE=10,RI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,RI.DEFAULT=new RI(MI,RI.DEFAULT_COLLECTION_PERCENTILE,RI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),RI.DISABLED=new RI(-1,0,0);class LI{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new LI(0)}static cr(){return new LI(-1)}}const FI="LruGarbageCollector";function zI([e,t],[n,r]){const i=_O(e,n);return 0===i?_O(t,r):i}class UI{constructor(e){this.Ir=e,this.buffer=new uT(zI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();zI(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){tO(FI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){XO(e)?tO(FI,"Ignoring IndexedDB error during garbage collection: ",e):await QO(e)}await this.Vr(3e5)})}}class $I{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ZO.resolve(JO.ce);const n=new UI(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tO("LruGarbageCollector","Garbage collection skipped; disabled"),ZO.resolve(DI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(tO("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DI):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(tO("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),eO()<=u_.DEBUG&&tO("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms\n\tRemoved ${i} targets in `+(s-o)+`ms\n\tRemoved ${e} documents in `+(l-s)+`ms\nTotal Duration: ${l-c}ms`),ZO.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class BI{constructor(){this.changes=new zA(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,XT.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ZO.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&wN(n.mutation,e,hT.empty(),qO.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,QA()).next(()=>t))}getLocalViewOfDocuments(e,t,n=QA()){const r=WA();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=BA();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=WA();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,QA()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=VA();const a=HA(),o=HA();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof SN)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),wN(o.mutation,t,o.mutation.getFieldMask(),qO.now())):a.set(t.key,hT.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>o.set(e,new qI(t,a.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const n=HA();let r=new sT((e,t)=>e-t),i=QA();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||hT.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||QA()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=KA();l.forEach(e=>{if(!i.has(e)){const r=vN(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ZO.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,PO.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):TA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ZO.resolve(WA());let o=-1,s=i;return a.next(t=>ZO.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ZO.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,QA())).next(e=>({batchId:o,changes:qA(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new PO(t)).next(e=>{let t=BA();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=BA();return this.indexManager.getCollectionParents(e,i).next(o=>ZO.forEach(o,o=>{const s=(l=t,c=o.child(i),new kA(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,XT.newInvalidDocument(r)))});let n=BA();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&wN(a.mutation,r,hT.empty(),qO.now()),RA(t,r)&&(n=n.insert(e,r))}),n})}}class KI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ZO.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:oI(n.createTime)}),ZO.resolve();var n}getNamedQuery(e,t){return ZO.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:II(n.bundledQuery),readTime:oI(n.readTime)}),ZO.resolve();var n}}class HI{constructor(){this.overlays=new sT(PO.comparator),this.qr=new Map}getOverlay(e,t){return ZO.resolve(this.overlays.get(t))}getOverlays(e,t){const n=WA();return ZO.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ZO.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ZO.resolve()}getOverlaysForCollection(e,t,n){const r=WA(),i=t.length+1,a=new PO(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ZO.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sT((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=WA(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=WA(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ZO.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jN(t,n));let i=this.qr.get(t);void 0===i&&(i=QA(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class GI{constructor(){this.sessionToken=pT.EMPTY_BYTE_STRING}getSessionToken(e){return ZO.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ZO.resolve()}}class YI{constructor(){this.Qr=new uT(QI.$r),this.Ur=new uT(QI.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new QI(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new QI(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new PO(new NO([])),n=new QI(t,e),r=new QI(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new PO(new NO([])),n=new QI(t,e),r=new QI(t,e+1);let i=QA();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new QI(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class QI{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return PO.comparator(e.key,t.key)||_O(e.Yr,t.Yr)}static Kr(e,t){return _O(e.Yr,t.Yr)||PO.comparator(e.key,t.key)}}class ZI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new uT(QI.$r)}checkEmpty(e){return ZO.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new NN(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new QI(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ZO.resolve(a)}lookupMutationBatch(e,t){return ZO.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return ZO.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ZO.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return ZO.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new QI(t,0),r=new QI(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),ZO.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uT(_O);return t.forEach(e=>{const t=new QI(e,0),r=new QI(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ZO.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;PO.isDocumentKey(i)||(i=i.child(""));const a=new QI(new PO(i),0);let o=new uT(_O);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),ZO.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){sO(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ZO.forEach(t.mutations,r=>{const i=new QI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new QI(t,0),r=this.Zr.firstAfterOrEqual(n);return ZO.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ZO.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XI{constructor(e){this.ri=e,this.docs=new sT(PO.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ZO.resolve(n?n.document.mutableCopy():XT.newInvalidDocument(t))}getEntries(e,t){let n=VA();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():XT.newInvalidDocument(e))}),ZO.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=VA();const a=t.path,o=new PO(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||GO(KO(o),n)<=0||(r.has(o.key)||RA(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ZO.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aO(9500)}ii(e,t){return ZO.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new JI(this)}getSize(e){return ZO.resolve(this.size)}}class JI extends BI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ZO.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ej{constructor(e){this.persistence=e,this.si=new zA(e=>_A(e),EA),this.lastRemoteSnapshotVersion=WO.min(),this.highestTargetId=0,this.oi=0,this._i=new YI,this.targetCount=0,this.ai=LI.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ZO.resolve()}getLastRemoteSnapshotVersion(e){return ZO.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ZO.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ZO.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ZO.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new LI(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ZO.resolve()}updateTargetData(e,t){return this.Pr(t),ZO.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ZO.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ZO.waitFor(i).next(()=>r)}getTargetCount(e){return ZO.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ZO.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ZO.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ZO.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ZO.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ZO.resolve(n)}containsKey(e,t){return ZO.resolve(this._i.containsKey(t))}}class tj{constructor(e,t){this.ui={},this.overlays={},this.ci=new JO(0),this.li=!1,this.li=!0,this.hi=new GI,this.referenceDelegate=e(this),this.Pi=new ej(this),this.indexManager=new jI,this.remoteDocumentCache=new XI(e=>this.referenceDelegate.Ti(e)),this.serializer=new NI(t),this.Ii=new KI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ZI(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){tO("MemoryPersistence","Starting transaction:",e);const r=new nj(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ZO.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class nj extends YO{constructor(e){super(),this.currentSequenceNumber=e}}class rj{constructor(e){this.persistence=e,this.Ri=new YI,this.Vi=null}static mi(e){return new rj(e)}get fi(){if(this.Vi)return this.Vi;throw aO(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ZO.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ZO.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ZO.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ZO.forEach(this.fi,n=>{const r=PO.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,WO.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ZO.or([()=>ZO.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ij{constructor(e,t){this.persistence=e,this.pi=new zA(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rT(t)),t=nT(e.get(n),t);return rT(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new $I(e,t)}(this,t)}static mi(e,t){return new ij(e,t)}Ei(){}di(e){return ZO.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ZO.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ZO.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,WO.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ZO.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ZO.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ZO.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ZO.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$T(e.data.value)),t}br(e,t,n){return ZO.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ZO.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class aj{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=QA(),r=QA();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new aj(e,t.fromCache,n,r)}}class oj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Gx()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Hx())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new oj;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(eO()<=u_.DEBUG&&tO("QueryEngine","SDK will not create cache indexes for query:",MA(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ZO.resolve()):(eO()<=u_.DEBUG&&tO("QueryEngine","Query:",MA(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(eO()<=u_.DEBUG&&tO("QueryEngine","The SDK decides to create cache indexes for query:",MA(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,NA(t))):ZO.resolve())}ys(e,t){if(OA(t))return ZO.resolve(null);let n=NA(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jA(t,null,"F"),n=NA(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=QA(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,jA(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return OA(t)||r.isEqual(WO.min())?ZO.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?ZO.resolve(null):(eO()<=u_.DEBUG&&tO("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),MA(t)),this.vs(e,a,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=WO.fromTimestamp(1e9===r?new qO(n+1,0):new qO(n,r));return new HO(i,PO.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new uT(LA(e));return t.forEach((t,r)=>{RA(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return eO()<=u_.DEBUG&&tO("QueryEngine","Using full collection scan to execute query:",MA(t)),this.ps.getDocumentsMatchingQuery(e,t,HO.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const lj="LocalStore";class cj{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new sT(_O),this.xs=new zA(e=>_A(e),EA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function uj(e,t){const n=lO(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=QA();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function dj(e){const t=lO(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function hj(e,t){const n=lO(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(pT.EMPTY_BYTE_STRING,WO.min()).withLastLimboFreeSnapshotVersion(WO.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=VA(),l=QA();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(function(e,t,n){let r=QA(),i=QA();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=VA();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(WO.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):tO(lj,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(WO.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return ZO.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}function fj(e,t){const n=lO(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function pj(e,t,n){const r=lO(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(o){if(!XO(o))throw o;tO(lj,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function mj(e,t,n){const r=lO(e);let i=WO.min(),a=QA();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=lO(e),i=r.xs.get(n);return void 0!==i?ZO.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,NA(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:WO.min(),n?a:QA())).next(e=>(function(e,t,n){let r=e.Os.get(t)||WO.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:a})))}class gj{constructor(){this.activeTargetIds=ZA}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.Mo=new gj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gj,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vj{Oo(e){}shutdown(){}}const bj="ConnectivityMonitor";class wj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tO(bj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){tO(bj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xj=null;function _j(){return null===xj?xj=268435456+Math.round(2147483648*Math.random()):xj++,"0x"+xj.toString(16)}const Ej="RestConnection",Sj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===OT?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const a=_j(),o=this.zo(e,t.toUriEncodedString());tO(Ej,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=$x(l);return this.Jo(e,o,s,n,c).then(t=>(tO(Ej,`Received RPC '${e}' ${a}: `,t),t),t=>{throw rO(Ej,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+XC,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Sj[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class Cj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Oj="WebChannelConnection";class Tj extends kj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=_j();return new Promise((i,o)=>{const s=new UC;s.setWithCredentials(!0),s.listenOnce($C.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case BC.NO_ERROR:const t=s.getResponseJson();tO(Oj,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case BC.TIMEOUT:tO(Oj,`RPC '${e}' ${a} timed out`),o(new uO(cO.DEADLINE_EXCEEDED,"Request time out"));break;case BC.HTTP_ERROR:const n=s.getStatus();if(tO(Oj,`RPC '${e}' ${a} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cO).indexOf(t)>=0?t:cO.UNKNOWN}(t.status);o(new uO(e,t.message))}else o(new uO(cO.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new uO(cO.UNAVAILABLE,"Connection failed."));break;default:aO(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{tO(Oj,`RPC '${e}' ${a} completed.`)}});const l=JSON.stringify(r);tO(Oj,`RPC '${e}' ${a} sending request:`,r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=_j(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=HC(),o=KC(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");tO(Oj,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Cj({Yo:t=>{h?tO(Oj,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(tO(Oj,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),tO(Oj,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,VC.EventType.OPEN,()=>{h||(tO(Oj,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,VC.EventType.CLOSE,()=>{h||(h=!0,tO(Oj,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,VC.EventType.ERROR,t=>{h||(h=!0,rO(Oj,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new uO(cO.UNAVAILABLE,"The operation could not be completed")))}),p(u,VC.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];sO(!!i,16349);const a=i,o=(null==a?void 0:a.error)||(null==(n=a[0])?void 0:n.error);if(o){tO(Oj,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=DN[e];if(void 0!==t)return LN(t)}(t),i=o.message;void 0===n&&(n=cO.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new uO(n,i)),u.close()}else tO(Oj,`RPC '${e}' stream ${r} received:`,i),f.u_(i)}}),p(o,WC.STAT_EVENT,t=>{t.stat===qC.PROXY?tO(Oj,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qC.NOPROXY&&tO(Oj,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Aj(){return"undefined"!=typeof document?document:null}function Nj(e){return new tI(e,!0)}class Ij{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&tO("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jj="PersistentStream";class Pj{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ij(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===cO.RESOURCE_EXHAUSTED?(nO(t.toString()),nO("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===cO.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new uO(cO.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return tO(jj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(tO(jj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dj extends Pj{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:aO(39313,{state:r}),a=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(sO(void 0===t||"string"==typeof t,58123),pT.fromBase64String(t||"")):(sO(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),pT.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(e){const t=void 0===e.code?cO.UNKNOWN:LN(e.code);return new uO(t,e.message||"")}(s);n=new HN(i,a,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=dI(e,r.document.name),a=oI(r.document.updateTime),o=r.document.createTime?oI(r.document.createTime):WO.min(),s=new QT({mapValue:{fields:r.document.fields}}),l=XT.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new WN(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=dI(e,r.document),a=r.readTime?oI(r.readTime):WO.min(),o=XT.newNoDocument(i,a),s=r.removedTargetIds||[];n=new WN([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=dI(e,r.document),a=r.removedTargetIds||[];n=new WN([],a,i,null)}else{if(!("filter"in t))return aO(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new PN(r,i),o=e.targetId;n=new KN(o,a)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return WO.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?WO.min():t.readTime?oI(t.readTime):WO.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=fI(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=SA(r)?{documents:yI(e,r)}:{query:vI(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iI(e,t.resumeToken);const r=nI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(WO.min())>0){n.readTime=rI(e,t.snapshotVersion.toTimestamp());const r=nI(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aO(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=fI(this.serializer),t.removeTarget=e,this.q_(t)}}class Mj extends Pj{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return sO(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,sO(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){sO(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(sO(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?oI(e.updateTime):oI(t);return n.isEqual(WO.min())&&(n=oI(t)),new pN(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=oI(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=fI(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gI(this.serializer,e))};this.q_(t)}}class Rj{}class Lj extends Rj{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new uO(cO.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,lI(t,n),r,i,a)).catch(e=>{throw"FirebaseError"===e.name?(e.code===cO.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new uO(cO.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,lI(t,n),r,a,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===cO.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new uO(cO.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Fj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nO(t),this.aa=!1):tO("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const zj="RemoteStore";class Uj{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Yj(this)&&(tO(zj,"Restarting streams for network reachability change."),await async function(e){const t=lO(e);t.Ea.add(4),await $j(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Vj(t)}(this))})}),this.Ra=new Fj(n,r)}}async function Vj(e){if(Yj(e))for(const t of e.da)await t(!0)}async function $j(e){for(const t of e.da)await t(!1)}function Bj(e,t){const n=lO(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Gj(n)?Hj(n):fP(n).O_()&&Wj(n,t))}function qj(e,t){const n=lO(e),r=fP(n);n.Ia.delete(t),r.O_()&&Kj(n,t),0===n.Ia.size&&(r.O_()?r.L_():Yj(n)&&n.Ra.set("Unknown"))}function Wj(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(WO.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fP(e).Y_(t)}function Kj(e,t){e.Va.Ue(t),fP(e).Z_(t)}function Hj(e){e.Va=new YN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),fP(e).start(),e.Ra.ua()}function Gj(e){return Yj(e)&&!fP(e).x_()&&e.Ia.size>0}function Yj(e){return 0===lO(e).Ea.size}function Qj(e){e.Va=void 0}async function Zj(e){e.Ra.set("Online")}async function Xj(e){e.Ia.forEach((t,n)=>{Wj(e,t)})}async function Jj(e,t){Qj(e),Gj(e)?(e.Ra.ha(t),Hj(e)):e.Ra.set("Unknown")}async function eP(e,t,n){if(e.Ra.set("Online"),t instanceof HN&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){tO(zj,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await tP(e,r)}else if(t instanceof WN?e.Va.Ze(t):t instanceof KN?e.Va.st(t):e.Va.tt(t),!n.isEqual(WO.min()))try{const t=await dj(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(pT.EMPTY_BYTE_STRING,r.snapshotVersion)),Kj(e,t);const i=new AI(r.target,t,n,r.sequenceNumber);Wj(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){tO(zj,"Failed to raise snapshot:",i),await tP(e,i)}}async function tP(e,t,n){if(!XO(t))throw t;e.Ea.add(1),await $j(e),e.Ra.set("Offline"),n||(n=()=>dj(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tO(zj,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Vj(e)})}function nP(e,t){return t().catch(n=>tP(e,n,t))}async function rP(e){const t=lO(e),n=pP(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;iP(t);)try{const e=await fj(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,aP(t,e)}catch(i){await tP(t,i)}oP(t)&&sP(t)}function iP(e){return Yj(e)&&e.Ta.length<10}function aP(e,t){e.Ta.push(t);const n=pP(e);n.O_()&&n.X_&&n.ea(t.mutations)}function oP(e){return Yj(e)&&!pP(e).x_()&&e.Ta.length>0}function sP(e){pP(e).start()}async function lP(e){pP(e).ra()}async function cP(e){const t=pP(e);for(const n of e.Ta)t.ea(n.mutations)}async function uP(e,t,n){const r=e.Ta.shift(),i=IN.from(r,t,n);await nP(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await rP(e)}async function dP(e,t){t&&pP(e).X_&&await async function(e,t){if(RN(n=t.code)&&n!==cO.ABORTED){const n=e.Ta.shift();pP(e).B_(),await nP(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await rP(e)}var n}(e,t),oP(e)&&sP(e)}async function hP(e,t){const n=lO(e);n.asyncQueue.verifyOperationInProgress(),tO(zj,"RemoteStore received new credentials");const r=Yj(n);n.Ea.add(3),await $j(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Vj(n)}function fP(e){return e.ma||(e.ma=function(e,t,n){const r=lO(e);return r.sa(),new Dj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Zj.bind(null,e),t_:Xj.bind(null,e),r_:Jj.bind(null,e),H_:eP.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Gj(e)?Hj(e):e.Ra.set("Unknown")):(await e.ma.stop(),Qj(e))})),e.ma}function pP(e){return e.fa||(e.fa=function(e,t,n){const r=lO(e);return r.sa(),new Mj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:lP.bind(null,e),r_:dP.bind(null,e),ta:cP.bind(null,e),na:uP.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await rP(e)):(await e.fa.stop(),e.Ta.length>0&&(tO(zj,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class mP{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dO,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new mP(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uO(cO.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gP(e,t){if(nO("AsyncQueue",`${t}: ${e}`),XO(e))return new uO(cO.UNAVAILABLE,`${t}: ${e}`);throw e}class yP{static emptySet(e){return new yP(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||PO.comparator(t.key,n.key):(e,t)=>PO.comparator(e.key,t.key),this.keyedMap=BA(),this.sortedSet=new sT(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yP))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yP;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class vP{constructor(){this.ga=new sT(PO.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):aO(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class bP{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new bP(e,t,yP.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&PA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class wP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xP{constructor(){this.queries=_P(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=lO(e),r=n.queries;n.queries=_P(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new uO(cO.ABORTED,"Firestore shutting down"))}}function _P(){return new zA(e=>DA(e),PA)}async function EP(e,t){const n=lO(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new wP,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const e=gP(o,`Initialization of query '${MA(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&OP(n)}async function SP(e,t){const n=lO(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kP(e,t){const n=lO(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&OP(n)}function CP(e,t,n){const r=lO(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function OP(e){e.Ca.forEach(e=>{e.next()})}var TP,AP;(AP=TP||(TP={})).Ma="default",AP.Cache="cache";class NP{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new bP(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=bP.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==TP.Cache}}class IP{constructor(e){this.key=e}}class jP{constructor(e){this.key=e}}class PP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=QA(),this.mutatedKeys=QA(),this.eu=LA(e),this.tu=new yP(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new vP,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=RA(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aO(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new bP(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=QA(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new jP(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new IP(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=QA();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return bP.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const DP="SyncEngine";class MP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class RP{constructor(e){this.key=e,this.hu=!1}}class LP{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zA(e=>DA(e),PA),this.Iu=new Map,this.Eu=new Set,this.du=new sT(PO.comparator),this.Au=new Map,this.Ru=new YI,this.Vu={},this.mu=new Map,this.fu=LI.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function FP(e,t,n=!0){const r=aD(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await UP(r,t,n,!0),i}async function zP(e,t){const n=aD(e);await UP(n,t,!0,!1)}async function UP(e,t,n,r){const i=await function(e,t){const n=lO(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,ZO.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new AI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,NA(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await mj(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return JP(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await mj(e.localStore,t,!0),o=new PP(t,a.Qs),s=o.ru(a.documents),l=qN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);JP(e,n,c.au);const u=new MP(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Bj(e.remoteStore,i),s}async function VP(e,t,n){const r=lO(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!PA(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pj(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qj(r.remoteStore,i.targetId),ZP(r,i.targetId)}).catch(QO)):(ZP(r,i.targetId),await pj(r.localStore,i.targetId,!0))}async function $P(e,t){const n=lO(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qj(n.remoteStore,r.targetId))}async function BP(e,t,n){const r=function(e){const t=lO(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,t),t}(e);try{const e=await function(e,t){const n=lO(e),r=qO.now(),i=t.reduce((e,t)=>e.add(t.key),QA());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=VA(),l=QA();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=xN(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new SN(e.key,t,ZT(t.value.mapValue),mN.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:qA(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new sT(_O)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await nD(r,e.changes),await rP(r.remoteStore)}catch(i){const e=gP(i,"Failed to persist write");n.reject(e)}}async function qP(e,t){const n=lO(e);try{const e=await hj(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(sO(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?sO(r.hu,14607):e.removedDocuments.size>0&&(sO(r.hu,42227),r.hu=!1))}),await nD(n,e,t)}catch(r){await QO(r)}}function WP(e,t,n){const r=lO(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=lO(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&OP(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function KP(e,t,n){const r=lO(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new sT(PO.comparator);e=e.insert(a,XT.newNoDocument(a,WO.min()));const n=QA().add(a),i=new BN(WO.min(),new Map,new sT(_O),e,n);await qP(r,i),r.du=r.du.remove(a),r.Au.delete(t),tD(r)}else await pj(r.localStore,t,!1).then(()=>ZP(r,t,n)).catch(QO)}async function HP(e,t){const n=lO(e),r=t.batch.batchId;try{const e=await function(e,t){const n=lO(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=ZO.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);sO(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=QA();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);QP(n,r,null),YP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nD(n,e)}catch(i){await QO(i)}}async function GP(e,t,n){const r=lO(e);try{const e=await function(e,t){const n=lO(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(sO(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);QP(r,t,n),YP(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nD(r,e)}catch(i){await QO(i)}}function YP(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function QP(e,t,n){const r=lO(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ZP(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||XP(e,t)})}function XP(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(qj(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),tD(e))}function JP(e,t,n){for(const r of n)r instanceof IP?(e.Ru.addReference(r.key,t),eD(e,r)):r instanceof jP?(tO(DP,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||XP(e,r.key)):aO(19791,{wu:r})}function eD(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(tO(DP,"New document in limbo: "+n),e.Eu.add(r),tD(e))}function tD(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new PO(NO.fromString(t)),r=e.fu.next();e.Au.set(r,new RP(n)),e.du=e.du.insert(n,r),Bj(e.remoteStore,new AI(NA(CA(n.path)),r,"TargetPurposeLimboResolution",JO.ce))}}async function nD(e,t,n){const r=lO(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null==(t=null==n?void 0:n.targetChanges.get(s.targetId))?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=aj.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=lO(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ZO.forEach(t,t=>ZO.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ZO.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!XO(r))throw r;tO(lj,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function rD(e,t){const n=lO(e);if(!n.currentUser.isEqual(t)){tO(DP,"User change. New user:",t.toKey());const e=await uj(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new uO(cO.CANCELLED,i))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nD(n,e.Ls)}var r,i}function iD(e,t){const n=lO(e),r=n.Au.get(t);if(r&&r.hu)return QA().add(r.key);{let e=QA();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function aD(e){const t=lO(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KP.bind(null,t),t.Pu.H_=kP.bind(null,t.eventManager),t.Pu.yu=CP.bind(null,t.eventManager),t}class oD{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nj(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new cj(e,t,n,r)}(this.persistence,new sj,e.initialUser,this.serializer)}Cu(e){return new tj(rj.mi,this.serializer)}Du(e){return new yj}async terminate(){var e,t;null==(e=this.gcScheduler)||e.stop(),null==(t=this.indexBackfillerScheduler)||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oD.provider={build:()=>new oD};class sD extends oD{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){sO(this.persistence.referenceDelegate instanceof ij,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new VI(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?RI.withCacheSize(this.cacheSizeBytes):RI.DEFAULT;return new tj(e=>ij.mi(e,t),this.serializer)}}class lD{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>WP(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await async function(e,t){const n=lO(e);t?(n.Ea.delete(2),await Vj(n)):t||(n.Ea.add(2),await $j(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xP}createDatastore(e){const t=Nj(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Tj(r));var r;return function(e,t,n,r){return new Lj(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>WP(this.syncEngine,e,0),a=wj.v()?new wj:new vj,new Uj(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new LP(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=lO(e);tO(zj,"RemoteStore shutting down."),t.Ea.add(5),await $j(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null==(e=this.datastore)||e.terminate(),null==(t=this.eventManager)||t.terminate()}}lD.provider={build:()=>new lD};class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nO("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class uD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new uO(cO.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=lO(e),r={documents:t.map(e=>uI(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,NO.emptyPath(),r,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){sO(!!t.found,43571),t.found.name,t.found.updateTime;const n=dI(e,t.found.name),r=oI(t.found.updateTime),i=t.found.createTime?oI(t.found.createTime):WO.min(),a=new QT({mapValue:{fields:t.found.fields}});return XT.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){sO(!!t.missing,3894),sO(!!t.readTime,22933);const n=dI(e,t.missing),r=oI(t.readTime);return XT.newNoDocument(n,r)}(e,t):aO(7234,{result:t})}(n.serializer,e);a.set(t.key.toString(),t)});const o=[];return t.forEach(e=>{const t=a.get(e.toString());sO(!!t,55234,{key:e}),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new TN(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=PO.fromPath(t);this.mutations.push(new AN(n,this.precondition(n)))}),await async function(e,t){const n=lO(e),r={writes:t.map(e=>gI(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,NO.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw aO(50498,{Gu:e.constructor.name});t=WO.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new uO(cO.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(WO.min())?mN.exists(!1):mN.updateTime(t):mN.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(WO.min()))throw new uO(cO.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mN.updateTime(t)}return mN.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dD{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new Ij(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new uD(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!eT(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null==e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!RN(t)}return!1}}const hD="FirestoreClient";class fD{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ZC.UNAUTHENTICATED,this.clientId=xO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{tO(hD,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(tO(hD,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dO;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gP(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pD(e,t){e.asyncQueue.verifyOperationInProgress(),tO(hD,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uj(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tO(hD,"Using user provided OfflineComponentProvider");try{await pD(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===cO.FAILED_PRECONDITION||n.code===cO.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;rO("Error using user provided cache. Falling back to memory cache: "+i),await pD(e,new oD)}}else tO(hD,"Using default OfflineComponentProvider"),await pD(e,new sD(void 0));var n;return e._offlineComponents}(e);tO(hD,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>hP(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>hP(t.remoteStore,n)),e._onlineComponents=t}async function gD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tO(hD,"Using user provided OnlineComponentProvider"),await mD(e,e._uninitializedComponentsProvider._online)):(tO(hD,"Using default OnlineComponentProvider"),await mD(e,new lD))),e._onlineComponents}async function yD(e){const t=await gD(e),n=t.eventManager;return n.onListen=FP.bind(null,t.syncEngine),n.onUnlisten=VP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$P.bind(null,t.syncEngine),n}function vD(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bD=new Map,wD="firestore.googleapis.com",xD=!0;class _D{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new uO(cO.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wD,this.ssl=xD}else this.host=e.host,this.ssl=e.ssl??xD;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=MI;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new uO(cO.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new uO(cO.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vD(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new uO(cO.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new uO(cO.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new uO(cO.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ED{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _D({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new uO(cO.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new uO(cO.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _D(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fO;switch(e.type){case"firstParty":return new yO(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new uO(cO.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bD.get(e);t&&(tO("ComponentProvider","Removing Datastore"),bD.delete(e),t.terminate())}(this),Promise.resolve()}}function SD(e,t,n,r={}){var i;e=zO(e,ED);const a=$x(t),o=e._getSettings(),s={...o,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;a&&(Bx(`https://${l}`),Kx("Firestore",!0)),o.host!==wD&&o.host!==l&&rO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:a,emulatorOptions:r};if(!Xx(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ZC.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Dx(JSON.stringify({alg:"none",type:"JWT"})),Dx(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null==(i=e._app)?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new uO(cO.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ZC(a)}e._authCredentials=new pO(new hO(t,n))}}class kD{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kD(this.firestore,e,this._query)}}class CD{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new OD(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new CD(this.firestore,e,this._key)}toJSON(){return{type:CD._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(VO(t,CD._jsonSchema))return new CD(e,n||null,new PO(NO.fromString(t.referencePath)))}}CD._jsonSchemaVersion="firestore/documentReference/1.0",CD._jsonSchema={type:UO("string",CD._jsonSchemaVersion),referencePath:UO("string")};class OD extends kD{constructor(e,t,n){super(e,t,CA(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new CD(this.firestore,null,new PO(e))}withConverter(e){return new OD(this.firestore,e,this._path)}}function TD(e,t,...n){if(e=a_(e),DO("collection","path",t),e instanceof ED){const r=NO.fromString(t,...n);return RO(r),new OD(e,null,r)}{if(!(e instanceof CD||e instanceof OD))throw new uO(cO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(NO.fromString(t,...n));return RO(r),new OD(e.firestore,null,r)}}function AD(e,t,...n){if(e=a_(e),1===arguments.length&&(t=xO.newId()),DO("doc","path",t),e instanceof ED){const r=NO.fromString(t,...n);return MO(r),new CD(e,null,new PO(r))}{if(!(e instanceof CD||e instanceof OD))throw new uO(cO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(NO.fromString(t,...n));return MO(r),new CD(e.firestore,e instanceof OD?e.converter:null,new PO(r))}}const ND="AsyncQueue";class ID{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ij(this,"async_queue_retry"),this._c=()=>{const e=Aj();e&&tO(ND,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Aj();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Aj();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new dO;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(jL){if(!XO(jL))throw jL;tO(ND,"Operation failed with retryable error: "+jL)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,nO("INTERNAL UNHANDLED ERROR: ",jD(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=mP.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&aO(47125,{Pc:jD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jD(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class PD extends ED{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ID,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ID(e),this._firestoreClient=void 0,await e}}}function DD(e){if(e._terminated)throw new uO(cO.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),a=(o=e._databaseId,s=(null==(t=e._app)?void 0:t.options.appId)||"",l=e._persistenceKey,c=i,new CT(o,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator));var o,s,l,c;e._componentsProvider||(null==(n=i.localCache)?void 0:n._offlineComponentProvider)&&(null==(r=i.localCache)?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new fD(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}(e),e._firestoreClient}class MD{constructor(e){this._byteString=e}static fromBase64String(e){try{return new MD(pT.fromBase64String(e))}catch(t){throw new uO(cO.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new MD(pT.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:MD._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(VO(e,MD._jsonSchema))return MD.fromBase64String(e.bytes)}}MD._jsonSchemaVersion="firestore/bytes/1.0",MD._jsonSchema={type:UO("string",MD._jsonSchemaVersion),bytes:UO("string")};class RD{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new uO(cO.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jO(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LD{constructor(e){this._methodName=e}}class FD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new uO(cO.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new uO(cO.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _O(this._lat,e._lat)||_O(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:FD._jsonSchemaVersion}}static fromJSON(e){if(VO(e,FD._jsonSchema))return new FD(e.latitude,e.longitude)}}FD._jsonSchemaVersion="firestore/geoPoint/1.0",FD._jsonSchema={type:UO("string",FD._jsonSchemaVersion),latitude:UO("number"),longitude:UO("number")};class zD{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zD._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(VO(e,zD._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new zD(e.vectorValues);throw new uO(cO.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zD._jsonSchemaVersion="firestore/vectorValue/1.0",zD._jsonSchema={type:UO("string",zD._jsonSchemaVersion),vectorValues:UO("object")};const UD=/^__.*__$/;class VD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new SN(e,this.data,this.fieldMask,t,this.fieldTransforms):new EN(e,this.data,t,this.fieldTransforms)}}class $D{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new SN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aO(40011,{Ac:e})}}class qD{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qD({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return aM(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(BD(this.Ac)&&UD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WD{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Nj(e)}Cc(e,t,n,r=!1){return new qD({Ac:e,methodName:t,Dc:n,path:jO.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KD(e){const t=e._freezeSettings(),n=Nj(e._databaseId);return new WD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HD(e,t,n,r,i,a={}){const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);tM("Data must be an object, but it was:",o,r);const s=JD(r,o);let l,c;if(a.merge)l=new hT(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=nM(t,r,n);if(!o.contains(i))throw new uO(cO.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);oM(e,i)||e.push(i)}l=new hT(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new VD(new QT(s),l,c)}class GD extends LD{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GD}}class YD extends LD{_toFieldTransform(e){return new fN(e.path,new aN)}isEqual(e){return e instanceof YD}}function QD(e,t,n,r){const i=e.Cc(1,t,n);tM("Data must be an object, but it was:",i,r);const a=[],o=QT.empty();aT(r,(e,r)=>{const s=iM(t,e,n);r=a_(r);const l=i.yc(s);if(r instanceof GD)a.push(s);else{const e=XD(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new hT(a);return new $D(o,s,i.fieldTransforms)}function ZD(e,t,n,r,i,a){const o=e.Cc(1,t,n),s=[nM(t,r,n)],l=[i];if(a.length%2!=0)throw new uO(cO.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(nM(t,a[h])),l.push(a[h+1]);const c=[],u=QT.empty();for(let h=s.length-1;h>=0;--h)if(!oM(c,s[h])){const e=s[h];let t=l[h];t=a_(t);const n=o.yc(e);if(t instanceof GD)c.push(e);else{const r=XD(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new hT(c);return new $D(u,d,o.fieldTransforms)}function XD(e,t){if(eM(e=a_(e)))return tM("Unsupported field value:",t,e),JD(e,t);if(e instanceof LD)return function(e,t){if(!BD(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=XD(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=a_(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eN(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qO.fromDate(e);return{timestampValue:rI(t.serializer,n)}}if(e instanceof qO){const n=new qO(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rI(t.serializer,n)}}if(e instanceof FD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof MD)return{bytesValue:iI(t.serializer,e._byteString)};if(e instanceof CD){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:sI(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof zD)return n=e,r=t,{mapValue:{fields:{[AT]:{stringValue:jT},[PT]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return XA(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${FO(e)}`)}(e,t)}function JD(e,t){const n={};return oT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):aT(e,(e,r)=>{const i=XD(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function eM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qO||e instanceof FD||e instanceof MD||e instanceof CD||e instanceof LD||e instanceof zD)}function tM(e,t,n){if(!eM(n)||!LO(n)){const r=FO(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function nM(e,t,n){if((t=a_(t))instanceof RD)return t._internalPath;if("string"==typeof t)return iM(e,t);throw aM("Field path arguments must be of type string or ",e,!1,void 0,n)}const rM=new RegExp("[~\\*/\\[\\]]");function iM(e,t,n){if(t.search(rM)>=0)throw aM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new RD(...t.split("."))._internalPath}catch(r){throw aM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function aM(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new uO(cO.INVALID_ARGUMENT,s+e+l)}function oM(e,t){return e.some(e=>e.isEqual(t))}class sM{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new CD(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lM extends sM{data(){return super.data()}}function cM(e,t){return"string"==typeof t?iM(e,t):t instanceof RD?t._internalPath:t._delegate._internalPath}class uM{}class dM extends uM{}function hM(e,t,...n){let r=[];t instanceof uM&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof mM).length,n=e.filter(e=>e instanceof fM).length;if(t>1||t>0&&n>0)throw new uO(cO.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class fM extends dM{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fM(e,t,n)}_apply(e){const t=this._parse(e);return _M(e._query,t),new kD(e.firestore,e.converter,IA(e._query,t))}_parse(e){const t=KD(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new uO(cO.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){xM(o,a);const t=[];for(const n of o)t.push(wM(r,e,n));s={arrayValue:{values:t}}}else s=wM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||xM(o,a),s=function(e,t,n,r=!1){return XD(n,e.Cc(r?4:3,t))}(n,t,o,"in"===a||"not-in"===a);return aA.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function pM(e,t,n){const r=t,i=cM("where",e);return fM._create(i,r,n)}class mM extends uM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mM(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:oA.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_M(n,i),n=IA(n,i)}(e._query,t),new kD(e.firestore,e.converter,IA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gM extends dM{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gM(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new uO(cO.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new uO(cO.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nA(t,n)}(e._query,this._field,this._direction);return new kD(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new kA(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function yM(e,t="asc"){const n=t,r=cM("orderBy",e);return gM._create(r,n)}class vM extends dM{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new vM(e,t,n)}_apply(e){return new kD(e.firestore,e.converter,jA(e._query,this._limit,this._limitType))}}function bM(e){return function(e,t){if(t<=0)throw new uO(cO.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),vM._create("limit",e,"F")}function wM(e,t,n){if("string"==typeof(n=a_(n))){if(""===n)throw new uO(cO.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(t)&&-1!==n.indexOf("/"))throw new uO(cO.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(NO.fromString(n));if(!PO.isDocumentKey(r))throw new uO(cO.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BT(e,new PO(r))}if(n instanceof CD)return BT(e,n._key);throw new uO(cO.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FO(n)}.`)}function xM(e,t){if(!Array.isArray(e)||0===e.length)throw new uO(cO.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _M(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new uO(cO.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new uO(cO.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class EM{convertValue(e,t="none"){switch(DT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yT(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vT(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw aO(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return aT(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null==(r=null==(n=null==(t=e.fields)?void 0:t[PT].arrayValue)?void 0:n.values)?void 0:r.map(e=>yT(e.doubleValue));return new zD(i)}convertGeoPoint(e){return new FD(yT(e.latitude),yT(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ST(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kT(e));default:return null}}convertTimestamp(e){const t=gT(e);return new qO(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=NO.fromString(e);sO(TI(n),9688,{name:e});const r=new TT(n.get(1),n.get(3)),i=new PO(n.popFirst(5));return r.isEqual(t)||nO(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function SM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class kM extends EM{constructor(e){super(),this.firestore=e}convertBytes(e){return new MD(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new CD(this.firestore,null,t)}}class CM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OM extends sM{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new TM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(cM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new uO(cO.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=OM._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}OM._jsonSchemaVersion="firestore/documentSnapshot/1.0",OM._jsonSchema={type:UO("string",OM._jsonSchemaVersion),bundleSource:UO("string","DocumentSnapshot"),bundleName:UO("string"),bundle:UO("string")};class TM extends OM{data(e={}){return super.data(e)}}class AM{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new CM(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new TM(this._firestore,this._userDataWriter,n.key,n,new CM(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uO(cO.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new TM(e._firestore,e._userDataWriter,n.doc.key,n.doc,new CM(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new TM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:NM(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new uO(cO.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=AM._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aO(61501,{type:e})}}function IM(e){e=zO(e,CD);const t=zO(e.firestore,PD);return function(e,t,n={}){const r=new dO;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new cD({next:s=>{a.Nu(),t.enqueueAndForget(()=>SP(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new uO(cO.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new uO(cO.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new NP(CA(n.path),a,{includeMetadataChanges:!0,qa:!0});return EP(e,o)}(await yD(e),e.asyncQueue,t,n,r)),r.promise}(DD(t),e._key).then(n=>function(e,t,n){const r=n.docs.get(t._key),i=new jM(e);return new OM(e,i,t._key,r,new CM(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n))}AM._jsonSchemaVersion="firestore/querySnapshot/1.0",AM._jsonSchema={type:UO("string",AM._jsonSchemaVersion),bundleSource:UO("string","QuerySnapshot"),bundleName:UO("string"),bundle:UO("string")};class jM extends EM{constructor(e){super(),this.firestore=e}convertBytes(e){return new MD(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new CD(this.firestore,null,t)}}function PM(e){e=zO(e,kD);const t=zO(e.firestore,PD),n=DD(t),r=new jM(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new uO(cO.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new dO;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new cD({next:n=>{a.Nu(),t.enqueueAndForget(()=>SP(e,o)),n.fromCache&&"server"===r.source?i.reject(new uO(cO.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new NP(n,a,{includeMetadataChanges:!0,qa:!0});return EP(e,o)}(await yD(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new AM(t,r,e,n))}function DM(e,t,n){e=zO(e,CD);const r=zO(e.firestore,PD),i=SM(e.converter,t,n);return FM(r,[HD(KD(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mN.none())])}function MM(e,t,n,...r){e=zO(e,CD);const i=zO(e.firestore,PD),a=KD(i);let o;return o="string"==typeof(t=a_(t))||t instanceof RD?ZD(a,"updateDoc",e._key,t,n,r):QD(a,"updateDoc",e._key,t),FM(i,[o.toMutation(e._key,mN.exists(!0))])}function RM(e){return FM(zO(e.firestore,PD),[new TN(e._key,mN.none())])}function LM(e,t){const n=zO(e.firestore,PD),r=AD(e),i=SM(e.converter,t);return FM(n,[HD(KD(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mN.exists(!1))]).then(()=>r)}function FM(e,t){return function(e,t){const n=new dO;return e.asyncQueue.enqueueAndForget(async()=>BP(await function(e){return gD(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(DD(e),t)}const zM={maxAttempts:5};class UM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=KD(e)}set(e,t,n){this._verifyNotCommitted();const r=VM(e,this._firestore),i=SM(r.converter,t,n),a=HD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,mN.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=VM(e,this._firestore);let a;return a="string"==typeof(t=a_(t))||t instanceof RD?ZD(this._dataReader,"WriteBatch.update",i._key,t,n,r):QD(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(a.toMutation(i._key,mN.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=VM(e,this._firestore);return this._mutations=this._mutations.concat(new TN(t._key,mN.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new uO(cO.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function VM(e,t){if((e=a_(e)).firestore!==t)throw new uO(cO.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class $M{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=KD(e)}get(e){const t=VM(e,this._firestore),n=new kM(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return aO(24041);const r=e[0];if(r.isFoundDocument())return new sM(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new sM(this._firestore,n,t._key,null,t.converter);throw aO(18433,{doc:r})})}set(e,t,n){const r=VM(e,this._firestore),i=SM(r.converter,t,n),a=HD(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}update(e,t,n,...r){const i=VM(e,this._firestore);let a;return a="string"==typeof(t=a_(t))||t instanceof RD?ZD(this._dataReader,"Transaction.update",i._key,t,n,r):QD(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,a),this}delete(e){const t=VM(e,this._firestore);return this._transaction.delete(t._key),this}}class BM extends $M{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=VM(e,this._firestore),n=new jM(this._firestore);return super.get(e).then(e=>new OM(this._firestore,n,t._key,e._document,new CM(!1,!1),t.converter))}}function qM(e,t,n){e=zO(e,PD);const r={...zM,...n};return function(e){if(e.maxAttempts<1)throw new uO(cO.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new dO;return e.asyncQueue.enqueueAndForget(async()=>{const i=await function(e){return gD(e).then(e=>e.datastore)}(e);new dD(e.asyncQueue,i,n,t,r).ju()}),r.promise}(DD(e),n=>t(new BM(e,n)),r)}function WM(){return new YD("serverTimestamp")}!function(e,t=!0){XC=wE,mE(new o_("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),a=new PD(new mO(e.getProvider("auth-internal")),new bO(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new uO(cO.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new TT(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),EE(YC,QC,e),EE(YC,QC,"esm2020")}();const KM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},HM=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"],GM="__QB_FIREBASE_CONFIG__",YM="undefined"!=typeof globalThis&&"object"==typeof globalThis[GM]?globalThis[GM]:void 0,QM=e=>{if("number"==typeof e)return Number.isFinite(e)?String(e):void 0;if("string"!=typeof e)return;const t=e.trim();return t&&"undefined"!==t.toLowerCase()&&"null"!==t.toLowerCase()?t:void 0},ZM=HM.reduce((e,t)=>{const n=(e=>{const t=`VITE_FIREBASE_${e.replace(/[A-Z]/g,e=>`_${e}`).toUpperCase()}`,n=QM(KM[t]);if(n)return n;const r=null==YM?void 0:YM[e];return QM(r)})(t);return n&&(e[t]=n),e},{}),XM=HM.filter(e=>!ZM[e]);if(XM.length>0){const e=XM.join(", ");throw new Error(`Missing Firebase configuration for: ${e}. Provide the values via VITE_FIREBASE_* environment variables or by defining window.__QB_FIREBASE_CONFIG__ before the app loads.`)}const JM=xE(ZM),eR=function(e=_E()){const t=gE(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=gE(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xx(n.getOptions(),t??{}))return e;zE(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:AC,persistence:[Kk,Ak,Ik]}),r=Ux("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>PC)return;const r=null==t?void 0:t.token;DC!==r&&(DC=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){a_(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){a_(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=Fx("auth");return a&&nk(n,`http://${a}`),n}(JM),tR=function(e){const t="object"==typeof e?e:_E(),n="string"==typeof e?e:OT,r=gE(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Fx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&SD(r,...e)}return r}(JM);function nR(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function rR(...e){return t=>{let n=!1;const r=e.map(e=>{const r=nR(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():nR(e[t],null)}}}}function iR(...e){return wt.useCallback(rR(...e),e)}function aR(e){const t=sR(e),n=wt.forwardRef((e,n)=>{const{children:r,...i}=e,a=wt.Children.toArray(r),o=a.find(cR);if(o){const e=o.props.children,r=a.map(t=>t===o?wt.Children.count(e)>1?wt.Children.only(null):wt.isValidElement(e)?e.props.children:null:t);return Nt.jsx(t,{...i,ref:n,children:wt.isValidElement(e)?wt.cloneElement(e,void 0,r):null})}return Nt.jsx(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var oR=aR("Slot");function sR(e){const t=wt.forwardRef((e,t)=>{const{children:n,...r}=e;if(wt.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==wt.Fragment&&(i.ref=t?rR(t,e):e),wt.cloneElement(n,i)}return wt.Children.count(n)>1?wt.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lR=Symbol("radix.slottable");function cR(e){return wt.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===lR}function uR(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dR(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uR(e))&&(r&&(r+=" "),r+=t);return r}const hR=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,fR=dR,pR=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return fR(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;const o=hR(t)||hR(r);return i[e][o]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...s}[t]):{...a,...s}[t]===n})?[...e,n,r]:e},[]);return fR(e,o,l,null==n?void 0:n.class,null==n?void 0:n.className)},mR=pR("inline-flex items-center justify-center gap-2 rounded-full text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",outline:"border border-slate-200 bg-white hover:bg-slate-50 text-slate-900",ghost:"hover:bg-slate-100 text-slate-900",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10",fab:"h-14 w-14 rounded-full shadow-lg shadow-primary/20"}},defaultVariants:{variant:"default",size:"default"}}),gR=wt.forwardRef((e,t)=>{const{asChild:n=!1,className:r,variant:i,size:a,...o}=e,s=n?oR:"button";return Nt.jsx(s,{ref:t,className:dR(mR({variant:i,size:a}),r),...o})});gR.displayName="Button";const yR=wt.forwardRef(({className:e,type:t="text",...n},r)=>Nt.jsx("input",{type:t,className:dR("flex h-12 w-full rounded-full border border-slate-200 bg-white px-4 text-base ring-offset-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));yR.displayName="Input";var vR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=aR(`Primitive.${t}`),r=wt.forwardRef((e,r)=>{const{asChild:i,...a}=e,o=i?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Nt.jsx(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});var bR=wt.forwardRef((e,t)=>Nt.jsx(vR.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));bR.displayName="Label";var wR=bR;const xR=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(wR,{ref:n,className:dR("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));xR.displayName=wR.displayName;const _R=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ER=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),SR=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var kR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CR=wt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>wt.createElement("svg",{ref:l,...kR,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:ER("lucide",i),...!a&&!SR(s)&&{"aria-hidden":"true"},...s},[...o.map(([e,t])=>wt.createElement(e,t)),...Array.isArray(a)?a:[a]])),OR=(e,t)=>{const n=wt.forwardRef(({className:n,...r},i)=>{return wt.createElement(CR,{ref:i,iconNode:t,className:ER(`lucide-${a=_R(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=_R(e),n},TR=OR("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),AR=OR("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),NR=OR("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),IR=OR("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jR=OR("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),PR=OR("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),DR=OR("circle-arrow-down",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),MR=OR("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),RR=OR("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),LR=OR("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),FR=OR("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),zR=OR("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),UR=OR("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),VR=OR("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),$R=OR("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),BR=OR("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),qR=OR("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),WR=OR("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),KR=OR("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),HR=OR("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),GR=OR("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),YR=OR("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),QR=OR("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ZR=OR("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),XR=OR("piggy-bank",[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]]),JR=OR("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eL=OR("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),tL=OR("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nL=OR("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),rL=OR("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),iL=OR("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),aL=OR("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),oL=OR("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),sL=OR("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lL={default:Nt.jsx(BR,{className:"h-4 w-4"}),success:Nt.jsx(RR,{className:"h-4 w-4"}),warning:Nt.jsx(iL,{className:"h-4 w-4"}),destructive:Nt.jsx(PR,{className:"h-4 w-4"})},cL={default:"border-slate-200 bg-white text-slate-700",success:"border-emerald-200 bg-emerald-50 text-emerald-700",warning:"border-amber-200 bg-amber-50 text-amber-800",destructive:"border-red-200 bg-red-50 text-red-700"};function uL({children:e,title:t,description:n,variant:r="default",className:i}){return Nt.jsxs("div",{className:dR("flex gap-3 rounded-lg border p-4 text-sm",cL[r],i),role:"alert",children:[Nt.jsx("span",{className:"mt-0.5 text-slate-600",children:lL[r]}),Nt.jsxs("div",{className:"space-y-1",children:[t?Nt.jsx("p",{className:"font-semibold",children:t}):null,n?Nt.jsx("p",{className:"text-sm opacity-90",children:n}):null,e]})]})}const dL=dx({email:jw().email("Correo inválido"),password:jw().min(6,"La contraseña debe tener al menos 6 caracteres")});function hL(){const[e,t]=wt.useState(null),[n,r]=wt.useState(!1),i=Kg({resolver:sw(dL),defaultValues:{email:"",password:""}});return Nt.jsxs("div",{className:"mx-auto flex w-full max-w-md flex-col gap-6 rounded-2xl border border-slate-200 bg-white p-8 shadow-xl",children:[Nt.jsxs("div",{className:"space-y-2 text-center",children:[Nt.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Ingresar a Quality Bordados"}),Nt.jsx("p",{className:"text-sm text-slate-500",children:"Usa tu correo corporativo y contraseña asignada."})]}),e?Nt.jsx(uL,{variant:"destructive",description:e}):null,Nt.jsxs("form",{className:"space-y-4",onSubmit:i.handleSubmit(async function(e){t(null),r(!0);try{await Sk(eR,e.email,e.password)}catch(n){t("Credenciales inválidas, verifica tu correo y contraseña."),console.error(n)}finally{r(!1)}}),children:[Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"email",children:"Correo electrónico"}),Nt.jsx(yR,{id:"email",type:"email",autoComplete:"email",...i.register("email")}),i.formState.errors.email?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.email.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"password",children:"Contraseña"}),Nt.jsx(yR,{id:"password",type:"password",autoComplete:"current-password",...i.register("password")}),i.formState.errors.password?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.password.message}):null]}),Nt.jsx(gR,{type:"submit",className:"w-full",disabled:n,children:n?"Entrando...":"Ingresar"})]}),Nt.jsx("p",{className:"text-center text-xs text-slate-400",children:"Acceso restringido al personal autorizado. Contacta al administrador para recuperar acceso."})]})}const fL=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},pL=e=>e;const mL=e=>{const t=(e=>e?fL(e):fL)(e),n=e=>function(e,t=pL){const n=xt.useSyncExternalStore(e.subscribe,xt.useCallback(()=>t(e.getState()),[e,t]),xt.useCallback(()=>t(e.getInitialState()),[e,t]));return xt.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},gL=(yL=e=>({user:null,role:null,loading:!0,setAuthState:({user:t,role:n,loading:r=!1})=>e({user:t,role:n,loading:r})}))?mL(yL):mL;var yL;const vL=wt.createContext(void 0);function bL({children:e}){const t=gL(e=>e.setAuthState),n=gL(e=>e.user),r=gL(e=>e.role),i=gL(e=>e.loading);wt.useEffect(()=>{const e=(n=async e=>{if(!e)return void t({user:null,role:null,loading:!1});const n=(await e.getIdTokenResult(!0)).claims.role??null;t({user:e,role:n,loading:!1})},a_(eR).onAuthStateChanged(n,r,i));var n,r,i;return()=>e()},[t]);const a=wt.useMemo(()=>({loading:i,role:r,user:n}),[i,r,n]);return Nt.jsx(vL.Provider,{value:a,children:e})}function wL(){return function(){const e=wt.useContext(vL);if(!e)throw new Error("useAuthContext must be used within AuthProvider");return e}()}function xL(){const{user:e,loading:t}=wL();return t?Nt.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-100",children:Nt.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-primary","aria-label":"Cargando"})}):e?Nt.jsx(Bf,{to:"/app/dashboard",replace:!0}):Nt.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-100 via-white to-slate-200 p-4",children:Nt.jsx(hL,{})})}function _L(){return wt.useEffect(()=>{kk(eR).catch(console.error)},[]),Nt.jsx(Bf,{to:"/login",replace:!0})}const EL=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("div",{ref:n,className:dR("rounded-xl border border-slate-200 bg-white text-slate-900 shadow-sm",e),...t}));EL.displayName="Card";const SL=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("div",{ref:n,className:dR("flex flex-col space-y-1.5 p-6",e),...t}));SL.displayName="CardHeader";const kL=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("h3",{ref:n,className:dR("text-lg font-semibold leading-none tracking-tight",e),...t}));kL.displayName="CardTitle";const CL=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("div",{ref:n,className:dR("p-6 pt-0",e),...t}));CL.displayName="CardContent";wt.forwardRef(({className:e,...t},n)=>Nt.jsx("div",{ref:n,className:dR("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var OL={exports:{}};OL.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,o=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var x="$isDayjsObject",_=function(e){return e instanceof C||!(!e||!e[x])},E=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();w[a]&&(i=a),n&&(w[a]=n,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;w[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},S=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},k=v;k.l=E,k.i=_,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return k},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return S(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<S(e)},y.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!k.u(t)||t,u=k.p(e),f=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(r?y-w:y+(6-w),g);case s:case h:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case a:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,l=k.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[k.p(e)]()},y.add=function(r,u){var h,f=this;r=Number(r);var p=k.p(u),m=function(e){var t=S(f);return k.w(t.date(t.date()+Math.round(e*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===l)return m(7);var g=(h={},h[a]=t,h[o]=n,h[i]=e,h)[p]||1,y=this.$d.getTime()+r*g;return k.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),a=this.$H,o=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},h=function(e){return k.s(a%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return s+1;case"MM":return k.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return k.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(a,o,!0);case"A":return p(a,o,!1);case"m":return String(o);case"mm":return k.s(o,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,h,f){var p,m=this,g=k.p(h),y=S(r),v=(y.utcOffset()-this.utcOffset())*t,b=this-y,w=function(){return k.m(m,y)};switch(g){case d:p=w()/12;break;case c:p=w();break;case u:p=w()/3;break;case l:p=(b-v)/6048e5;break;case s:p=(b-v)/864e5;break;case o:p=b/n;break;case a:p=b/t;break;case i:p=b/e;break;default:p=b}return f?p:k.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return w[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return k.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),O=C.prototype;return S.prototype=O,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",s],["$M",c],["$y",d],["$D",h]].forEach(function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,C,S),e.$i=!0),S},S.locale=E,S.isDayjs=_,S.unix=function(e){return S(1e3*e)},S.en=w[b],S.Ls=w,S.p={},S}();const TL=Me(OL.exports),AL=TD(tR,"pedidos"),NL=TD(tR,"movimientos_caja");async function IL(){const e=TL(),t=e.add(3,"day").toDate(),n=e.subtract(7,"day").toDate(),r=["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA"],i=await PM(hM(AL,pM("status","in",r))),a=i.size,o=await PM(hM(AL,pM("status","in",r),pM("fecha_compromiso","<=",qO.fromDate(t)))),s=o.size,l=o.docs.map(e=>{const t=e.data(),n=function(e){if(e instanceof qO)return e.toDate();if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e){const t=TL(e);if(t.isValid())return t.toDate()}return null}(t.fecha_compromiso);return n?{id:e.id,folio:t.folio,clienteId:(r=t.cliente_id,"string"==typeof r?r:r&&"object"==typeof r&&"id"in r&&"string"==typeof r.id?r.id:""),fecha_compromiso:n,status:t.status}:null;var r}).filter(e=>null!==e),c=Array.from(new Set(l.map(e=>e.clienteId).filter(Boolean))),u=await Promise.all(c.map(async e=>{const t=await IM(AD(tR,"clientes",e));if(!t.exists())return[e,e];return[e,t.data().alias??e]})),d=new Map(u),h=l.map(({clienteId:e,...t})=>({...t,cliente:d.get(e)??e})),f=(await PM(hM(AL,pM("saldo",">",0),pM("fecha_compromiso","<",qO.fromDate(e.toDate()))))).docs.reduce((e,t)=>e+t.data().saldo,0),p=(await PM(hM(NL,pM("fecha",">=",qO.fromDate(n)),yM("fecha","asc")))).docs.map(e=>{const t=e.data();return{fecha:t.fecha.toDate(),monto:"EGRESO"===t.tipo?-1*t.monto:t.monto}}),m=new Map;return i.docs.forEach(e=>{const t=e.data();m.set(t.status,(m.get(t.status)??0)+1)}),{pedidosActivos:a,carteraVencida:f,entregasProximas:s,flujoCaja:p,pedidosPorEstado:Array.from(m.entries()).map(([e,t])=>({estado:e,total:t})),proximasEntregas:h}}var jL,PL={exports:{}};const DL=Me(PL.exports=(jL={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,t,n){var r=t.prototype,i=r.format;n.en.formats=jL,r.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var t,n=this.$locale().formats,r=(t=void 0===n?{}:n,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,r){var i=r&&r.toUpperCase();return n||t[r]||jL[r]||t[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})}));return i.call(this,r)}}));function ML(e,t="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0)}function RL(e){return e?TL(e).format("DD MMM YYYY"):"Sin fecha"}function LL(e){const t=e.replace(/\D/g,"");return 10!==t.length?e:`${t.slice(0,3)} ${t.slice(3,6)} ${t.slice(6)}`}function FL({title:e,description:t,children:n}){return Nt.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-3 rounded-lg border border-dashed border-slate-200 bg-white p-10 text-center text-slate-500",children:[Nt.jsx("h3",{className:"text-base font-semibold text-slate-700",children:e}),t?Nt.jsx("p",{className:"max-w-md text-sm",children:t}):null,n]})}TL.extend(DL);var zL,UL={},VL={};zL=VL,Object.defineProperty(zL,Symbol.toStringTag,{value:"Module"}),zL.isUnsafeProperty=function(e){return"__proto__"===e};var $L={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}}($L);var BL={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}}(BL);var qL={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",a="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];a?"\\"===s&&r+1<n?(r++,i+=e[r]):s===a?a="":i+=s:o?'"'===s||"'"===s?a=s:"]"===s?(o=!1,t.push(i),i=""):i+=s:"["===s?(o=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}}(qL),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VL,n=$L,r=BL,i=qL;e.get=function e(a,o,s){if(null==a)return s;switch(typeof o){case"string":{if(t.isUnsafeProperty(o))return s;const r=a[o];return void 0===r?n.isDeepKey(o)?e(a,i.toPath(o),s):s:r}case"number":case"symbol":{"number"==typeof o&&(o=r.toKey(o));const e=a[o];return void 0===e?s:e}default:{if(Array.isArray(o))return function(e,n,r){if(0===n.length)return r;let i=e;for(let a=0;a<n.length;a++){if(null==i)return r;if(t.isUnsafeProperty(n[a]))return r;i=i[n[a]]}if(void 0===i)return r;return i}(a,o,s);if(o=Object.is(null==o?void 0:o.valueOf(),-0)?"-0":String(o),t.isUnsafeProperty(o))return s;const e=a[o];return void 0===e?s:e}}}}(UL);const WL=Me(UL.get);var KL={exports:{}},HL={},GL=Symbol.for("react.transitional.element"),YL=Symbol.for("react.portal"),QL=Symbol.for("react.fragment"),ZL=Symbol.for("react.strict_mode"),XL=Symbol.for("react.profiler"),JL=Symbol.for("react.consumer"),eF=Symbol.for("react.context"),tF=Symbol.for("react.forward_ref"),nF=Symbol.for("react.suspense"),rF=Symbol.for("react.suspense_list"),iF=Symbol.for("react.memo"),aF=Symbol.for("react.lazy"),oF=Symbol.for("react.view_transition"),sF=Symbol.for("react.client.reference");function lF(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case GL:switch(e=e.type){case QL:case XL:case ZL:case nF:case rF:case oF:return e;default:switch(e=e&&e.$$typeof){case eF:case tF:case aF:case iF:case JL:return e;default:return t}}case YL:return t}}}HL.ContextConsumer=JL,HL.ContextProvider=eF,HL.Element=GL,HL.ForwardRef=tF,HL.Fragment=QL,HL.Lazy=aF,HL.Memo=iF,HL.Portal=YL,HL.Profiler=XL,HL.StrictMode=ZL,HL.Suspense=nF,HL.SuspenseList=rF,HL.isContextConsumer=function(e){return lF(e)===JL},HL.isContextProvider=function(e){return lF(e)===eF},HL.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===GL},HL.isForwardRef=function(e){return lF(e)===tF},HL.isFragment=function(e){return lF(e)===QL},HL.isLazy=function(e){return lF(e)===aF},HL.isMemo=function(e){return lF(e)===iF},HL.isPortal=function(e){return lF(e)===YL},HL.isProfiler=function(e){return lF(e)===XL},HL.isStrictMode=function(e){return lF(e)===ZL},HL.isSuspense=function(e){return lF(e)===nF},HL.isSuspenseList=function(e){return lF(e)===rF},HL.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===QL||e===XL||e===ZL||e===nF||e===rF||"object"==typeof e&&null!==e&&(e.$$typeof===aF||e.$$typeof===iF||e.$$typeof===eF||e.$$typeof===JL||e.$$typeof===tF||e.$$typeof===sF||void 0!==e.getModuleId)},HL.typeOf=lF,KL.exports=HL;var cF=KL.exports,uF=e=>0===e?0:e>0?1:-1,dF=e=>"number"==typeof e&&e!=+e,hF=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,fF=e=>("number"==typeof e||e instanceof Number)&&!dF(e),pF=e=>fF(e)||"string"==typeof e,mF=0,gF=e=>{var t=++mF;return"".concat(e||"").concat(t)},yF=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!fF(e)&&"string"!=typeof e)return r;if(hF(e)){if(null==t)return r;var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return dF(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},vF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function bF(e,t,n){return fF(e)&&fF(t)?e+n*(t-e):t}function wF(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):WL(e,t))===n)}var xF=e=>null==e,_F=e=>xF(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),EF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SF(e){return"string"==typeof e&&EF.includes(e)}var kF=["points","pathLength"],CF={svg:["viewBox","children"],polygon:kF,polyline:kF},OF=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(wt.isValidElement(e)&&(n=e.props),"object"!=typeof n&&"function"!=typeof n)return null;var r={};return Object.keys(n).forEach(e=>{SF(e)&&(r[e]=t=>n[e](n,t))}),r},TF=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];SF(i)&&"function"==typeof a&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(a,t,n))}),r},AF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function NF(e){return"string"==typeof e&&AF.includes(e)}function IF(e){var t=Object.entries(e).filter(e=>{var[t]=e;return NF(t)});return Object.fromEntries(t)}var jF=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",PF=null,DF=null,MF=e=>{if(e===PF&&Array.isArray(DF))return DF;var t=[];return wt.Children.forEach(e,e=>{xF(e)||(cF.isFragment(e)?t=t.concat(MF(e.props.children)):t.push(e))}),DF=t,PF=e,t};var RF=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),LF=(e,t,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(wt.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach(e=>{var a;((e,t,n,r)=>{var i;if("symbol"==typeof t||"number"==typeof t)return!0;var a=null!==(i=r&&(null==CF?void 0:CF[r]))&&void 0!==i?i:[],o=t.startsWith("data-"),s="function"!=typeof e&&(Boolean(r)&&a.includes(t)||NF(t)),l=Boolean(n)&&SF(t);return o||s||l})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(i[e]=r[e])}),i},FF=["children","width","height","viewBox","className","style","title","desc"];function zF(){return zF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zF.apply(null,arguments)}var UF=wt.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,FF),d=a||{width:r,height:i,x:0,y:0},h=dR("recharts-surface",o);return wt.createElement("svg",zF({},LF(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),wt.createElement("title",null,l),wt.createElement("desc",null,c),n)}),VF=["children","className"];function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$F.apply(null,arguments)}var BF=wt.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,VF),a=dR("recharts-layer",r);return wt.createElement("g",$F({className:a},LF(i,!0),{ref:t}),n)}),qF=wt.createContext(null);function WF(e){return function(){return e}}const KF=Math.cos,HF=Math.sin,GF=Math.sqrt,YF=Math.PI,QF=2*YF,ZF=Math.PI,XF=2*ZF,JF=1e-6,ez=XF-JF;function tz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class nz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?tz:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tz;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>JF)if(Math.abs(u*s-l*c)>JF&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((ZF-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>JF&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>JF||Math.abs(this._y1-c)>JF)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%XF+XF),d>ez?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>JF&&this._append`A${n},${n},0,${+(d>=ZF)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function rz(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new nz(t)}function iz(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function az(e){this._context=e}function oz(e){return new az(e)}function sz(e){return e[0]}function lz(e){return e[1]}function cz(e,t){var n=WF(!0),r=null,i=oz,a=null,o=rz(s);function s(s){var l,c,u,d=(s=iz(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?sz:WF(e),t="function"==typeof t?t:void 0===t?lz:WF(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:WF(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:WF(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:WF(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function uz(e,t,n){var r=null,i=WF(!0),a=null,o=oz,s=null,l=rz(c);function c(c){var u,d,h,f,p,m=(c=iz(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return cz().defined(i).curve(o).context(a)}return e="function"==typeof e?e:void 0===e?sz:WF(+e),t="function"==typeof t?t:WF(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?lz:WF(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:WF(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:WF(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:WF(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:WF(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:WF(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:WF(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:WF(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class dz{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const hz={draw(e,t){const n=GF(t/YF);e.moveTo(n,0),e.arc(0,0,n,0,QF)}},fz={draw(e,t){const n=GF(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},pz=GF(1/3),mz=2*pz,gz={draw(e,t){const n=GF(t/mz),r=n*pz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yz={draw(e,t){const n=GF(t),r=-n/2;e.rect(r,r,n,n)}},vz=HF(YF/10)/HF(7*YF/10),bz=HF(QF/10)*vz,wz=-KF(QF/10)*vz,xz={draw(e,t){const n=GF(.8908130915292852*t),r=bz*n,i=wz*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=QF*a/5,o=KF(t),s=HF(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},_z=GF(3),Ez={draw(e,t){const n=-GF(t/(3*_z));e.moveTo(0,2*n),e.lineTo(-_z*n,-n),e.lineTo(_z*n,-n),e.closePath()}},Sz=-.5,kz=GF(3)/2,Cz=1/GF(12),Oz=3*(Cz/2+1),Tz={draw(e,t){const n=GF(t/Oz),r=n/2,i=n*Cz,a=r,o=n*Cz+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Sz*r-kz*i,kz*r+Sz*i),e.lineTo(Sz*a-kz*o,kz*a+Sz*o),e.lineTo(Sz*s-kz*l,kz*s+Sz*l),e.lineTo(Sz*r+kz*i,Sz*i-kz*r),e.lineTo(Sz*a+kz*o,Sz*o-kz*a),e.lineTo(Sz*s+kz*l,Sz*l-kz*s),e.closePath()}};function Az(){}function Nz(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Iz(e){this._context=e}function jz(e){this._context=e}function Pz(e){this._context=e}function Dz(e){this._context=e}function Mz(e){return e<0?-1:1}function Rz(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Mz(a)+Mz(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Lz(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Fz(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function zz(e){this._context=e}function Uz(e){this._context=new Vz(e)}function Vz(e){this._context=e}function $z(e){this._context=e}function Bz(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qz(e,t){this._context=e,this._t=t}function Wz(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Kz(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Hz(e,t){return e[t]}function Gz(e){const t=[];return t.key=e,t}Iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nz(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jz.prototype={areaStart:Az,areaEnd:Az,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nz(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Dz.prototype={areaStart:Az,areaEnd:Az,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},zz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fz(this,this._t0,Lz(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fz(this,Lz(this,n=Rz(this,e,t)),n);break;default:Fz(this,this._t0,n=Rz(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Uz.prototype=Object.create(zz.prototype)).point=function(e,t){zz.prototype.point.call(this,t,e)},Vz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},$z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Bz(e),i=Bz(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Yz=["type","size","sizeType"];function Qz(){return Qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qz.apply(null,arguments)}function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zz(Object(n),!0).forEach(function(t){Jz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eU={symbolCircle:hz,symbolCross:fz,symbolDiamond:gz,symbolSquare:yz,symbolStar:xz,symbolTriangle:Ez,symbolWye:Tz},tU=Math.PI/180,nU=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Yz),a=Xz(Xz({},i),{},{type:t,size:n,sizeType:r}),o="circle";"string"==typeof t&&(o=t);var s,l,{className:c,cx:u,cy:d}=a,h=LF(a,!0);return u===+u&&d===+d&&n===+n?wt.createElement("path",Qz({},h,{className:dR("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:(s=(e=>{var t="symbol".concat(_F(e));return eU[t]||hz})(o),l=function(e,t){let n=null,r=rz(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:WF(e||hz),t="function"==typeof t?t:WF(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:WF(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:WF(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(s).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*tU;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,o)),l())})):null};nU.registerSymbol=(e,t)=>{eU["symbol".concat(_F(e))]=t};var rU={},iU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],a=t(i);n.has(a)||n.set(a,i)}return Array.from(n.values())}}(iU);var aU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}}(aU);var oU={},sU={},lU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}}(lU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lU;e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(sU);var cU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}}(cU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sU,n=cU;e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(oU);var uU={},dU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UL;e.property=function(e){return function(n){return t.get(n,e)}}}(dU);var hU={},fU={},pU={},mU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}}(mU);var gU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}}(gU);var yU,vU,bU={};function wU(){return yU||(yU=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),n=mU,r=gU,i=bU;function a(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return o(e,t,n,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===n(e.get(i),a,i,e,t,r))return!1}return!0}(e,t,n,i);if(t instanceof Set)return s(e,t,n,i);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(i&&i.has(t))return i.get(t)===e;i&&i.set(t,e);try{for(let o=0;o<a.length;o++){const s=a[o];if(!r.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,i))return!1}return!0}finally{i&&i.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?a(e,{...t},l,c):i.eq(e,t);default:return n.isObject(e)?"string"!=typeof t||""===t:i.eq(e,t)}}function o(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],o,a,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function s(e,t,n,r){return 0===t.size||e instanceof Set&&o([...e],[...t],n,r)}e.isMatchWith=function(e,n,r){return"function"!=typeof r?t.isMatch(e,n):a(e,n,function e(t,n,i,o,s,l){const c=r(t,n,i,o,s,l);return void 0!==c?Boolean(c):a(t,n,e,l)},new Map)},e.isSetMatch=s}(pU)),pU}function xU(){return vU||(vU=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(fU)),fU}!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}(bU);var _U={},EU={},SU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}}(SU);var kU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}}(kU);var CU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(CU);var OU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}}(OU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU,n=kU,r=CU,i=gU,a=OU;function o(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(void 0!==d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=o(e[n],n,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,o(r,n,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(o(n,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=o(e[n],n,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),s(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,s(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),s(t,e,l,c,u),t}return e}function s(e,n,r=e,i,a){const s=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<s.length;t++){const l=s[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=o(n[l],l,r,i,a))}}e.cloneDeepWith=function(e,t){return o(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=o,e.copyProperties=s}(EU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EU;e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(_U),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),n=_U;e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(hU);var TU={},AU={},NU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EU,n=CU;e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,a,o,s)=>{const l=null==r?void 0:r(i,a,o,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(NU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU;e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(AU);var IU={},jU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(jU);var PU={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kU;e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(PU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L,n=jU,r=PU,i=qL;e.has=function(e,a){let o;if(o=Array.isArray(a)?a:"string"==typeof a&&t.isDeepKey(a)&&null==(null==e?void 0:e[a])?i.toPath(a):[a],0===o.length)return!1;let s=e;for(let t=0;t<o.length;t++){const e=o[t];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||r.isArguments(s))&&n.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}}(IU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),n=BL,r=AU,i=UL,a=IU;e.matchesProperty=function(e,o){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return o=r.cloneDeep(o),function(n){const r=i.get(n,e);return void 0===r?a.has(n,e):void 0===o?void 0===r:t.isMatch(r,o)}}}(TU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aU,n=dU,r=hU,i=TU;e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(uU),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iU,n=aU,r=oU,i=uU;e.uniqBy=function(e,a=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}}(rU);const DU=Me(rU.uniqBy);var MU={exports:{}},RU={},LU={exports:{}},FU={},zU=wt;var UU="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},VU=zU.useState,$U=zU.useEffect,BU=zU.useLayoutEffect,qU=zU.useDebugValue;function WU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!UU(e,n)}catch(r){return!0}}var KU="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=VU({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return BU(function(){i.value=n,i.getSnapshot=t,WU(i)&&a({inst:i})},[e,n,t]),$U(function(){return WU(i)&&a({inst:i}),e(function(){WU(i)&&a({inst:i})})},[e]),qU(n),n};FU.useSyncExternalStore=void 0!==zU.useSyncExternalStore?zU.useSyncExternalStore:KU,LU.exports=FU;var HU=LU.exports,GU=wt,YU=HU;var QU="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ZU=YU.useSyncExternalStore,XU=GU.useRef,JU=GU.useEffect,eV=GU.useMemo,tV=GU.useDebugValue;RU.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=XU(null);if(null===a.current){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=eV(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&o.hasValue){var t=o.value;if(i(t,e))return s=t}return s=e}if(t=s,QU(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,i]);var s=ZU(e,a[0],a[1]);return JU(function(){o.hasValue=!0,o.value=s},[s]),tV(s),s},MU.exports=RU;var nV=MU.exports,rV=wt.createContext(null),iV=e=>e,aV=()=>{var e=wt.useContext(rV);return e?e.store.dispatch:iV},oV=()=>{},sV=()=>oV,lV=(e,t)=>e===t;function cV(e){var t=wt.useContext(rV);return nV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:sV,t?t.store.getState:oV,t?t.store.getState:oV,t?e:oV,lV)}var uV=e=>Array.isArray(e)?e:[e];function dV(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var hV="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function fV(){return{s:0,v:void 0,o:null,p:null}}function pV(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function o(){var t;let o=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const n=e.get(t);void 0===n?(o=fV(),e.set(t,o)):o=n}else{let e=o.p;null===e&&(o.p=e=new Map);const n=e.get(t);void 0===n?(o=fV(),e.set(t,o)):o=n}}const l=o;let c;if(1===o.s)c=o.v;else if(c=e.apply(null,arguments),a++,r){const e=(null==(t=null==i?void 0:i.deref)?void 0:t.call(i))??i;null!=e&&r(e,c)&&(c=e,0!==a&&a--);i="object"==typeof c&&null!==c||"function"==typeof c?new hV(c):c}return l.s=1,l.v=c,c}return o.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function mV(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},o=e.pop();"object"==typeof o&&(a=o,o=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const s={...n,...a},{memoize:l,memoizeOptions:c=[],argsMemoize:u=pV,argsMemoizeOptions:d=[]}=s,h=uV(c),f=uV(d),p=dV(e),m=l(function(){return r++,o.apply(null,arguments)},...h),g=u(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(p,arguments);return t=m.apply(null,e),t},...f);return Object.assign(g,{resultFunc:o,memoizedResultFunc:m,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var gV=mV(pV),yV=Object.assign((e,t=gV)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>yV}),vV={},bV={},wV={};!function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),a=t(n);if(i===a&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}}(wV);var xV={},_V={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}}(_V),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_V,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e)))}}(xV),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wV,n=xV,r=qL;e.orderBy=function(e,i,a,o){if(null==e)return[];a=o?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(a)||(a=null==a?[]:[a]),a=a.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],a[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(bV);var EV={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<r?i(o,t+1):n.push(o)}};return i(e,0),n}}(EV);var SV={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU,n=sU,r=mU,i=bU;e.isIterateeCall=function(e,a,o){return!!r.isObject(o)&&(!!("number"==typeof a&&n.isArrayLike(o)&&t.isIndex(a)&&a<o.length||"string"==typeof a&&a in o)&&i.eq(o[a],e))}}(SV),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bV,n=EV,r=SV;e.sortBy=function(e,...i){const a=i.length;return a>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(vV);const kV=Me(vV.sortBy);var CV=e=>e.legend.settings;gV([e=>e.legend.payload,CV],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?kV(r,n):r});function OV(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TV=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),AV=()=>Math.random().toString(36).substring(7).split("").join("."),NV={INIT:`@@redux/INIT${AV()}`,REPLACE:`@@redux/REPLACE${AV()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${AV()}`};function IV(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function jV(e,t,n){if("function"!=typeof e)throw new Error(OV(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(OV(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(OV(1));return n(jV)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(OV(3));return i}function d(e){if("function"!=typeof e)throw new Error(OV(4));if(l)throw new Error(OV(5));let t=!0;c();const n=s++;return o.set(n,e),function(){if(t){if(l)throw new Error(OV(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!IV(e))throw new Error(OV(7));if(void 0===e.type)throw new Error(OV(8));if("string"!=typeof e.type)throw new Error(OV(17));if(l)throw new Error(OV(9));try{l=!0,i=r(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:NV.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(OV(10));r=e,h({type:NV.REPLACE})},[TV]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(OV(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[TV](){return this}}}}}function PV(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const r=t[a];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:NV.INIT}))throw new Error(OV(12));if(void 0===n(void 0,{type:NV.PROBE_UNKNOWN_ACTION()}))throw new Error(OV(13))})}(n)}catch(jL){i=jL}return function(e={},t){if(i)throw i;let a=!1;const o={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(OV(14));o[s]=u,a=a||u!==c}return a=a||r.length!==Object.keys(e).length,a?o:e}}function DV(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function MV(e){return IV(e)&&"type"in e&&"string"==typeof e.type}var RV=Symbol.for("immer-nothing"),LV=Symbol.for("immer-draftable"),FV=Symbol.for("immer-state");function zV(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var UV=Object.getPrototypeOf;function VV(e){return!!e&&!!e[FV]}function $V(e){var t;return!!e&&(qV(e)||Array.isArray(e)||!!e[LV]||!!(null==(t=e.constructor)?void 0:t[LV])||YV(e)||QV(e))}var BV=Object.prototype.constructor.toString();function qV(e){if(!e||"object"!=typeof e)return!1;const t=UV(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===BV}function WV(e,t){0===KV(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function KV(e){const t=e[FV];return t?t.type_:Array.isArray(e)?1:YV(e)?2:QV(e)?3:0}function HV(e,t){return 2===KV(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GV(e,t,n){const r=KV(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function YV(e){return e instanceof Map}function QV(e){return e instanceof Set}function ZV(e){return e.copy_||e.base_}function XV(e,t){if(YV(e))return new Map(e);if(QV(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qV(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[FV];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(UV(e),t)}{const t=UV(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function JV(e,t=!1){return t$(e)||VV(e)||!$V(e)||(KV(e)>1&&Object.defineProperties(e,{set:{value:e$},add:{value:e$},clear:{value:e$},delete:{value:e$}}),Object.freeze(e),t&&Object.values(e).forEach(e=>JV(e,!0))),e}function e$(){zV(2)}function t$(e){return Object.isFrozen(e)}var n$,r$={};function i$(e){const t=r$[e];return t||zV(0),t}function a$(){return n$}function o$(e,t){t&&(i$("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function s$(e){l$(e),e.drafts_.forEach(u$),e.drafts_=null}function l$(e){e===n$&&(n$=e.parent_)}function c$(e){return n$={drafts_:[],parent_:n$,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u$(e){const t=e[FV];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function d$(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[FV].modified_&&(s$(t),zV(4)),$V(e)&&(e=h$(t,e),t.parent_||p$(t,e)),t.patches_&&i$("Patches").generateReplacementPatches_(n[FV].base_,e,t.patches_,t.inversePatches_)):e=h$(t,n,[]),s$(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RV?e:void 0}function h$(e,t,n){if(t$(t))return t;const r=t[FV];if(!r)return WV(t,(i,a)=>f$(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return p$(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,a=!1;3===r.type_&&(i=new Set(t),t.clear(),a=!0),WV(i,(i,o)=>f$(e,r,t,i,o,n,a)),p$(e,t,!1),n&&e.patches_&&i$("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function f$(e,t,n,r,i,a,o){if(VV(i)){const o=h$(e,i,a&&t&&3!==t.type_&&!HV(t.assigned_,r)?a.concat(r):void 0);if(GV(n,r,o),!VV(o))return;e.canAutoFreeze_=!1}else o&&n.add(i);if($V(i)&&!t$(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;h$(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!(YV(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||p$(e,i)}}function p$(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JV(t,n)}var m$={get(e,t){if(t===FV)return e;const n=ZV(e);if(!HV(n,t))return function(e,t,n){var r;const i=v$(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!$V(r)?r:r===y$(e.base_,t)?(w$(e),e.copy_[t]=x$(r,e)):r},has:(e,t)=>t in ZV(e),ownKeys:e=>Reflect.ownKeys(ZV(e)),set(e,t,n){const r=v$(ZV(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=y$(ZV(e),t),o=null==r?void 0:r[FV];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==n||HV(e.base_,t)))return!0;w$(e),b$(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==y$(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,w$(e),b$(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=ZV(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){zV(11)},getPrototypeOf:e=>UV(e.base_),setPrototypeOf(){zV(12)}},g$={};function y$(e,t){const n=e[FV];return(n?ZV(n):e)[t]}function v$(e,t){if(!(t in e))return;let n=UV(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=UV(n)}}function b$(e){e.modified_||(e.modified_=!0,e.parent_&&b$(e.parent_))}function w$(e){e.copy_||(e.copy_=XV(e.base_,e.scope_.immer_.useStrictShallowCopy_))}WV(m$,(e,t)=>{g$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),g$.deleteProperty=function(e,t){return g$.set.call(this,e,t,void 0)},g$.set=function(e,t,n){return m$.set.call(this,e[0],t,n,e[0])};function x$(e,t){const n=YV(e)?i$("MapSet").proxyMap_(e,t):QV(e)?i$("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=m$;n&&(i=[r],a=g$);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}(e,t);return(t?t.scope_:a$()).drafts_.push(n),n}function _$(e){return VV(e)||zV(10),E$(e)}function E$(e){if(!$V(e)||t$(e))return e;const t=e[FV];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=XV(e,t.scope_.immer_.useStrictShallowCopy_)}else n=XV(e,!0);return WV(n,(e,t)=>{GV(n,e,E$(t))}),t&&(t.finalized_=!1),n}var S$=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&zV(6),void 0!==n&&"function"!=typeof n&&zV(7),$V(e)){const i=c$(this),a=x$(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?s$(i):l$(i)}return o$(i,n),d$(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===RV&&(r=void 0),this.autoFreeze_&&JV(r,!0),n){const t=[],i=[];i$("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}zV(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;const i=this.produce(e,t,(e,t)=>{n=e,r=t});return[i,n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$V(e)||zV(8),VV(e)&&(e=_$(e));const t=c$(this),n=x$(e,void 0);return n[FV].isManual_=!0,l$(t),n}finishDraft(e,t){const n=e&&e[FV];n&&n.isManual_||zV(9);const{scope_:r}=n;return o$(r,t),d$(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=i$("Patches").applyPatches_;return VV(e)?r(e,t):this.produce(e,e=>r(e,t))}},k$=S$.produce;function C$(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}var O$=C$(),T$=C$,A$="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?DV:DV.apply(null,arguments)};function N$(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(EB(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>MV(t)&&t.type===e,n}var I$=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function j$(e){return $V(e)?k$(e,()=>{}):e}function P$(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var D$=e=>t=>{setTimeout(t,e)},M$=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new I$(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:D$(10):"callback"===e.type?e.queueNotification:D$(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function R$(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let a=new I$;return t&&("boolean"==typeof t?a.push(O$):a.push(T$(t.extraArgument))),a},{reducer:n,middleware:r,devTools:i=!0,preloadedState:a,enhancers:o}=e||{};let s,l;if("function"==typeof n)s=n;else{if(!IV(n))throw new Error(EB(1));s=PV(n)}l="function"==typeof r?r(t):t();let c=DV;i&&(c=A$({trace:!1,..."object"==typeof i&&i}));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(OV(15))};const o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},s=e.map(e=>e(o));return a=DV(...s)(i.dispatch),{...i,dispatch:a}}}(...l),d=M$(u);return jV(s,a,c(..."function"==typeof o?o(d):d()))}function L$(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(EB(28));if(r in t)throw new Error(EB(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var F$=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},z$=Symbol.for("rtk-slice-createasyncthunk");function U$(e,t){return`${e}/${t}`}function V$({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[z$];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(EB(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(EB(12));if(n in o.sliceCaseReducersByType)throw new Error(EB(13));return o.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?L$(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let n,[r,i,a]=L$(t);if("function"==typeof e)n=()=>j$(e());else{const t=j$(e);n=()=>t}function o(e=n(),t){let o=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,n)=>{if(n){if(VV(e)){const r=n(e,t);return void 0===r?e:r}if($V(e))return k$(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return o.getInitialState=n,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=i[r],o={reducerName:r,type:U$(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(EB(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?N$(e,o):N$(e))}(o,a,s):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(EB(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o);s&&r.addCase(d.pending,s);l&&r.addCase(d.rejected,l);c&&r.addMatcher(d.settled,c);r.exposeCaseReducer(t,{fulfilled:o||q$,pending:s||q$,rejected:l||q$,settled:c||q$})}(o,a,s,n)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=P$(d,r,p)),i}function i(t=c){const r=P$(u,n,()=>new WeakMap);return P$(r,t,()=>{const r={};for(const[i,a]of Object.entries(e.selectors??{}))r[i]=$$(a,t,()=>P$(d,t,p),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g={name:t,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e,{reducerPath:t,...n}={}){const i=t??r;return e.inject({reducerPath:i,reducer:f},n),{...g,...m(i,!0)}}};return g}}function $$(e,t,n,r){function i(i,...a){let o=t(i);return void 0===o&&r&&(o=n()),e(o,...a)}return i.unwrapped=e,i}var B$=V$();function q$(){}var W$="listener",K$="completed",H$="cancelled",G$=`task-${H$}`,Y$=`task-${K$}`,Q$=`${W$}-${H$}`,Z$=`${W$}-${K$}`,X$=class{constructor(e){Oe(this,"name","TaskAbortError"),Oe(this,"message"),this.code=e,this.message=`task ${H$} (reason: ${e})`}},J$=(e,t)=>{if("function"!=typeof e)throw new TypeError(EB(32))},eB=()=>{},tB=(e,t=eB)=>(e.catch(t),e),nB=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rB=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},iB=e=>{if(e.aborted){const{reason:t}=e;throw new X$(t)}};function aB(e,t){let n=eB;return new Promise((r,i)=>{const a=()=>i(new X$(e.reason));e.aborted?a():(n=nB(e,a),t.finally(()=>n()).then(r,i))}).finally(()=>{n=eB})}var oB=e=>t=>tB(aB(e,t).then(t=>(iB(e),t))),sB=e=>{const t=oB(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:lB}=Object,cB={},uB="listenerMiddleware",dB=(e,t)=>(n,r)=>{J$(n);const i=new AbortController;var a;a=i,nB(e,()=>rB(a,e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof X$?"cancelled":"rejected",error:n}}finally{null==t||t()}})(async()=>{iB(e),iB(i.signal);const t=await n({pause:oB(i.signal),delay:sB(i.signal),signal:i.signal});return iB(i.signal),t},()=>rB(i,Y$));return(null==r?void 0:r.autoJoin)&&t.push(o.catch(eB)),{result:oB(e)(o),cancel(){rB(i,G$)}}},hB=(e,t)=>(n,r)=>tB((async(n,r)=>{iB(t);let i=()=>{};const a=[new Promise((t,r)=>{let a=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{a(),r()}})];null!=r&&a.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await aB(t,Promise.race(a));return iB(t),e}finally{i()}})(n,r)),fB=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=N$(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(EB(21));return J$(a),{predicate:i,type:t,effect:a}},pB=lB(e=>{const{type:t,predicate:n,effect:r}=fB(e);return{id:F$(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(EB(22))}}},{withTypes:()=>pB}),mB=(e,t)=>{const{type:n,effect:r,predicate:i}=fB(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},gB=e=>{e.pending.forEach(e=>{rB(e,Q$)})},yB=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},vB=lB(N$(`${uB}/add`),{withTypes:()=>vB}),bB=N$(`${uB}/removeAll`),wB=lB(N$(`${uB}/remove`),{withTypes:()=>wB}),xB=(...e)=>{console.error(`${uB}/error`,...e)},_B=(e={})=>{const t=new Map,{extra:n,onError:r=xB}=e;J$(r);const i=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&gB(e)}))(mB(t,e)??pB(e));lB(i,{withTypes:()=>i});const a=e=>{const n=mB(t,e);return n&&(n.unsubscribe(),e.cancelActive&&gB(n)),!!n};lB(a,{withTypes:()=>a});const o=async(e,a,o,s)=>{const l=new AbortController,c=hB(i,l.signal),u=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,lB({},o,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:sB(l.signal),pause:oB(l.signal),extra:n,signal:l.signal,fork:dB(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(rB(e,Q$),n.delete(e))})},cancel:()=>{rB(l,Q$),e.pending.delete(l)},throwIfCancelled:()=>{iB(l.signal)}})))}catch(d){d instanceof X$||yB(r,d,{raisedBy:"effect"})}finally{await Promise.all(u),rB(l,Z$),e.pending.delete(l)}},s=(e=>()=>{e.forEach(gB),e.clear()})(t);return{middleware:e=>n=>l=>{if(!MV(l))return n(l);if(vB.match(l))return i(l.payload);if(bB.match(l))return void s();if(wB.match(l))return a(l.payload);let c=e.getState();const u=()=>{if(c===cB)throw new Error(EB(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(h){i=!1,yB(r,h,{raisedBy:"predicate"})}i&&o(t,l,e,u)}}}finally{c=cB}return d},startListening:i,stopListening:a,clearListeners:s}};function EB(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SB=B$({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kB,setLayout:CB,setChartSize:OB,setScale:TB}=SB.actions,AB=SB.reducer;function NB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NB(Object(n),!0).forEach(function(t){jB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PB=Math.PI/180,DB=e=>180*e/Math.PI,MB=(e,t,n,r)=>({x:e+Math.cos(-PB*r)*n,y:t+Math.sin(-PB*r)*n}),RB=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)})({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:DB(l),angleInRadian:l}},LB=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},FB=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=RB({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?IB(IB({},t),{},{radius:i,angle:LB(d,t)}):null};function zB(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function UB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(n),!0).forEach(function(t){$B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BB(e,t,n){return xF(e)||xF(t)?n:pF(t)?WL(e,t,n):"function"==typeof t?t(e):n}var qB=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,WB=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(n),o},KB=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,m="category"===i&&o.bandwidth?o.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*uF(a[0]-a[1])*m:m,d||h?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:o(n)+m,value:e,offset:m,index:t}}).filter(e=>!dF(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+m,value:e,index:t,offset:m})):o.ticks&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+m,value:e,offset:m,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+m,value:r?r[e]:e,index:t,offset:m}))},HB=1e-4,GB={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=dF(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Wz(e,t)}},none:Wz,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Wz(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,Wz(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=dF(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},YB=(e,t,n)=>{var r=GB[n],i=function(){var e=WF([]),t=Kz,n=Wz,r=Hz;function i(i){var a,o,s=Array.from(e.apply(this,arguments),Gz),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=iz(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:WF(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:WF(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Kz:"function"==typeof e?e:WF(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Wz:e,i):n},i}().keys(t).value((e,t)=>+BB(e,t,0)).order(Kz).offset(r);return i(e)};function QB(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!xF(i[t.dataKey])){var s=wF(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=BB(i,xF(o)?t.dataKey:o);return xF(l)?null:t.scale(l)}var ZB=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=BB(a,t.dataKey,t.scale.domain()[o]);return xF(s)?null:t.scale(s)-i/2+r},XB=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((e,r)=>{var i,a=zB(r,t,n),o=(i=a.flat(2).filter(fF),[Math.min(...i),Math.max(...i)]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},JB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tq=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=kV(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function nq(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return VB(VB({},t),{},{dataKey:n,payload:r,value:i,name:a})}function rq(e,t){return e?String(e):"string"==typeof t?t:void 0}var iq=e=>e.layout.width,aq=e=>e.layout.height,oq=e=>e.layout.scale,sq=e=>e.layout.margin,lq=gV(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cq=gV(e=>e.cartesianAxis.yAxis,e=>Object.values(e));function uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uq(Object(n),!0).forEach(function(t){hq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fq=gV([iq,aq,sq,e=>e.brush.height,function(e){return cq(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return cq(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return lq(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return lq(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},CV,e=>e.legend.size],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d=dq(dq({},{top:(n.top||0)+o,bottom:(n.bottom||0)+s}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&fF(e[a]))return VB(VB({},e),{},{[a]:e[a]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&fF(e[o]))return VB(VB({},e),{},{[o]:e[o]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return dq(dq({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),pq=gV(fq,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mq=gV(iq,aq,(e,t)=>({x:0,y:0,width:e,height:t})),gq=wt.createContext(null),yq=()=>null!=wt.useContext(gq),vq=e=>e.brush,bq=gV([vq,fq,sq],(e,t,n)=>({height:e.height,x:fF(e.x)?e.x:t.left,y:fF(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:fF(e.width)?e.width:t.width})),wq=()=>{var e,t=yq(),n=cV(pq),r=cV(bq),i=null===(e=cV(vq))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},xq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_q=()=>{var e;return null!==(e=cV(fq))&&void 0!==e?e:xq},Eq=()=>cV(iq),Sq=()=>cV(aq),kq=e=>e.layout.layoutType,Cq=()=>cV(kq),Oq=B$({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=_$(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Tq,setLegendSettings:Aq,addLegendPayload:Nq,removeLegendPayload:Iq}=Oq.actions,jq=Oq.reducer;function Pq(){return Pq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pq.apply(null,arguments)}function Dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dq(Object(n),!0).forEach(function(t){Rq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lq(e){return Array.isArray(e)&&pF(e[0])&&pF(e[1])?e.join(" ~ "):e}var Fq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,f=Mq({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=Mq({margin:0},i),m=!xF(u),g=m?u:"",y=dR("recharts-default-tooltip",l),v=dR("recharts-tooltip-label",c);m&&d&&null!=a&&(g=d(u,a));var b=h?{role:"status","aria-live":"assertive"}:{};return wt.createElement("div",Pq({className:y,style:f},b),wt.createElement("p",{className:v,style:p},wt.isValidElement(g)?g:"".concat(g)),(()=>{if(a&&a.length){var e=(s?kV(a,s):a).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||o||Lq,{value:s,name:l}=e,c=s,u=l;if(i){var d=i(s,l,e,n,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var h=Mq({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return wt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},pF(u)?wt.createElement("span",{className:"recharts-tooltip-item-name"},u):null,pF(u)?wt.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,wt.createElement("span",{className:"recharts-tooltip-item-value"},c),wt.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return wt.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},zq="recharts-tooltip-wrapper",Uq={visibility:"hidden"};function Vq(e){var{coordinate:t,translateX:n,translateY:r}=e;return dR(zq,{["".concat(zq,"-right")]:fF(n)&&t&&fF(t.x)&&n>=t.x,["".concat(zq,"-left")]:fF(n)&&t&&fF(t.x)&&n<t.x,["".concat(zq,"-bottom")]:fF(r)&&t&&fF(t.y)&&r>=t.y,["".concat(zq,"-top")]:fF(r)&&t&&fF(t.y)&&r<t.y})}function $q(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&fF(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];return null==h?0:o[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function Bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bq(Object(n),!0).forEach(function(t){Wq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Kq extends wt.PureComponent{constructor(){super(...arguments),Wq(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wq(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:a,hasPayload:o,isAnimationActive:s,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:p,innerRef:m,hasPortalFromProps:g}=this.props,{cssClasses:y,cssProperties:v}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=$q({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=$q({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Uq,{cssProperties:t,cssClasses:Vq({translateX:n,translateY:r,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:h}),b=g?{}:qq(qq({transition:s&&e?"transform ".concat(n,"ms ").concat(r):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=qq(qq({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return wt.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:m},i)}}var Hq=!1,Gq=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),Yq=()=>cV(e=>e.rootProps.accessibilityLayer);function Qq(e){return Number.isFinite(e)}function Zq(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Xq(){return Xq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xq.apply(null,arguments)}function Jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jq(Object(n),!0).forEach(function(t){tW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nW={curveBasisClosed:function(e){return new jz(e)},curveBasisOpen:function(e){return new Pz(e)},curveBasis:function(e){return new Iz(e)},curveBumpX:function(e){return new dz(e,!0)},curveBumpY:function(e){return new dz(e,!1)},curveLinearClosed:function(e){return new Dz(e)},curveLinear:oz,curveMonotoneX:function(e){return new zz(e)},curveMonotoneY:function(e){return new Uz(e)},curveNatural:function(e){return new $z(e)},curveStep:function(e){return new qz(e,.5)},curveStepAfter:function(e){return new qz(e,1)},curveStepBefore:function(e){return new qz(e,0)}},rW=e=>Qq(e.x)&&Qq(e.y),iW=e=>e.x,aW=e=>e.y,oW=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(_F(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?nW[n]||oz:nW["".concat(n).concat("vertical"===t?"Y":"X")]})(n,a),l=o?r.filter(rW):r;if(Array.isArray(i)){var c=o?i.filter(e=>rW(e)):i,u=l.map((e,t)=>eW(eW({},e),{},{base:c[t]}));return(t="vertical"===a?uz().y(aW).x1(iW).x0(e=>e.base.x):uz().x(iW).y1(aW).y0(e=>e.base.y)).defined(rW).curve(s),t(u)}return(t="vertical"===a&&fF(i)?uz().y(aW).x1(iW).x0(i):fF(i)?uz().x(iW).y1(aW).y0(i):cz().x(iW).y(aW)).defined(rW).curve(s),t(l)},sW=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if(!(n&&n.length||r))return null;var a=n&&n.length?oW(e):r;return wt.createElement("path",Xq({},IF(e),OF(e),{className:dR("recharts-curve",t),d:null===a?void 0:a,ref:i}))},lW=["x","y","top","left","width","height","className"];function cW(){return cW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cW.apply(null,arguments)}function uW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hW=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),fW=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,lW),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uW(Object(n),!0).forEach(function(t){dW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:a,height:o},l);return fF(t)&&fF(n)&&fF(a)&&fF(o)&&fF(r)&&fF(i)?wt.createElement("path",cW({},LF(c,!0),{className:dR("recharts-cross",s),d:hW(t,n,a,o,r,i)})):null};function pW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pW(Object(n),!0).forEach(function(t){mW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function yW(){}function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(n),!0).forEach(function(t){wW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xW=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),_W=(e,t)=>Object.keys(t).reduce((n,r)=>bW(bW({},n),{},{[r]:e(r,t[r])}),{});function EW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EW(Object(n),!0).forEach(function(t){kW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CW=(e,t,n)=>e+(t-e)*n,OW=e=>{var{from:t,to:n}=e;return t!==n},TW=(e,t,n)=>{var r=_W((t,n)=>{if(OW(n)){var[r,i]=e(n.from,n.to,n.velocity);return SW(SW({},n),{},{from:r,velocity:i})}return n},t);return n<1?_W((e,t)=>OW(t)?SW(SW({},t),{},{velocity:CW(t.velocity,r[e].velocity,n),from:CW(t.from,r[e].from,n)}):t,t):TW(e,r,n-1)};function AW(e,t,n,r,i,a){var o,s=r.reduce((n,r)=>SW(SW({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{o||(o=r);var u=(r-o)/n.dt;s=TW(n,s,u),i(SW(SW(SW({},e),t),_W((e,t)=>t.from,s))),o=r,Object.values(s).filter(OW).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const NW=(e,t,n,r,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?AW(e,t,n,l,i,a):function(e,t,n,r,i,a,o){var s,l=null,c=i.reduce((n,r)=>SW(SW({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,h=_W((e,t)=>CW(...t,n(d)),c);if(a(SW(SW(SW({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=_W((e,t)=>CW(...t,n(1)),c);a(SW(SW(SW({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,a)};var IW=1e-4,jW=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],PW=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),DW=(e,t)=>n=>{var r=jW(e,t);return PW(r,n)},MW=function(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(1===a.length)switch(a[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=a[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,n,t,r]=a);var l,c,u=DW(e,t),d=DW(n,r),h=(l=e,c=t,e=>{var t=[...jW(l,c).map((e,t)=>e*t).slice(1),0];return PW(t,e)}),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,a=h(n);if(Math.abs(i-t)<IW||a<IW)return d(n);n=f(n-i/a)}return d(n)};return p.isStepper=!1,p},RW=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MW(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*n)*r/1e3,s=a*r/1e3+e;return Math.abs(s-i)<IW&&Math.abs(o)<IW?[i,0]:[s,o]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return MW(e)}return"function"==typeof e?e:null};class LW{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=a=>{a-n>=t?e(a):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}function FW(){return e=new LW,t=()=>null,n=!1,r=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"==typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}var zW=wt.createContext(FW);var UW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VW={t:0},$W={t:1};function BW(e){var t,n,r,i=gW(e,UW),{isActive:a,canBegin:o,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:d,children:h}=i,f=(t=i.animationId,n=i.animationManager,r=wt.useContext(zW),wt.useMemo(()=>null!=n?n:r(t),[t,n,r])),[p,m]=wt.useState(a?VW:$W),g=wt.useRef(null);return wt.useEffect(()=>{a||m($W)},[a]),wt.useEffect(()=>{if(!a||!o)return yW;var e=NW(VW,$W,RW(l),s,m,f.getTimeoutController());return f.start([d,c,()=>{g.current=e()},s,u]),()=>{f.stop(),g.current&&g.current(),u()}},[a,o,s,l,c,d,u,f]),h(p.t)}function qW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=wt.useRef(gF(t)),r=wt.useRef(e);return r.current!==e&&(n.current=gF(t),r.current=e),n.current}function WW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WW(Object(n),!0).forEach(function(t){HW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(){return GW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GW.apply(null,arguments)}var YW=(e,t,n,r,i)=>{var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},QW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZW=e=>{var t=gW(e,QW),n=wt.useRef(null),[r,i]=wt.useState(-1);wt.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:m}=t,g=wt.useRef(s),y=wt.useRef(l),v=wt.useRef(a),b=wt.useRef(o),w=qW(wt.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||0===s||0===l)return null;var x=dR("recharts-rectangle",u);if(!m)return wt.createElement("path",GW({},LF(t,!0),{className:x,d:YW(a,o,s,l,c)}));var _=g.current,E=y.current,S=v.current,k=b.current,C="0px ".concat(-1===r?1:r,"px"),O="".concat(r,"px 0px"),T=xW(["strokeDasharray"],h,"string"==typeof d?d:void 0);return wt.createElement(BW,{animationId:w,key:w,canBegin:r>0,duration:h,easing:d,isActive:m,begin:f},e=>{var r,i=bF(_,s,e),u=bF(E,l,e),d=bF(S,a,e),h=bF(k,o,e);return n.current&&(g.current=i,y.current=u,v.current=d,b.current=h),r=p?e>0?{transition:T,strokeDasharray:O}:{strokeDasharray:C}:{strokeDasharray:O},wt.createElement("path",GW({},LF(t,!0),{className:x,d:YW(d,h,i,u,c),ref:n,style:KW(KW({},r),t.style)}))})};function XW(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e;return{points:[MB(t,n,r,i),MB(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function JW(){return JW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JW.apply(null,arguments)}var eK=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/PB,d=l?i:i+a*u,h=l?i-a*u:i;return{center:MB(t,n,c,d),circleTangency:MB(t,n,r,d),lineTangency:MB(t,n,c*Math.cos(u*PB),h),theta:u}},tK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>uF(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=MB(t,n,i,a),u=MB(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=MB(t,n,r,a),f=MB(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},nK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rK=e=>{var t=gW(e,nK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var h,f=dR("recharts-sector",d),p=a-i,m=yF(o,p,0,!0);return h=m>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=uF(c-l),{circleTangency:d,lineTangency:h,theta:f}=eK({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=eK({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):tK({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:w,theta:x}=eK({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:E,theta:S}=eK({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),k=s?Math.abs(l-c):Math.abs(l-c)-x-S;if(k<0&&0===a)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(E.x,",").concat(E.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):tK({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),wt.createElement("path",JW({},LF(t,!0),{className:f,d:h}))};function iK(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return XW(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=MB(s,l,c,d),f=MB(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}var aK={},oK={},sK={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_V;e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(sK),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sK;e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(oK),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SV,n=oK;e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const a=Math.max(Math.ceil((r-e)/(i||1)),0),o=new Array(a);for(let t=0;t<a;t++)o[t]=e,e+=i;return o}}(aK);const lK=Me(aK.range);function cK(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uK(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dK(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=cK,n=(t,n)=>cK(e(t),n),r=(t,n)=>e(t)-n):(t=e===cK||e===uK?e:hK,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){const o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function hK(){return 0}function fK(e){return null===e?NaN:+e}const pK=dK(cK).right;dK(fK).center;class mK extends Map{constructor(e,t=yK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(gK(this,e))}has(e){return super.has(gK(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function gK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function yK(e){return null!==e&&"object"==typeof e?e.valueOf():e}function vK(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const bK=Math.sqrt(50),wK=Math.sqrt(10),xK=Math.sqrt(2);function _K(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=bK?10:a>=wK?5:a>=xK?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?_K(e,t,2*n):[s,l,c]}function EK(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?_K(t,e,n):_K(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function SK(e,t,n){return _K(e=+e,t=+t,n=+n)[2]}function kK(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?SK(t,e,n):SK(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function CK(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function OK(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function TK(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?vK:function(e=cK){if(e===cK)return vK;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);TK(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(AK(e,n,t),i(e[r],a)>0&&AK(e,n,r);o<s;){for(AK(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?AK(e,n,s):(++s,AK(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function AK(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function NK(e,t,n=fK){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function IK(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function jK(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const PK=Symbol("implicit");function DK(){var e=new mK,t=[],n=[],r=PK;function i(i){let a=e.get(i);if(void 0===a){if(r!==PK)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new mK;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return DK(t,n).unknown(r)},IK.apply(i,arguments),i}function MK(){var e,t,n=DK().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return MK(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},IK.apply(d(),arguments)}function RK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RK(t())},e}function LK(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FK(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zK(){}var UK=.7,VK=1/UK,$K="\\s*([+-]?\\d+)\\s*",BK="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qK="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WK=/^#([0-9a-f]{3,8})$/,KK=new RegExp(`^rgb\\(${$K},${$K},${$K}\\)$`),HK=new RegExp(`^rgb\\(${qK},${qK},${qK}\\)$`),GK=new RegExp(`^rgba\\(${$K},${$K},${$K},${BK}\\)$`),YK=new RegExp(`^rgba\\(${qK},${qK},${qK},${BK}\\)$`),QK=new RegExp(`^hsl\\(${BK},${qK},${qK}\\)$`),ZK=new RegExp(`^hsla\\(${BK},${qK},${qK},${BK}\\)$`),XK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function JK(){return this.rgb().formatHex()}function eH(){return this.rgb().formatRgb()}function tH(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?nH(t):3===n?new aH(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rH(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rH(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=KK.exec(e))?new aH(t[1],t[2],t[3],1):(t=HK.exec(e))?new aH(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=GK.exec(e))?rH(t[1],t[2],t[3],t[4]):(t=YK.exec(e))?rH(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=QK.exec(e))?dH(t[1],t[2]/100,t[3]/100,1):(t=ZK.exec(e))?dH(t[1],t[2]/100,t[3]/100,t[4]):XK.hasOwnProperty(e)?nH(XK[e]):"transparent"===e?new aH(NaN,NaN,NaN,0):null}function nH(e){return new aH(e>>16&255,e>>8&255,255&e,1)}function rH(e,t,n,r){return r<=0&&(e=t=n=NaN),new aH(e,t,n,r)}function iH(e,t,n,r){return 1===arguments.length?((i=e)instanceof zK||(i=tH(i)),i?new aH((i=i.rgb()).r,i.g,i.b,i.opacity):new aH):new aH(e,t,n,null==r?1:r);var i}function aH(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function oH(){return`#${uH(this.r)}${uH(this.g)}${uH(this.b)}`}function sH(){const e=lH(this.opacity);return`${1===e?"rgb(":"rgba("}${cH(this.r)}, ${cH(this.g)}, ${cH(this.b)}${1===e?")":`, ${e})`}`}function lH(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cH(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uH(e){return((e=cH(e))<16?"0":"")+e.toString(16)}function dH(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fH(e,t,n,r)}function hH(e){if(e instanceof fH)return new fH(e.h,e.s,e.l,e.opacity);if(e instanceof zK||(e=tH(e)),!e)return new fH;if(e instanceof fH)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new fH(o,s,l,e.opacity)}function fH(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function pH(e){return(e=(e||0)%360)<0?e+360:e}function mH(e){return Math.max(0,Math.min(1,e||0))}function gH(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}LK(zK,tH,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JK,formatHex:JK,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hH(this).formatHsl()},formatRgb:eH,toString:eH}),LK(aH,iH,FK(zK,{brighter(e){return e=null==e?VK:Math.pow(VK,e),new aH(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?UK:Math.pow(UK,e),new aH(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new aH(cH(this.r),cH(this.g),cH(this.b),lH(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oH,formatHex:oH,formatHex8:function(){return`#${uH(this.r)}${uH(this.g)}${uH(this.b)}${uH(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sH,toString:sH})),LK(fH,function(e,t,n,r){return 1===arguments.length?hH(e):new fH(e,t,n,null==r?1:r)},FK(zK,{brighter(e){return e=null==e?VK:Math.pow(VK,e),new fH(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?UK:Math.pow(UK,e),new fH(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new aH(gH(e>=240?e-240:e+120,i,r),gH(e,i,r),gH(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fH(pH(this.h),mH(this.s),mH(this.l),lH(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lH(this.opacity);return`${1===e?"hsl(":"hsla("}${pH(this.h)}, ${100*mH(this.s)}%, ${100*mH(this.l)}%${1===e?")":`, ${e})`}`}}));const yH=e=>()=>e;function vH(e){return 1===(e=+e)?bH:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):yH(isNaN(t)?n:t)}}function bH(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):yH(isNaN(e)?t:e)}const wH=function e(t){var n=vH(t);function r(e,t){var r=n((e=iH(e)).r,(t=iH(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=bH(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function xH(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function _H(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=AH(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function EH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function SH(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kH(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=AH(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var CH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,OH=new RegExp(CH.source,"g");function TH(e,t){var n,r,i,a=CH.lastIndex=OH.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=CH.exec(e))&&(r=OH.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:SH(n,r)})),a=OH.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function AH(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?yH(t):("number"===i?SH:"string"===i?(n=tH(t))?(t=n,wH):TH:t instanceof tH?wH:t instanceof Date?EH:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?_H:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?kH:SH:xH))(e,t)}function NH(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function IH(e){return+e}var jH=[0,1];function PH(e){return e}function DH(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function MH(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=DH(i,r),a=n(o,a)):(r=DH(r,i),a=n(a,o)),function(e){return a(r(e))}}function RH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=DH(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=pK(e,t,1,r)-1;return a[n](i[n](t))}}function LH(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function FH(){var e,t,n,r,i,a,o=jH,s=jH,l=AH,c=PH;function u(){var e=Math.min(o.length,s.length);return c!==PH&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?RH:MH,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),SH)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,IH),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=NH,u()},d.clamp=function(e){return arguments.length?(c=!!e||PH,u()):c!==PH},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function zH(){return FH()(PH,PH)}function UH(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function VH(e){return(e=UH(Math.abs(e)))?e[1]:NaN}var $H,BH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qH(e){if(!(t=BH.exec(e)))throw new Error("invalid format: "+e);var t;return new WH({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function WH(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function KH(e,t){var n=UH(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qH.prototype=WH.prototype,WH.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const HH={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KH(100*e,t),r:KH,s:function(e,t){var n=UH(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-($H=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+UH(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GH(e){return e}var YH,QH,ZH,XH=Array.prototype.map,JH=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eG(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?GH:(t=XH.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?GH:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(XH.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=qH(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):HH[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?a:/[%p]/.test(v)?l:"",x=HH[v],_=/[defgprs%]/.test(v);function E(e){var i,a,l,h=b,E=w;if("c"===v)E=x(e)+E,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,E=("s"===v?JH[8+$H/3]:"")+E+(S&&"("===d?")":""),_)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){E=(46===l?o+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=h.length+e.length+E.length,C=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(C+e,C.length?p-E.length:1/0),C=""),n){case"<":e=h+e+E+C;break;case"=":e=h+C+e+E;break;case"^":e=C.slice(0,k=C.length>>1)+h+e+E+C.slice(k);break;default:e=C+h+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:d,formatPrefix:function(e,t){var n=d(((e=qH(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(VH(t)/3))),i=Math.pow(10,-r),a=JH[8+r/3];return function(e){return n(i*e)+a}}}}function tG(e,t,n,r){var i,a=kK(e,t,n);switch((r=qH(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(VH(t)/3)))-VH(Math.abs(e)))}(a,o))||(r.precision=i),ZH(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,VH(t)-VH(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-VH(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return QH(r)}function nG(e){var t=e.domain;return e.ticks=function(e){var n=t();return EK(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return tG(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=SK(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function rG(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function iG(e){return Math.log(e)}function aG(e){return Math.exp(e)}function oG(e){return-Math.log(-e)}function sG(e){return-Math.exp(-e)}function lG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cG(e){return(t,n)=>-e(-t,n)}function uG(e){const t=e(iG,aG),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?lG:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=cG(r),i=cG(i),e(oG,sG)):e(iG,aG),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=EK(o,s,f))}else p=EK(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!=typeof n&&(a%1||null!=(n=qH(n)).precision||(n.trim=!0),n=QH(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(rG(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function dG(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hG(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fG(e){var t=1,n=e(dG(t),hG(t));return n.constant=function(n){return arguments.length?e(dG(t=+n),hG(t)):t},nG(n)}function pG(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gG(e){return e<0?-e*e:e*e}function yG(e){var t=e(PH,PH),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(PH,PH):.5===n?e(mG,gG):e(pG(n),pG(1/n)):n},nG(t)}function vG(){var e=yG(FH());return e.copy=function(){return LH(e,vG()).exponent(e.exponent())},IK.apply(e,arguments),e}function bG(e){return Math.sign(e)*e*e}YH=eG({thousands:",",grouping:[3],currency:["$",""]}),QH=YH.format,ZH=YH.formatPrefix;const wG=new Date,xG=new Date;function _G(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>_G(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(wG.setTime(+t),xG.setTime(+r),e(wG),e(xG),Math.floor(n(wG,xG))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const EG=_G(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);EG.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?_G(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):EG:null),EG.range;const SG=1e3,kG=6e4,CG=36e5,OG=864e5,TG=6048e5,AG=2592e6,NG=31536e6,IG=_G(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*SG)},(e,t)=>(t-e)/SG,e=>e.getUTCSeconds());IG.range;const jG=_G(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*SG)},(e,t)=>{e.setTime(+e+t*kG)},(e,t)=>(t-e)/kG,e=>e.getMinutes());jG.range;const PG=_G(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kG)},(e,t)=>(t-e)/kG,e=>e.getUTCMinutes());PG.range;const DG=_G(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*SG-e.getMinutes()*kG)},(e,t)=>{e.setTime(+e+t*CG)},(e,t)=>(t-e)/CG,e=>e.getHours());DG.range;const MG=_G(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*CG)},(e,t)=>(t-e)/CG,e=>e.getUTCHours());MG.range;const RG=_G(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kG)/OG,e=>e.getDate()-1);RG.range;const LG=_G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OG,e=>e.getUTCDate()-1);LG.range;const FG=_G(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/OG,e=>Math.floor(e/OG));function zG(e){return _G(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kG)/TG)}FG.range;const UG=zG(0),VG=zG(1),$G=zG(2),BG=zG(3),qG=zG(4),WG=zG(5),KG=zG(6);function HG(e){return _G(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/TG)}UG.range,VG.range,$G.range,BG.range,qG.range,WG.range,KG.range;const GG=HG(0),YG=HG(1),QG=HG(2),ZG=HG(3),XG=HG(4),JG=HG(5),eY=HG(6);GG.range,YG.range,QG.range,ZG.range,XG.range,JG.range,eY.range;const tY=_G(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());tY.range;const nY=_G(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());nY.range;const rY=_G(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());rY.every=e=>isFinite(e=Math.floor(e))&&e>0?_G(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,rY.range;const iY=_G(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function aY(e,t,n,r,i,a){const o=[[IG,1,SG],[IG,5,5e3],[IG,15,15e3],[IG,30,3e4],[a,1,kG],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,CG],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,OG],[r,2,1728e5],[n,1,TG],[t,1,AG],[t,3,7776e6],[e,1,NG]];function s(t,n,r){const i=Math.abs(n-t)/r,a=dK(([,,e])=>e).right(o,i);if(a===o.length)return e.every(kK(t/NG,n/NG,r));if(0===a)return EG.every(Math.max(kK(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}iY.every=e=>isFinite(e=Math.floor(e))&&e>0?_G(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,iY.range;const[oY,sY]=aY(iY,nY,GG,FG,MG,PG),[lY,cY]=aY(rY,tY,UG,RG,DG,jG);function uY(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dY(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hY(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fY,pY,mY,gY={"-":"",_:" ",0:"0"},yY=/^\s*\d+/,vY=/^%/,bY=/[\\^$*+?|[\]().{}]/g;function wY(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function xY(e){return e.replace(bY,"\\$&")}function _Y(e){return new RegExp("^(?:"+e.map(xY).join("|")+")","i")}function EY(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function SY(e,t,n){var r=yY.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kY(e,t,n){var r=yY.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function OY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function TY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function AY(e,t,n){var r=yY.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function NY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function IY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jY(e,t,n){var r=yY.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function PY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function MY(e,t,n){var r=yY.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function RY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function LY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function FY(e,t,n){var r=yY.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function zY(e,t,n){var r=yY.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function UY(e,t,n){var r=yY.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VY(e,t,n){var r=vY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $Y(e,t,n){var r=yY.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function BY(e,t,n){var r=yY.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function qY(e,t){return wY(e.getDate(),t,2)}function WY(e,t){return wY(e.getHours(),t,2)}function KY(e,t){return wY(e.getHours()%12||12,t,2)}function HY(e,t){return wY(1+RG.count(rY(e),e),t,3)}function GY(e,t){return wY(e.getMilliseconds(),t,3)}function YY(e,t){return GY(e,t)+"000"}function QY(e,t){return wY(e.getMonth()+1,t,2)}function ZY(e,t){return wY(e.getMinutes(),t,2)}function XY(e,t){return wY(e.getSeconds(),t,2)}function JY(e){var t=e.getDay();return 0===t?7:t}function eQ(e,t){return wY(UG.count(rY(e)-1,e),t,2)}function tQ(e){var t=e.getDay();return t>=4||0===t?qG(e):qG.ceil(e)}function nQ(e,t){return e=tQ(e),wY(qG.count(rY(e),e)+(4===rY(e).getDay()),t,2)}function rQ(e){return e.getDay()}function iQ(e,t){return wY(VG.count(rY(e)-1,e),t,2)}function aQ(e,t){return wY(e.getFullYear()%100,t,2)}function oQ(e,t){return wY((e=tQ(e)).getFullYear()%100,t,2)}function sQ(e,t){return wY(e.getFullYear()%1e4,t,4)}function lQ(e,t){var n=e.getDay();return wY((e=n>=4||0===n?qG(e):qG.ceil(e)).getFullYear()%1e4,t,4)}function cQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wY(t/60|0,"0",2)+wY(t%60,"0",2)}function uQ(e,t){return wY(e.getUTCDate(),t,2)}function dQ(e,t){return wY(e.getUTCHours(),t,2)}function hQ(e,t){return wY(e.getUTCHours()%12||12,t,2)}function fQ(e,t){return wY(1+LG.count(iY(e),e),t,3)}function pQ(e,t){return wY(e.getUTCMilliseconds(),t,3)}function mQ(e,t){return pQ(e,t)+"000"}function gQ(e,t){return wY(e.getUTCMonth()+1,t,2)}function yQ(e,t){return wY(e.getUTCMinutes(),t,2)}function vQ(e,t){return wY(e.getUTCSeconds(),t,2)}function bQ(e){var t=e.getUTCDay();return 0===t?7:t}function wQ(e,t){return wY(GG.count(iY(e)-1,e),t,2)}function xQ(e){var t=e.getUTCDay();return t>=4||0===t?XG(e):XG.ceil(e)}function _Q(e,t){return e=xQ(e),wY(XG.count(iY(e),e)+(4===iY(e).getUTCDay()),t,2)}function EQ(e){return e.getUTCDay()}function SQ(e,t){return wY(YG.count(iY(e)-1,e),t,2)}function kQ(e,t){return wY(e.getUTCFullYear()%100,t,2)}function CQ(e,t){return wY((e=xQ(e)).getUTCFullYear()%100,t,2)}function OQ(e,t){return wY(e.getUTCFullYear()%1e4,t,4)}function TQ(e,t){var n=e.getUTCDay();return wY((e=n>=4||0===n?XG(e):XG.ceil(e)).getUTCFullYear()%1e4,t,4)}function AQ(){return"+0000"}function NQ(){return"%"}function IQ(e){return+e}function jQ(e){return Math.floor(+e/1e3)}function PQ(e){return new Date(e)}function DQ(e){return e instanceof Date?+e:+new Date(+e)}function MQ(e,t,n,r,i,a,o,s,l,c){var u=zH(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,DQ)):h().map(PQ)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(rG(n,e)):u},u.copy=function(){return LH(u,MQ(e,t,n,r,i,a,o,s,l,c))},u}function RQ(){var e,t,n,r,i,a=0,o=1,s=PH,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(AH),c.rangeRound=u(NH),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function LQ(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FQ(){var e=yG(RQ());return e.copy=function(){return LQ(e,FQ()).exponent(e.exponent())},jK.apply(e,arguments)}function zQ(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=PH,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=AH);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(AH),f.rangeRound=p(NH),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function UQ(){var e=yG(zQ());return e.copy=function(){return LQ(e,UQ()).exponent(e.exponent())},jK.apply(e,arguments)}!function(e){fY=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=_Y(i),u=EY(i),d=_Y(a),h=EY(a),f=_Y(o),p=EY(o),m=_Y(s),g=EY(s),y=_Y(l),v=EY(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:qY,e:qY,f:YY,g:oQ,G:lQ,H:WY,I:KY,j:HY,L:GY,m:QY,M:ZY,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:IQ,s:jQ,S:XY,u:JY,U:eQ,V:nQ,w:rQ,W:iQ,x:null,X:null,y:aQ,Y:sQ,Z:cQ,"%":NQ},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:uQ,e:uQ,f:mQ,g:CQ,G:TQ,H:dQ,I:hQ,j:fQ,L:pQ,m:gQ,M:yQ,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:IQ,s:jQ,S:vQ,u:bQ,U:wQ,V:_Q,w:EQ,W:SQ,x:null,X:null,y:kQ,Y:OQ,Z:AQ,"%":NQ},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:DY,e:DY,f:UY,g:NY,G:AY,H:RY,I:RY,j:MY,L:zY,m:PY,M:LY,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:jY,Q:$Y,s:BY,S:FY,u:kY,U:CY,V:OY,w:SY,W:TY,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:NY,Y:AY,Z:IY,"%":VY};function _(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=gY[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function E(e,t){return function(n){var r,i,a=hY(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=dY(hY(a.y,0,1))).getUTCDay(),r=i>4||0===i?YG.ceil(r):YG(r),r=LG.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=uY(hY(a.y,0,1))).getDay(),r=i>4||0===i?VG.ceil(r):VG(r),r=RG.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?dY(hY(a.y,0,1)).getUTCDay():uY(hY(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,dY(a)):uY(a)}}function S(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=x[i in gY?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),pY=fY.format,fY.parse,mY=fY.utcFormat,fY.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const VQ=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MK,scaleDiverging:function e(){var t=nG(zQ()(PH));return t.copy=function(){return LQ(t,e())},jK.apply(t,arguments)},scaleDivergingLog:function e(){var t=uG(zQ()).domain([.1,1,10]);return t.copy=function(){return LQ(t,e()).base(t.base())},jK.apply(t,arguments)},scaleDivergingPow:UQ,scaleDivergingSqrt:function(){return UQ.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=fG(zQ());return t.copy=function(){return LQ(t,e()).constant(t.constant())},jK.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,IH),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,IH):[0,1],nG(r)},scaleImplicit:PK,scaleLinear:function e(){var t=zH();return t.copy=function(){return LH(t,e())},IK.apply(t,arguments),nG(t)},scaleLog:function e(){const t=uG(FH()).domain([1,10]);return t.copy=()=>LH(t,e()).base(t.base()),IK.apply(t,arguments),t},scaleOrdinal:DK,scalePoint:function(){return RK(MK.apply(null,arguments).paddingInner(1))},scalePow:vG,scaleQuantile:function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=NK(n,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:r[pK(i,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(cK),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},IK.apply(o,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,a=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[pK(a,e,0,i)]:t}function l(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return e().domain([n,r]).range(o).unknown(t)},IK.apply(nG(s),arguments)},scaleRadial:function e(){var t,n=zH(),r=[0,1],i=!1;function a(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return a.invert=function(e){return n.invert(bG(e))},a.domain=function(e){return arguments.length?(n.domain(e),a):n.domain()},a.range=function(e){return arguments.length?(n.range((r=Array.from(e,IH)).map(bG)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(i=!!e,a):i},a.clamp=function(e){return arguments.length?(n.clamp(e),a):n.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},IK.apply(a,arguments),nG(a)},scaleSequential:function e(){var t=nG(RQ()(PH));return t.copy=function(){return LQ(t,e())},jK.apply(t,arguments)},scaleSequentialLog:function e(){var t=uG(RQ()).domain([1,10]);return t.copy=function(){return LQ(t,e()).base(t.base())},jK.apply(t,arguments)},scaleSequentialPow:FQ,scaleSequentialQuantile:function e(){var t=[],n=PH;function r(e){if(null!=e&&!isNaN(e=+e))return n((pK(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(cK),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return OK(e);if(t>=1)return CK(e);var n,r=(n-1)*t,i=Math.floor(r),a=CK(TK(e,i).subarray(0,i+1));return a+(OK(e.subarray(i+1))-a)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},jK.apply(r,arguments)},scaleSequentialSqrt:function(){return FQ.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=fG(RQ());return t.copy=function(){return LQ(t,e()).constant(t.constant())},jK.apply(t,arguments)},scaleSqrt:function(){return vG.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=fG(FH());return t.copy=function(){return LH(t,e()).constant(t.constant())},IK.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return null!=e&&e<=e?r[pK(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},IK.apply(a,arguments)},scaleTime:function(){return IK.apply(MQ(lY,cY,rY,tY,UG,RG,DG,jG,IG,pY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return IK.apply(MQ(oY,sY,iY,nY,GG,LG,MG,PG,IG,mY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:tG},Symbol.toStringTag,{value:"Module"}));var $Q=e=>e.chartData,BQ=gV([$Q],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qQ=(e,t,n,r)=>r?BQ(e):$Q(e);function WQ(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Qq(t)&&Qq(n))return!0}return!1}function KQ(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var HQ,GQ=1e9,YQ=!0,QQ="[DecimalError] ",ZQ=QQ+"Invalid argument: ",XQ=QQ+"Exponent out of range: ",JQ=Math.floor,eZ=Math.pow,tZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nZ=1e7,rZ=9007199254740991,iZ=JQ(1286742750677284.5),aZ={};function oZ(e,t){var n,r,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),YQ?gZ(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),a>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((s=l.length)-(a=c.length)<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/nZ|0,l[a]%=nZ;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,YQ?gZ(t,d):t}function sZ(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ZQ+e)}function lZ(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=fZ(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=fZ(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}aZ.absoluteValue=aZ.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},aZ.comparedTo=aZ.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},aZ.decimalPlaces=aZ.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},aZ.dividedBy=aZ.div=function(e){return cZ(this,new this.constructor(e))},aZ.dividedToIntegerBy=aZ.idiv=function(e){var t=this.constructor;return gZ(cZ(this,new t(e),0,1),t.precision)},aZ.equals=aZ.eq=function(e){return!this.cmp(e)},aZ.exponent=function(){return dZ(this)},aZ.greaterThan=aZ.gt=function(e){return this.cmp(e)>0},aZ.greaterThanOrEqualTo=aZ.gte=function(e){return this.cmp(e)>=0},aZ.isInteger=aZ.isint=function(){return this.e>this.d.length-2},aZ.isNegative=aZ.isneg=function(){return this.s<0},aZ.isPositive=aZ.ispos=function(){return this.s>0},aZ.isZero=function(){return 0===this.s},aZ.lessThan=aZ.lt=function(e){return this.cmp(e)<0},aZ.lessThanOrEqualTo=aZ.lte=function(e){return this.cmp(e)<1},aZ.logarithm=aZ.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(HQ))throw Error(QQ+"NaN");if(n.s<1)throw Error(QQ+(n.s?"NaN":"-Infinity"));return n.eq(HQ)?new r(0):(YQ=!1,t=cZ(pZ(n,a),pZ(e,a),a),YQ=!0,gZ(t,i))},aZ.minus=aZ.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yZ(t,e):oZ(t,(e.s=-e.s,e))},aZ.modulo=aZ.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(QQ+"NaN");return n.s?(YQ=!1,t=cZ(n,e,0,1).times(e),YQ=!0,n.minus(t)):gZ(new r(n),i)},aZ.naturalExponential=aZ.exp=function(){return uZ(this)},aZ.naturalLogarithm=aZ.ln=function(){return pZ(this)},aZ.negated=aZ.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},aZ.plus=aZ.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oZ(t,e):yZ(t,(e.s=-e.s,e))},aZ.precision=aZ.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(ZQ+e);if(t=dZ(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},aZ.squareRoot=aZ.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(QQ+"NaN")}for(e=dZ(s),YQ=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=lZ(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=JQ((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=o=(n=l.precision)+3;;)if(r=(a=r).plus(cZ(s,a,o+2)).times(.5),lZ(a.d).slice(0,o)===(t=lZ(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(gZ(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if("9999"!=t)break;o+=4}return YQ=!0,gZ(r,n)},aZ.times=aZ.mul=function(e){var t,n,r,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,o=l,l=c,c=o),a=[],r=o=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+f[r]*h[i-r-1]+t,a[i--]=s%nZ|0,t=s/nZ|0;a[i]=(a[i]+t)%nZ|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,YQ?gZ(e,d.precision):e},aZ.toDecimalPlaces=aZ.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(sZ(e,0,GQ),void 0===t?t=r.rounding:sZ(t,0,8),gZ(n,e+dZ(n)+1,t))},aZ.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=vZ(r,!0):(sZ(e,0,GQ),void 0===t?t=i.rounding:sZ(t,0,8),n=vZ(r=gZ(new i(r),e+1,t),!0,e+1)),n},aZ.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?vZ(i):(sZ(e,0,GQ),void 0===t?t=a.rounding:sZ(t,0,8),n=vZ((r=gZ(new a(i),e+dZ(i)+1,t)).abs(),!1,e+dZ(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},aZ.toInteger=aZ.toint=function(){var e=this,t=e.constructor;return gZ(new t(e),dZ(e)+1,t.rounding)},aZ.toNumber=function(){return+this},aZ.toPower=aZ.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(HQ);if(!(s=new l(s)).s){if(e.s<1)throw Error(QQ+"Infinity");return s}if(s.eq(HQ))return s;if(r=l.precision,e.eq(HQ))return gZ(s,r);if(o=(t=e.e)>=(n=e.d.length-1),a=s.s,o){if((n=c<0?-c:c)<=rZ){for(i=new l(HQ),t=Math.ceil(r/7+4),YQ=!1;n%2&&bZ((i=i.times(s)).d,t),0!==(n=JQ(n/2));)bZ((s=s.times(s)).d,t);return YQ=!0,e.s<0?new l(HQ).div(i):gZ(i,r)}}else if(a<0)throw Error(QQ+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,YQ=!1,i=e.times(pZ(s,r+12)),YQ=!0,(i=uZ(i)).s=a,i},aZ.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=vZ(i,(n=dZ(i))<=a.toExpNeg||n>=a.toExpPos):(sZ(e,1,GQ),void 0===t?t=a.rounding:sZ(t,0,8),r=vZ(i=gZ(new a(i),e,t),e<=(n=dZ(i))||n<=a.toExpNeg,e)),r},aZ.toSignificantDigits=aZ.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(sZ(e,1,GQ),void 0===t?t=n.rounding:sZ(t,0,8)),gZ(new n(this),e,t)},aZ.toString=aZ.valueOf=aZ.val=aZ.toJSON=aZ[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dZ(e),n=e.constructor;return vZ(e,t<=n.toExpNeg||t>=n.toExpPos)};var cZ=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%nZ|0,r=n/nZ|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*nZ+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,l,c,u,d,h,f,p,m,g,y,v,b,w,x,_,E,S,k=r.constructor,C=r.s==i.s?1:-1,O=r.d,T=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(QQ+"Division by zero");for(l=r.e-i.e,E=T.length,x=O.length,p=(f=new k(C)).d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,(v=null==a?a=k.precision:o?a+(dZ(r)-dZ(i))+1:a)<0)return new k(0);if(v=v/7+2|0,c=0,1==E)for(u=0,T=T[0],v++;(c<x||u)&&v--;c++)b=u*nZ+(O[c]||0),p[c]=b/T|0,u=b%T|0;else{for((u=nZ/(T[0]+1)|0)>1&&(T=e(T,u),O=e(O,u),E=T.length,x=O.length),w=E,g=(m=O.slice(0,E)).length;g<E;)m[g++]=0;(S=T.slice()).unshift(0),_=T[0],T[1]>=nZ/2&&++_;do{u=0,(s=t(T,m,E,g))<0?(y=m[0],E!=g&&(y=y*nZ+(m[1]||0)),(u=y/_|0)>1?(u>=nZ&&(u=nZ-1),1==(s=t(d=e(T,u),m,h=d.length,g=m.length))&&(u--,n(d,E<h?S:T,h))):(0==u&&(s=u=1),d=T.slice()),(h=d.length)<g&&d.unshift(0),n(m,d,g),-1==s&&(s=t(T,m,E,g=m.length))<1&&(u++,n(m,E<g?S:T,g)),g=m.length):0===s&&(u++,m=[0]),p[c++]=u,s&&m[0]?m[g++]=O[w]||0:(m=[O[w]],g=1)}while((w++<x||void 0!==m[0])&&v--)}return p[0]||p.shift(),f.e=l,gZ(f,o?a+dZ(f)+1:a)}}();function uZ(e,t){var n,r,i,a,o,s=0,l=0,c=e.constructor,u=c.precision;if(dZ(e)>16)throw Error(XQ+dZ(e));if(!e.s)return new c(HQ);for(YQ=!1,o=u,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(o+=Math.log(eZ(2,l))/Math.LN10*2+5|0,n=r=i=new c(HQ),c.precision=o;;){if(r=gZ(r.times(e),o),n=n.times(++s),lZ((a=i.plus(cZ(r,n,o))).d).slice(0,o)===lZ(i.d).slice(0,o)){for(;l--;)i=gZ(i.times(i),o);return c.precision=u,null==t?(YQ=!0,gZ(i,u)):i}i=a}}function dZ(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function hZ(e,t,n){if(t>e.LN10.sd())throw YQ=!0,n&&(e.precision=n),Error(QQ+"LN10 precision limit exceeded");return gZ(new e(e.LN10),t)}function fZ(e){for(var t="";e--;)t+="0";return t}function pZ(e,t){var n,r,i,a,o,s,l,c,u,d=1,h=e,f=h.d,p=h.constructor,m=p.precision;if(h.s<1)throw Error(QQ+(h.s?"NaN":"-Infinity"));if(h.eq(HQ))return new p(0);if(null==t?(YQ=!1,c=m):c=t,h.eq(10))return null==t&&(YQ=!0),hZ(p,c);if(c+=10,p.precision=c,r=(n=lZ(f)).charAt(0),a=dZ(h),!(Math.abs(a)<15e14))return l=hZ(p,c+2,m).times(a+""),h=pZ(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=m,null==t?(YQ=!0,gZ(h,m)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=lZ((h=h.times(e)).d)).charAt(0),d++;for(a=dZ(h),r>1?(h=new p("0."+n),a++):h=new p(r+"."+n.slice(1)),s=o=h=cZ(h.minus(HQ),h.plus(HQ),c),u=gZ(h.times(h),c),i=3;;){if(o=gZ(o.times(u),c),lZ((l=s.plus(cZ(o,new p(i),c))).d).slice(0,c)===lZ(s.d).slice(0,c))return s=s.times(2),0!==a&&(s=s.plus(hZ(p,c+2,m).times(a+""))),s=cZ(s,new p(d),c),p.precision=m,null==t?(YQ=!0,gZ(s,m)):s;s=l,i+=2}}function mZ(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=JQ(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),YQ&&(e.e>iZ||e.e<-iZ))throw Error(XQ+n)}else e.s=0,e.e=0,e.d=[0];return e}function gZ(e,t,n){var r,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(a=d.length))return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(s=c/(a=eZ(10,o-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/eZ(10,o-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=dZ(e),d.length=1,t=t-a-1,d[0]=eZ(10,(7-t%7)%7),e.e=JQ(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,a=1,u--):(d.length=u+1,a=eZ(10,7-r),d[u]=i>0?(c/eZ(10,o-i)%eZ(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==nZ&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=nZ)break;d[u--]=0,a=1}for(r=d.length;0===d[--r];)d.pop();if(YQ&&(e.e>iZ||e.e<-iZ))throw Error(XQ+dZ(e));return e}function yZ(e,t){var n,r,i,a,o,s,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),YQ?gZ(t,f):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r){for((u=o<0)?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),o>(i=Math.max(Math.ceil(f/7),s)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=nZ-1;--l[a],l[i]+=nZ}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,YQ?gZ(t,f):t):new h(0)}function vZ(e,t,n){var r,i=dZ(e),a=lZ(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+fZ(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fZ(-i-1)+a,n&&(r=n-o)>0&&(a+=fZ(r))):i>=o?(a+=fZ(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+fZ(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=fZ(r))),e.s<0?"-"+a:a}function bZ(e,t){if(e.length>t)return e.length=t,!0}function wZ(e){if(!e||"object"!=typeof e)throw Error(QQ+"Object expected");var t,n,r,i=["precision",1,GQ,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(JQ(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(ZQ+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(ZQ+n+": "+r);this[n]=new this(r)}return this}var xZ=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(ZQ+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):mZ(t,e.toString())}if("string"!=typeof e)throw Error(ZQ+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!tZ.test(e))throw Error(ZQ+e);mZ(t,e)}if(a.prototype=aZ,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=wZ,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});HQ=new xZ(1);const _Z=xZ;var EZ=e=>e,SZ={},kZ=e=>e===SZ,CZ=e=>function t(){return 0===arguments.length||1===arguments.length&&kZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OZ=(e,t)=>1===e?t:CZ(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(e=>e!==SZ).length;return a>=e?t(...r):OZ(e-a,CZ(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=r.map(e=>kZ(e)?n.shift():e);return t(...a,...n)}))}),TZ=e=>OZ(e.length,e),AZ=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},NZ=TZ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),IZ=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),jZ=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function PZ(e){return 0===e?1:Math.floor(new _Z(e).abs().log(10).toNumber())+1}function DZ(e,t,n){for(var r=new _Z(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}TZ((e,t,n)=>{var r=+e;return r+n*(+t-r)}),TZ((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),TZ((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var MZ=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},RZ=(e,t,n)=>{if(e.lte(0))return new _Z(0);var r=PZ(e.toNumber()),i=new _Z(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new _Z(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return new _Z(t?s.toNumber():Math.ceil(s.toNumber()))},LZ=(e,t,n)=>{var r=new _Z(1),i=new _Z(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new _Z(10).pow(PZ(e)-1),i=new _Z(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new _Z(Math.floor(e)))}else 0===e?i=new _Z(Math.floor((t-1)/2)):n||(i=new _Z(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return EZ;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(NZ(e=>i.add(new _Z(e-o).mul(r)).toNumber()),AZ)(0,t)},FZ=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new _Z(0),tickMin:new _Z(0),tickMax:new _Z(0)};var a,o=RZ(new _Z(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new _Z(0):(a=new _Z(e).add(t).div(2)).sub(new _Z(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new _Z(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?FZ(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new _Z(s).mul(o)),tickMax:a.add(new _Z(l).mul(o))})};var zZ=jZ(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(r,2),[o,s]=MZ([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...AZ(0,r-1).map(()=>1/0)]:[...AZ(0,r-1).map(()=>-1/0),s];return t>n?IZ(l):l}if(o===s)return LZ(o,r,i);var{step:c,tickMin:u,tickMax:d}=FZ(o,s,a,i,0),h=DZ(u,d.add(new _Z(.1).mul(c)),c);return t>n?IZ(h):h}),UZ=jZ(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=MZ([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=RZ(new _Z(o).sub(a).div(s-1),i,0),c=[...DZ(new _Z(a),new _Z(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?IZ(c):c}),VZ=e=>e.rootProps.maxBarSize,$Z=e=>e.rootProps.barCategoryGap,BZ=e=>e.rootProps.stackOffset,qZ=e=>e.options.chartName,WZ=e=>e.rootProps.syncId,KZ=e=>e.rootProps.syncMethod,HZ=e=>e.options.eventEmitter,GZ=0,YZ="auto",QZ=!0,ZZ=!1,XZ=!0,JZ=0,eX="auto",tX=!0,nX=5,rX=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},iX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:GZ,includeHidden:!1,name:void 0,reversed:!1,scale:YZ,tick:QZ,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},aX={allowDataOverflow:ZZ,allowDecimals:!1,allowDuplicatedCategory:XZ,dataKey:void 0,domain:void 0,id:JZ,includeHidden:!1,name:void 0,reversed:!1,scale:eX,tick:tX,tickCount:nX,ticks:void 0,type:"number",unit:void 0},oX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:GZ,includeHidden:!1,name:void 0,reversed:!1,scale:YZ,tick:QZ,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sX={allowDataOverflow:ZZ,allowDecimals:!1,allowDuplicatedCategory:XZ,dataKey:void 0,domain:void 0,id:JZ,includeHidden:!1,name:void 0,reversed:!1,scale:eX,tick:tX,tickCount:nX,ticks:void 0,type:"category",unit:void 0},lX=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?oX:iX,cX=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?sX:aX,uX=e=>e.polarOptions,dX=gV([iq,aq,fq],function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2}),hX=gV([uX,dX],(e,t)=>{if(null!=e)return yF(e.innerRadius,t,0)}),fX=gV([uX,dX],(e,t)=>{if(null!=e)return yF(e.outerRadius,t,.8*t)}),pX=gV([uX],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});gV([lX,pX],rX);var mX=gV([dX,hX,fX],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});gV([cX,mX],rX);var gX=gV([kq,uX,hX,fX,iq,aq],(e,t,n,r,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:yF(o,i,i/2),cy:yF(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),yX=(e,t)=>t,vX=(e,t,n)=>n;function bX(e){return null==e?void 0:e.id}var wX=e=>{var t=kq(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},xX=e=>e.tooltip.settings.axisId,_X=e=>{var t=wX(e),n=xX(e);return zX(e,t,n)},EX=gV([_X],e=>null==e?void 0:e.dataKey);function SX(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=bX(e);n.forEach((t,n)=>{var r,l=null==a||i?n:String(BB(t,a,null)),c=BB(t,e.dataKey,0);r=o.has(l)?o.get(l):{},Object.assign(r,{[s]:c}),o.set(l,r)})}}),Array.from(o.values())}function kX(e){return null!=e.stackId&&null!=e.dataKey}function CX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CX(Object(n),!0).forEach(function(t){TX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AX=[0,"auto"],NX={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IX=(e,t)=>e.cartesianAxis.xAxis[t],jX=(e,t)=>{var n=IX(e,t);return null==n?NX:n},PX={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:AX,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},DX=(e,t)=>e.cartesianAxis.yAxis[t],MX=(e,t)=>{var n=DX(e,t);return null==n?PX:n},RX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},LX=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?RX:n},FX=(e,t,n)=>{switch(t){case"xAxis":return jX(e,n);case"yAxis":return MX(e,n);case"zAxis":return LX(e,n);case"angleAxis":return lX(e,n);case"radiusAxis":return cX(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zX=(e,t,n)=>{switch(t){case"xAxis":return jX(e,n);case"yAxis":return MX(e,n);case"angleAxis":return lX(e,n);case"radiusAxis":return cX(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},UX=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function VX(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var $X=e=>e.graphicalItems.cartesianItems,BX=gV([yX,vX],VX),qX=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),WX=gV([$X,FX,BX],qX),KX=gV([WX],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(kX)),HX=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),GX=gV([WX],HX),YX=e=>e.map(e=>e.data).filter(Boolean).flat(1),QX=gV([WX],YX),ZX=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},XX=gV([QX,qQ],ZX),JX=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:BB(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:BB(e,t)}))):e.map(e=>({value:e})),eJ=gV([XX,FX,WX],JX);function tJ(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function nJ(e){return e.filter(e=>pF(e)||e instanceof Date).map(Number).filter(e=>!1===dF(e))}function rJ(e,t,n){return!n||"number"!=typeof t||dF(t)?[]:n.length?nJ(n.flatMap(n=>{var r,i,a=BB(e,n.dataKey);if(Array.isArray(a)?[r,i]=a:r=i=a,Qq(r)&&Qq(i))return[t-r,t+i]})):[]}var iJ=gV([KX,qQ,_X],SX),aJ=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,a=i.map(bX);return[r,{stackedData:YB(e,a,n),graphicalItems:i}]}))},oJ=gV([iJ,KX,BZ],aJ),sJ=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var a=XB(e,r,i);if(null==a||0!==a[0]||0!==a[1])return a}},lJ=gV([oJ,$Q,yX],sJ),cJ=(e,t,n,r,i)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var a,o,s=null===(a=r[n.id])||void 0===a?void 0:a.filter(e=>tJ(i,e)),l=BB(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:l,errorDomain:rJ(e,l,s)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:BB(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),uJ=e=>e.errorBars,dJ=(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>tJ(n,e));gV([GX,uJ,yX],dJ);var hJ=gV([XX,FX,GX,uJ,yX],cJ);function fJ(e){var{value:t}=e;if(pF(t)||t instanceof Date)return t}var pJ=e=>{var t=nJ(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]},mJ=e=>{var t;if(null==e||!("domain"in e))return AX;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=nJ(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:AX},gJ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},yJ=e=>e.referenceElements.dots,vJ=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),bJ=gV([yJ,yX,vX],vJ),wJ=e=>e.referenceElements.areas,xJ=gV([wJ,yX,vX],vJ),_J=e=>e.referenceElements.lines,EJ=gV([_J,yX,vX],vJ),SJ=(e,t)=>{var n=nJ(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},kJ=gV(bJ,yX,SJ),CJ=(e,t)=>{var n=nJ(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},OJ=gV([xJ,yX],CJ),TJ=(e,t)=>{var n=nJ(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},AJ=gV(EJ,yX,TJ),NJ=gV(kJ,AJ,OJ,(e,t,n)=>gJ(e,n,t)),IJ=gV([FX],mJ),jJ=(e,t,n,r,i,a,o)=>{var s=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,a]=e;if(Qq(i))n=i;else if("function"==typeof i)return;if(Qq(a))r=a;else if("function"==typeof a)return;var o=[n,r];if(WQ(o))return o}}(t,e.allowDataOverflow);return null!=s?s:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(WQ(r))return KQ(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(fF(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof o&&JB.test(o)){var l=JB.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(fF(s))a=s;else if("function"==typeof s)try{null!=t&&(a=s(null==t?void 0:t[1]))}catch(m){}else if("string"==typeof s&&eq.test(s)){var u=eq.exec(s);if(null==u||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(WQ(h))return null==t?h:KQ(h,t,n)}}}(t,"vertical"===a&&"xAxis"===o||"horizontal"===a&&"yAxis"===o?gJ(n,i,pJ(r)):gJ(i,pJ(r)),e.allowDataOverflow)},PJ=gV([FX,IJ,lJ,hJ,NJ,kq,yX],jJ),DJ=[0,1],MJ=(e,t,n,r,i,a,o)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==o){var{dataKey:s,type:l}=e,c=qB(t,a);return c&&null==s?lK(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(fJ).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&vF(r))?lK(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?DJ:o}},RJ=gV([FX,kq,XX,eJ,BZ,yX,PJ],MJ),LJ=(e,t,n,r,i)=>{if(null!=e){var{scale:a,type:o}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===o&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"==typeof a){var s="scale".concat(_F(a));return s in VQ?s:"point"}}},FJ=gV([FX,kq,UX,qZ,yX],LJ);function zJ(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in VQ)return VQ[e]();var t="scale".concat(_F(e));return t in VQ?VQ[t]():void 0}}(t);if(null!=i){var a=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-HB,a=Math.max(r[0],r[1])+HB,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}})(a),a}}}var UJ=(e,t,n)=>{var r=mJ(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&WQ(e)?zZ(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&WQ(e)?UZ(e,t.tickCount,t.allowDecimals):void 0},VJ=gV([RJ,zX,FJ],UJ),$J=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&WQ(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},BJ=gV([FX,RJ,VJ,yX],$J),qJ=gV(eJ,FX,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(nJ(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),WJ=gV(qJ,kq,$Z,fq,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Qq(e))return 0;var a="vertical"===t?r.height:r.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=yF(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),KJ=gV(jX,(e,t)=>{var n=jX(e,t);return null==n||"string"!=typeof n.padding?0:WJ(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),HJ=gV(MX,(e,t)=>{var n=MX(e,t);return null==n||"string"!=typeof n.padding?0:WJ(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),GJ=gV([fq,KJ,bq,vq,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),YJ=gV([fq,kq,HJ,bq,vq,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),QJ=(e,t,n,r)=>{var i;switch(t){case"xAxis":return GJ(e,n,r);case"yAxis":return YJ(e,n,r);case"zAxis":return null===(i=LX(e,n))||void 0===i?void 0:i.range;case"angleAxis":return pX(e);case"radiusAxis":return mX(e,n);default:return}},ZJ=gV([FX,QJ],rX),XJ=gV([FX,FJ,BJ,ZJ],zJ);function JJ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}gV([WX,uJ,yX],dJ);var e0=(e,t)=>t,t0=(e,t,n)=>n,n0=gV(lq,e0,t0,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(JJ)),r0=gV(cq,e0,t0,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(JJ)),i0=(e,t)=>({width:e.width,height:t.height}),a0=gV(fq,jX,i0),o0=gV(aq,fq,n0,e0,t0,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=i0(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;o[n.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),s0=gV(iq,fq,r0,e0,t0,(e,t,n,r,i)=>{var a,o={};return n.forEach(n=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==a&&(a=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;o[n.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),l0=gV([fq,jX,(e,t)=>{var n=jX(e,t);if(null!=n)return o0(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),c0=gV([fq,MX,(e,t)=>{var n=MX(e,t);if(null!=n)return s0(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),u0=gV(fq,MX,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),d0=(e,t,n)=>{switch(t){case"xAxis":return a0(e,n).width;case"yAxis":return u0(e,n).height;default:return}},h0=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=qB(e,r),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&vF(l)?l:void 0}},f0=gV([kq,eJ,FX,yX],h0),p0=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:a}=n;return!qB(e,r)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},m0=gV([kq,eJ,zX,yX],p0),g0=gV([kq,(e,t,n)=>{switch(t){case"xAxis":return jX(e,n);case"yAxis":return MX(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FJ,XJ,f0,m0,QJ,VJ,yX],(e,t,n,r,i,a,o,s,l)=>{if(null==t)return null;var c=qB(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),y0=gV([kq,zX,FJ,XJ,VJ,QJ,f0,m0,yX],(e,t,n,r,i,a,o,s,l)=>{if(null!=t&&null!=r){var c=qB(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*uF(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=o?o.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!dF(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),v0=gV([kq,zX,XJ,QJ,f0,m0,yX],(e,t,n,r,i,a,o)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=qB(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null==r?void 0:r.length)>=2?2*uF(r[0]-r[1])*c:c,s&&a?a.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),b0=gV(FX,XJ,(e,t)=>{if(null!=e&&null!=t)return OX(OX({},e),{},{scale:t})}),w0=gV([FX,FJ,RJ,ZJ],zJ);gV((e,t,n)=>LX(e,n),w0,(e,t)=>{if(null!=e&&null!=t)return OX(OX({},e),{},{scale:t})});var x0=gV([kq,lq,cq],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_0=e=>e.options.defaultTooltipEventType,E0=e=>e.options.validateTooltipEventTypes;function S0(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function k0(e,t){return S0(t,_0(e),E0(e))}var C0=(e,t)=>{var n,r=Number(t);if(!dF(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},O0={active:!1,index:null,dataKey:void 0,coordinate:void 0},T0=B$({name:"tooltip",initialState:{itemInteraction:{click:O0,hover:O0},axisInteraction:{click:O0,hover:O0},keyboardInteraction:O0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=_$(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:A0,removeTooltipEntrySettings:N0,setTooltipSettingsState:I0,setActiveMouseOverItemIndex:j0,mouseLeaveItem:P0,mouseLeaveChart:D0,setActiveClickItemIndex:M0,setMouseOverAxisIndex:R0,setMouseClickAxisIndex:L0,setSyncInteraction:F0,setKeyboardInteraction:z0}=T0.actions,U0=T0.reducer;function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V0(Object(n),!0).forEach(function(t){B0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q0=(e,t,n,r)=>{if(null==t)return O0;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return O0;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return $0($0({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return $0($0({},O0),{},{coordinate:i.coordinate})},W0=(e,t)=>{var n=null==e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!Qq(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},K0=(e,t,n,r,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},H0=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},G0=e=>e.options.tooltipPayloadSearcher,Y0=e=>e.tooltip;function Q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q0(Object(n),!0).forEach(function(t){X0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J0=(e,t,n,r,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(g)?zB(g,c,u):g,v=null!==(d=null==m?void 0:m.dataKey)&&void 0!==d?d:r,b=null==m?void 0:m.nameKey;(h=r&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?wF(y,r,i):a(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=Z0(Z0({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(nq({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:BB(t.payload,t.dataKey),name:t.name}))}):e.push(nq({tooltipEntrySettings:m,dataKey:v,payload:h,value:BB(h,v),name:null!==(f=BB(h,b))&&void 0!==f?f:null==m?void 0:m.name}));return e},[])}},e1=gV([_X,kq,UX,qZ,wX],LJ),t1=gV([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),n1=gV([wX,xX],VX),r1=gV([t1,_X,n1],qX),i1=gV([r1],e=>e.filter(kX)),a1=gV([r1],YX),o1=gV([a1,$Q],ZX),s1=gV([i1,$Q,_X],SX),l1=gV([o1,_X,r1],JX),c1=gV([_X],mJ),u1=gV([r1],e=>e.filter(kX)),d1=gV([s1,u1,BZ],aJ),h1=gV([d1,$Q,wX],sJ),f1=gV([r1],HX),p1=gV([o1,_X,f1,uJ,wX],cJ),m1=gV([yJ,wX,xX],vJ),g1=gV([m1,wX],SJ),y1=gV([wJ,wX,xX],vJ),v1=gV([y1,wX],CJ),b1=gV([_J,wX,xX],vJ),w1=gV([b1,wX],TJ),x1=gV([g1,w1,v1],gJ),_1=gV([_X,c1,h1,p1,x1,kq,wX],jJ),E1=gV([_X,kq,o1,l1,BZ,wX,_1],MJ),S1=gV([E1,_X,e1],UJ),k1=gV([_X,E1,S1,wX],$J),C1=e=>{var t=wX(e),n=xX(e);return QJ(e,t,n,!1)},O1=gV([_X,C1],rX),T1=gV([_X,e1,k1,O1],zJ),A1=gV([kq,l1,_X,wX],h0),N1=gV([kq,l1,_X,wX],p0),I1=gV([kq,_X,e1,T1,C1,A1,N1,wX],(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=qB(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*uF(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),j1=gV([_0,E0,e=>e.tooltip.settings],(e,t,n)=>S0(n.shared,e,t)),P1=e=>e.tooltip.settings.trigger,D1=e=>e.tooltip.settings.defaultIndex,M1=gV([Y0,j1,P1,D1],q0),R1=gV([M1,o1],W0),L1=gV([I1,R1],C0),F1=gV([M1],e=>{if(e)return e.dataKey}),z1=gV([Y0,j1,P1,D1],H0),U1=gV([iq,aq,kq,fq,I1,D1,z1,G0],K0),V1=gV([M1,U1],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),$1=gV([M1],e=>e.active),B1=gV([z1,R1,$Q,EX,L1,G0,j1],J0),q1=gV([B1],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(t){H1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G1=()=>{var e=cV(_X),t=cV(I1),n=cV(T1);return tq(K1(K1({},e),{},{scale:n}),t)},Y1=(e,t)=>t,Q1=(e,t,n)=>n,Z1=(e,t,n,r)=>r,X1=gV(I1,e=>kV(e,e=>e.coordinate)),J1=gV([Y0,Y1,Q1,Z1],q0),e2=gV([J1,o1],W0),t2=gV([Y0,Y1,Q1,Z1],H0),n2=gV([iq,aq,kq,fq,I1,Z1,t2,G0],K0),r2=gV([J1,n2],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),i2=gV(I1,e2,C0),a2=gV([t2,e2,$Q,EX,i2,G0,Y1],J0),o2=gV([J1],e=>({isActive:e.active,activeIndex:e.index}));function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s2.apply(null,arguments)}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(t){u2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d2(e){var t,n,{coordinate:r,payload:i,index:a,offset:o,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,f=i,p=a;if(!c||!h||"ScatterChart"!==d&&"axis"!==u)return null;if("ScatterChart"===d)t=h,n=fW;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(l,h,o,s),n=ZW;else if("radial"===l){var{cx:m,cy:g,radius:y,startAngle:v,endAngle:b}=XW(h);t={cx:m,cy:g,startAngle:v,endAngle:b,innerRadius:y,outerRadius:y},n=rK}else t={points:iK(l,h,o)},n=sW;var w="object"==typeof c&&"className"in c?c.className:void 0,x=c2(c2(c2(c2({stroke:"#ccc",pointerEvents:"none"},o),t),LF(c,!1)),{},{payload:f,payloadIndex:p,className:dR("recharts-tooltip-cursor",w)});return wt.isValidElement(c)?wt.cloneElement(c,x):wt.createElement(n,x)}function h2(e){var t=G1(),n=_q(),r=Cq(),i=cV(qZ);return wt.createElement(d2,s2({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var f2=wt.createContext(null),p2={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(p2);var m2=new(Me(p2.exports)),g2="recharts.syncEvent.tooltip",y2="recharts.syncEvent.brush";function v2(e,t){if(t){var n=Number.parseInt(t,10);if(!dF(n))return null==e?void 0:e[n]}}var b2=B$({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),w2=b2.reducer,{createEventEmitter:x2}=b2.actions;function _2(e){return e.tooltip.syncInteraction}var E2=B$({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:S2,setDataStartEndIndexes:k2,setComputedData:C2}=E2.actions,O2=E2.reducer,T2=["x","y"];function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(t){I2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j2=()=>{};function P2(){var e=cV(WZ),t=cV(HZ),n=aV(),r=cV(KZ),i=cV(I1),a=Cq(),o=wq(),s=cV(e=>e.rootProps.className);wt.useEffect(()=>{if(null==e)return j2;var s=(s,l,c)=>{var u;if(t!==c&&e===s)if("index"!==r){if(null!=i){var d;if("function"==typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=r(i,h);d=i[f]}else"value"===r&&(d=i.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=o){var{x:m,y:g}=p,y=Math.min(m,o.x+o.width),v=Math.min(g,o.y+o.height),b={x:"horizontal"===a?d.coordinate:y,y:"horizontal"===a?v:d.coordinate},w=F0({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label});n(w)}else n(F0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else if(o&&null!=l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate){var x=l.payload.coordinate,{x:_,y:E}=x,S=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(x,T2),k=N2(N2(N2({},S),"number"==typeof _&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),"number"==typeof E&&{y:Math.max(o.y,Math.min(E,o.y+o.height))}),C=N2(N2({},l),{},{payload:N2(N2({},l.payload),{},{coordinate:k})});n(C)}else n(l)};return m2.on(g2,s),()=>{m2.off(g2,s)}},[s,n,t,e,r,i,a,o])}function D2(){var e=aV();wt.useEffect(()=>{e(x2())},[e]),P2(),function(){var e=cV(WZ),t=cV(HZ),n=aV();wt.useEffect(()=>{if(null==e)return j2;var r=(r,i,a)=>{t!==a&&e===r&&n(k2(i))};return m2.on(y2,r),()=>{m2.off(y2,r)}},[n,t,e])}()}function M2(e,t,n,r,i,a){var o=cV(n=>((e,t,n)=>{if(null!=t){var r=Y0(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),s=cV(HZ),l=cV(WZ),c=cV(KZ),u=cV(_2),d=null==u?void 0:u.active;wt.useEffect(()=>{if(!d&&null!=l&&null!=s){var e=F0({active:a,coordinate:n,dataKey:o,index:i,label:"number"==typeof r?String(r):r});m2.emit(g2,l,e,s)}},[d,n,o,i,r,s,l,c,a])}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(t){F2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z2(e){return e.dataKey}var U2=[],V2={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gq,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $2(e){var t=gW(e,V2),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:f,wrapperStyle:p,cursor:m,shared:g,trigger:y,defaultIndex:v,portal:b,axisId:w}=t,x=aV(),_="number"==typeof v?String(v):v;wt.useEffect(()=>{x(I0({shared:g,trigger:y,axisId:w,active:n,defaultIndex:_}))},[x,g,y,w,n,_]);var E=wq(),S=Yq(),k=function(e){return cV(t=>k0(t,e))}(g),{activeIndex:C,isActive:O}=cV(e=>o2(e,k,y,_)),T=cV(e=>a2(e,k,y,_)),A=cV(e=>i2(e,k,y,_)),N=cV(e=>r2(e,k,y,_)),I=T,j=wt.useContext(f2),P=null!=n?n:O,[D,M]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=wt.useState({height:0,left:0,top:0,width:0}),r=wt.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}([I,P]),R="axis"===k?A:void 0;M2(k,y,N,R,C,P);var L=null!=b?b:j;if(null==L)return null;var F=null!=I?I:U2;P||(F=U2),s&&F.length&&(F=function(e,t,n){return!0===t?DU(e,n):"function"==typeof t?DU(e,t):e}(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,z2));var z=F.length>0,U=wt.createElement(Kq,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:P,coordinate:N,hasPayload:z,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:E,wrapperStyle:p,lastBoundingBox:D,innerRef:M,hasPortalFromProps:Boolean(b)},function(e,t){return wt.isValidElement(e)?wt.cloneElement(e,t):"function"==typeof e?wt.createElement(e,t):wt.createElement(Fq,t)}(o,L2(L2({},t),{},{payload:F,label:R,active:P,coordinate:N,accessibilityLayer:S})));return wt.createElement(wt.Fragment,null,Fh.createPortal(U,L),P&&wt.createElement(h2,{cursor:m,tooltipEventType:k,coordinate:N,payload:I,index:C}))}var B2={},q2={},W2={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let i,a=null;const o=null!=r&&r.includes("leading"),s=null==r||r.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),i=void 0,a=null},h=function(...e){if(null==n?void 0:n.aborted)return;i=this,a=e;const t=null==c;u(),o&&t&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null==n||n.addEventListener("abort",d,{once:!0}),h}}(W2),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W2;e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:o}=r,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=t.debounce(function(...t){l=e.apply(this,t),c=null},n,{edges:s}),d=function(...t){return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}}(q2),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2;e.throttle=function(e,n=0,r={}){const{leading:i=!0,trailing:a=!0}=r;return t.debounce(e,n,{leading:i,maxWait:n,trailing:a})}}(B2);const K2=Me(B2.throttle);var H2=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(t){Q2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Q2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z2=wt.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:f,style:p={}}=e,m=wt.useRef(null),g=wt.useRef();g.current=f,wt.useImperativeHandle(t,()=>m.current);var[y,v]=wt.useState({containerWidth:r.width,containerHeight:r.height}),b=wt.useCallback((e,t)=>{v(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);wt.useEffect(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=g.current)||void 0===t||t.call(g,n,r)};u>0&&(e=K2(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=m.current.getBoundingClientRect();return b(n,r),t.observe(m.current),()=>{t.disconnect()}},[b,u]);var w=wt.useMemo(()=>{var{containerWidth:e,containerHeight:t}=y;if(e<0||t<0)return null;H2(hF(i)||hF(a),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,a),H2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=hF(i)?e:i,u=hF(a)?t:a;return n&&n>0&&(r?u=r/n:u&&(r=u*n),l&&u>l&&(u=l)),H2(r>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,u,i,a,o,s,n),wt.Children.map(c,e=>wt.cloneElement(e,{width:r,height:u,style:Y2({width:r,height:u},e.props.style)}))},[n,c,a,l,s,o,y,i]);return wt.createElement("div",{id:d?"".concat(d):void 0,className:dR("recharts-responsive-container",h),style:Y2(Y2({},p),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:m},wt.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),X2=e=>null;function J2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}X2.displayName="Cell";function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n4=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){t4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),r4=new class{constructor(e){J2(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(n4.cacheSize),i4={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},a4="recharts_measurement_span";var o4=(e,t)=>{try{var n=document.getElementById(a4);n||((n=document.createElement("span")).setAttribute("id",a4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,i4,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},s4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Gq)return{width:0,height:0};if(!n4.enableCache)return o4(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),r=r4.get(n);if(r)return r;var i=o4(e,t);return r4.set(n,i),i},l4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u4=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d4=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},f4=Object.keys(h4),p4="NaN";class m4{static parse(e){var t,[,n,r]=null!==(t=d4.exec(e))&&void 0!==t?t:[];return new m4(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,dF(e)&&(this.unit=""),""===t||u4.test(t)||(this.num=NaN,this.unit=""),f4.includes(t)&&(this.num=function(e,t){return e*h4[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new m4(NaN,""):new m4(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new m4(NaN,""):new m4(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new m4(NaN,""):new m4(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new m4(NaN,""):new m4(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dF(this.num)}}function g4(e){if(e.includes(p4))return p4;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=null!==(n=l4.exec(t))&&void 0!==n?n:[],o=m4.parse(null!=r?r:""),s=m4.parse(null!=a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return p4;t=t.replace(l4,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=c4.exec(t))&&void 0!==c?c:[],f=m4.parse(null!=u?u:""),p=m4.parse(null!=h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return p4;t=t.replace(c4,m.toString())}return t}var y4=/\(([^()]*)\)/;function v4(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=y4.exec(n));){var[,r]=t;n=n.replace(y4,g4(r))}return n}(t),t=g4(t)}function b4(e){var t=function(e){try{return v4(e)}catch(t){return p4}}(e.slice(5,-1));return t===p4?"":t}var w4=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],x4=["dx","dy","angle","className","breakAll"];function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_4.apply(null,arguments)}function E4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var S4=/[ \f\n\r\t\v\u2028\u2029]+/,k4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return xF(t)||(i=n?t.toString().split(""):t.toString().split(S4)),{wordsWithComputedWidth:i.map(e=>({word:e,width:s4(e,r).width})),spaceWidth:n?0:s4(" ",r).width}}catch(a){return null}},C4=e=>[{words:xF(e)?[]:e.toString().split(S4)}],O4=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Gq){var s=k4({breakAll:a,children:r,style:i});if(!s)return C4(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=fF(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return h;if(!(h.length>a||f(h).width>Number(r)))return h;for(var p,m=e=>{var t=u.slice(0,e),n=k4({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=d(n);return[i.length>a||f(i).width>Number(r),i]},g=0,y=u.length-1,v=0;g<=y&&v<=u.length-1;){var b=Math.floor((g+y)/2),w=b-1,[x,_]=m(w),[E]=m(b);if(x||E||(g=b+1),x&&E&&(y=b-1),!x&&E){p=_;break}v++}return p||h})({breakAll:a,children:r,maxLines:o,style:i},l,c,t,n)}return C4(r)},T4="#808080",A4=wt.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=T4}=e,u=E4(e,w4),d=wt.useMemo(()=>O4({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:f,angle:p,className:m,breakAll:g}=u,y=E4(u,x4);if(!pF(n)||!pF(r)||0===d.length)return null;var v,b=n+(fF(h)?h:0),w=r+(fF(f)?f:0);switch(l){case"start":v=b4("calc(".concat(a,")"));break;case"middle":v=b4("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:v=b4("calc(".concat(d.length-1," * -").concat(i,")"))}var x=[];if(o){var _=d[0].width,{width:E}=u;x.push("scale(".concat(fF(E)?E/_:1,")"))}return p&&x.push("rotate(".concat(p,", ").concat(b,", ").concat(w,")")),x.length&&(y.transform=x.join(" ")),wt.createElement("text",_4({},LF(y,!0),{ref:t,x:b,y:w,className:dR("recharts-text",m),textAnchor:s,fill:c.includes("url")?T4:c}),d.map((e,t)=>{var n=e.words.join(g?"":" ");return wt.createElement("tspan",{x:b,dy:0===t?v:i,key:"".concat(n,"-").concat(t)},n)}))});A4.displayName="Text";var N4=["labelRef"];function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(t){P4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D4.apply(null,arguments)}var M4=wt.createContext(null),R4=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=wt.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return wt.createElement(M4.Provider,{value:o},a)},L4=()=>{var e=wt.useContext(M4),t=wq();return e||t},F4=wt.createContext(null),z4=e=>null!=e&&"function"==typeof e,U4=(e,t,n,r,i)=>{var a,o,{offset:s,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:h,startAngle:f,endAngle:p,clockWise:m}=i,g=(d+h)/2,y=((e,t)=>uF(t-e)*Math.min(Math.abs(t-e),360))(f,p),v=y>=0?1:-1;switch(t){case"insideStart":a=f+v*s,o=m;break;case"insideEnd":a=p-v*s,o=!m;break;case"end":a=p+v*s,o=m;break;default:throw new Error("Unsupported position ".concat(t))}o=y<=0?o:!o;var b=MB(c,u,g,a),w=MB(c,u,g,a+359*(o?1:-1)),x="M".concat(b.x,",").concat(b.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),_=xF(e.id)?gF("recharts-radial-line-"):e.id;return wt.createElement("text",D4({},r,{dominantBaseline:"central",className:dR("recharts-radial-bar-label",l)}),wt.createElement("defs",null,wt.createElement("path",{id:_,d:x})),wt.createElement("textPath",{xlinkHref:"#".concat(_)},n))},V4=e=>"cx"in e&&fF(e.cx),$4={offset:5};function B4(e){var t,n,r=gW(e,$4),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,h=(t=wt.useContext(F4),n=cV(gX),t||n),f=L4(),p=i||("center"===a?f:null!=h?h:f);if(!p||xF(o)&&xF(s)&&!wt.isValidElement(l)&&"function"!=typeof l)return null;var m,g=j4(j4({},r),{},{viewBox:p});if(wt.isValidElement(l)){var{labelRef:y}=g,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(g,N4);return wt.cloneElement(l,v)}if("function"==typeof l){if(m=wt.createElement(l,g),wt.isValidElement(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=xF(e.children)?t:e.children;return"function"==typeof n?n(r):r})(r);var b=V4(p),w=LF(r,!0);if(b&&("insideStart"===a||"insideEnd"===a||"end"===a))return U4(r,a,m,w,p);var x=b?((e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===n){var{x:u,y:d}=MB(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=MB(r,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(p,r.offset,r.position):((e,t)=>{var n,{parentViewBox:r,offset:i,position:a}=e;null==r||V4(r)||(n=r);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*i,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*i,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===a)return j4(j4({},{x:o+l/2,y:s-u*i,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return j4(j4({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return j4(j4({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===a){var b={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return j4(j4({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===a?j4({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===a?j4({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===a?j4({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===a?j4({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===a?j4({x:o+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===a?j4({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===a?j4({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===a?j4({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):a&&"object"==typeof a&&(fF(a.x)||hF(a.x))&&(fF(a.y)||hF(a.y))?j4({x:o+yF(a.x,l),y:s+yF(a.y,c),textAnchor:"end",verticalAnchor:"end"},w):j4({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)})(r,p);return wt.createElement(A4,D4({ref:d,className:dR("recharts-label",c)},w,x,{breakAll:u}),m)}B4.displayName="Label";function q4(e){var{label:t}=e;return((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?wt.createElement(B4,D4({key:"label-implicit"},r)):pF(e)?wt.createElement(B4,D4({key:"label-implicit",value:e},r)):wt.isValidElement(e)?e.type===B4?wt.cloneElement(e,j4({key:"label-implicit"},r)):wt.createElement(B4,D4({key:"label-implicit",content:e},r)):z4(e)?wt.createElement(B4,D4({key:"label-implicit",content:e},r)):e&&"object"==typeof e?wt.createElement(B4,D4({},e,{key:"label-implicit"},r)):null})(t,L4())||null}var W4={},K4={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}}(K4);var H4={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}}(H4),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4,n=H4,r=sU;e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(W4);const G4=Me(W4.last);var Y4=["valueAccessor"],Q4=["dataKey","clockWise","id","textBreakAll"];function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z4.apply(null,arguments)}function X4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J4=e=>Array.isArray(e.value)?G4(e.value):e.value,e3=wt.createContext(void 0),t3=e3.Provider,n3=wt.createContext(void 0);function r3(e){var{valueAccessor:t=J4}=e,n=X4(e,Y4),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,s=X4(n,Q4),l=wt.useContext(e3),c=wt.useContext(n3),u=l||c;return u&&u.length?wt.createElement(BF,{className:"recharts-label-list"},u.map((e,i)=>{var l,c=xF(r)?t(e,i):BB(e&&e.payload,r),u=xF(a)?{}:{id:"".concat(a,"-").concat(i)};return wt.createElement(B4,Z4({},LF(e,!0),s,u,{fill:null!==(l=n.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:o,viewBox:e.viewBox,key:"label-".concat(i),index:i}))})):null}function i3(e){var{label:t}=e;return t?!0===t?wt.createElement(r3,{key:"labelList-implicit"}):wt.isValidElement(t)||z4(t)?wt.createElement(r3,{key:"labelList-implicit",content:t}):"object"==typeof t?wt.createElement(r3,Z4({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a3.apply(null,arguments)}n3.Provider,r3.displayName="LabelList";var o3=e=>{var{cx:t,cy:n,r:r,className:i}=e,a=dR("recharts-dot",i);return t===+t&&n===+n&&r===+r?wt.createElement("circle",a3({},IF(e),OF(e),{className:a,cx:t,cy:n,r:r})):null},s3=B$({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:l3,removeRadiusAxis:c3,addAngleAxis:u3,removeAngleAxis:d3}=s3.actions,h3=s3.reducer,f3={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}}(f3);const p3=Me(f3.isPlainObject);function m3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m3(Object(n),!0).forEach(function(t){y3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y3(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v3(){return v3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v3.apply(null,arguments)}var b3=(e,t,n,r,i)=>{var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},w3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x3=e=>{var t=gW(e,w3),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,h=wt.useRef(),[f,p]=wt.useState(-1),m=wt.useRef(i),g=wt.useRef(a),y=wt.useRef(o),v=wt.useRef(n),b=wt.useRef(r),w=qW(e,"trapezoid-");if(wt.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||0===i&&0===a||0===o)return null;var x=dR("recharts-trapezoid",s);if(!d)return wt.createElement("g",null,wt.createElement("path",v3({},LF(t,!0),{className:x,d:b3(n,r,i,a,o)})));var _=m.current,E=g.current,S=y.current,k=v.current,C=b.current,O="0px ".concat(-1===f?1:f,"px"),T="".concat(f,"px 0px"),A=xW(["strokeDasharray"],c,l);return wt.createElement(BW,{animationId:w,key:w,canBegin:f>0,duration:c,easing:l,isActive:d,begin:u},e=>{var s=bF(_,i,e),l=bF(E,a,e),c=bF(S,o,e),u=bF(k,n,e),d=bF(C,r,e);h.current&&(m.current=s,g.current=l,y.current=c,v.current=u,b.current=d);var f=e>0?{transition:A,strokeDasharray:T}:{strokeDasharray:O};return wt.createElement("path",v3({},LF(t,!0),{className:x,d:b3(u,d,s,l,c),ref:h,style:g3(g3({},f),t.style)}))})},_3=["option","shapeType","propTransformer","activeClassName","isActive"];function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(t){k3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k3(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C3(e,t){return S3(S3({},t),e)}function O3(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return wt.createElement(ZW,n);case"trapezoid":return wt.createElement(x3,n);case"sector":return wt.createElement(rK,n);case"symbols":if(function(e){return"symbols"===e}(t))return wt.createElement(nU,n);break;default:return null}}function T3(e){var t,{option:n,shapeType:r,propTransformer:i=C3,activeClassName:a="recharts-active-shape",isActive:o}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_3);if(wt.isValidElement(n))t=wt.cloneElement(n,S3(S3({},s),function(e){return wt.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(s);else if(p3(n)&&"boolean"!=typeof n){var l=i(n,s);t=wt.createElement(O3,{shapeType:r,elementProps:l})}else{var c=s;t=wt.createElement(O3,{shapeType:r,elementProps:c})}return o?wt.createElement(BF,{className:a},t):t}var A3=(e,t)=>{var n=aV();return(r,i)=>a=>{null==e||e(r,i,a),n(j0({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},N3=e=>{var t=aV();return(n,r)=>i=>{null==e||e(n,r,i),t(P0())}},I3=(e,t)=>{var n=aV();return(r,i)=>a=>{null==e||e(r,i,a),n(M0({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function j3(e){var{fn:t,args:n}=e,r=aV(),i=yq();return wt.useEffect(()=>{if(!i){var e=t(n);return r(A0(e)),()=>{r(N0(e))}}},[t,n,r,i]),null}var P3,D3=()=>{};function M3(e){var{legendPayload:t}=e,n=aV(),r=yq();return wt.useEffect(()=>r?D3:(n(Nq(t)),()=>{n(Iq(t))}),[n,r,t]),null}var R3=null!==(P3=_t["useId".toString()])&&void 0!==P3?P3:()=>{var[e]=wt.useState(()=>gF("uid-"));return e};var L3=wt.createContext(void 0),F3=e=>{var t,n,r,{id:i,type:a,children:o}=e,s=(t="recharts-".concat(a),n=i,r=R3(),n||(t?"".concat(t,"-").concat(r):r));return wt.createElement(L3.Provider,{value:s},o(s))},z3=B$({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=_$(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=_$(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=_$(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:U3,replaceCartesianGraphicalItem:V3,removeCartesianGraphicalItem:$3,addPolarGraphicalItem:B3,removePolarGraphicalItem:q3}=z3.actions,W3=z3.reducer;function K3(e){var t=aV(),n=wt.useRef(null);return wt.useEffect(()=>{null===n.current?t(U3(e)):n.current!==e&&t(V3({prev:n.current,next:e})),n.current=e},[t,e]),wt.useEffect(()=>()=>{n.current&&(t($3(n.current)),n.current=null)},[t]),null}function H3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H3(Object(n),!0).forEach(function(t){Y3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y3(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q3=B$({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=G3(G3({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Z3,removeXAxis:X3,addYAxis:J3,removeYAxis:e6,addZAxis:t6,removeZAxis:n6,updateYAxisWidth:r6}=Q3.actions,i6=Q3.reducer,a6=gV([fq],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),o6=gV([a6,iq,aq],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),s6=()=>cV(o6);function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(t){u6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d6(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=cV(R1),o=cV(q1);if(null==t||null==o)return null;var s=t.find(e=>o.includes(e.payload));return xF(s)?null:(e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(!1===i||null==t.x||null==t.y)return null;var o,s=c6(c6({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:null!=r?r:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},LF(i,!1)),OF(i));return o=wt.isValidElement(i)?wt.cloneElement(i,s):"function"==typeof i?i(s):wt.createElement(o3,s),wt.createElement(BF,{className:"recharts-active-dot"},o)})({point:s,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var h6=["x","y"];function f6(){return f6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f6.apply(null,arguments)}function p6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p6(Object(n),!0).forEach(function(t){g6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y6(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,h6),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return m6(m6(m6(m6(m6({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function v6(e){return wt.createElement(T3,f6({shapeType:"rectangle",propTransformer:y6,activeClassName:"recharts-active-bar"},e))}var b6=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(fF(e))return e;var i=fF(n)||xF(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}},w6=B$({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:x6,replaceErrorBar:_6,removeErrorBar:E6}=w6.actions,S6=w6.reducer,k6=["children"];var C6={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O6=wt.createContext(C6);function T6(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,k6);return wt.createElement(O6.Provider,{value:n},t)}function A6(e,t){var n,r,i=cV(t=>jX(t,e)),a=cV(e=>MX(e,t)),o=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:NX.allowDataOverflow,s=null!==(r=null==a?void 0:a.allowDataOverflow)&&void 0!==r?r:PX.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function N6(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=s6(),{needClipX:a,needClipY:o,needClip:s}=A6(t,n);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return wt.createElement("clipPath",{id:"clipPath-".concat(r)},wt.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:2*u,height:o?d:2*d}))}var I6=["onMouseEnter","onMouseLeave","onClick"],j6=["value","background","tooltipPosition"],P6=["id"],D6=["onMouseEnter","onClick","onMouseLeave"];function M6(){return M6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M6.apply(null,arguments)}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(t){F6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z6(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var U6=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:rq(n,t),payload:e}]};function V6(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:rq(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function $6(e){var t=cV(R1),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=z6(a,I6),u=A3(o,r),d=N3(s),h=I3(l,r);if(!i||null==n)return null;var f=LF(i,!1);return wt.createElement(wt.Fragment,null,n.map((e,n)=>{var{value:a,background:o,tooltipPosition:s}=e,l=z6(e,j6);if(!o)return null;var p=u(e,n),m=d(e,n),g=h(e,n),y=L6(L6(L6(L6(L6({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},o),f),TF(c,e,n)),{},{onMouseEnter:p,onMouseLeave:m,onClick:g,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return wt.createElement(v6,M6({key:"background-bar-".concat(y.index)},y))}))}function B6(e){var{showLabels:t,children:n,rects:r}=e,i=null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return L6(L6({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return wt.createElement(t3,{value:t?i:void 0},n)}function q6(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=cV(R1),l=cV(F1),c=n&&String(a)===s&&(null==l||o===l),u=c?n:t;return wt.createElement(v6,M6({},r,i,{isActive:c,option:u,index:a,dataKey:o}))}function W6(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return wt.createElement(v6,M6({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function K6(e){var{data:t,props:n}=e,r=IF(n),{id:i}=r,a=z6(r,P6),{shape:o,dataKey:s,activeBar:l}=n,{onMouseEnter:c,onClick:u,onMouseLeave:d}=n,h=z6(n,D6),f=A3(c,s),p=N3(d),m=I3(u,s);return t?wt.createElement(wt.Fragment,null,t.map((e,t)=>wt.createElement(BF,M6({className:"recharts-bar-rectangle"},TF(h,e,t),{onMouseEnter:f(e,t),onMouseLeave:p(e,t),onClick:m(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),l?wt.createElement(q6,{shape:o,activeBar:l,baseProps:a,entry:e,index:t,dataKey:s}):wt.createElement(W6,{shape:o,baseProps:a,entry:e,index:t,dataKey:s})))):null}function H6(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,h=qW(t,"recharts-bar-"),[f,p]=wt.useState(!1),m=!f,g=wt.useCallback(()=>{"function"==typeof c&&c(),p(!1)},[c]),y=wt.useCallback(()=>{"function"==typeof u&&u(),p(!0)},[u]);return wt.createElement(B6,{showLabels:m,rects:r},wt.createElement(BW,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:g,onAnimationStart:y,key:h},e=>{var a=1===e?r:null==r?void 0:r.map((t,n)=>{var r=d&&d[n];if(r)return L6(L6({},t),{},{x:bF(r.x,t.x,e),y:bF(r.y,t.y,e),width:bF(r.width,t.width,e),height:bF(r.height,t.height,e)});if("horizontal"===i){var a=bF(0,t.height,e);return L6(L6({},t),{},{y:t.y+t.height-a,height:a})}var o=bF(0,t.width,e);return L6(L6({},t),{},{width:o})});return e>0&&(n.current=null!=a?a:null),null==a?null:wt.createElement(BF,null,wt.createElement(K6,{props:t,data:a}))}),wt.createElement(i3,{label:t.label}),t.children)}function G6(e){var t=wt.useRef(null);return wt.createElement(H6,{previousRectanglesRef:t,props:e})}var Y6=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:BB(e,t)}};class Q6 extends wt.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:a,needClip:o,background:s,id:l}=this.props;if(e||null==t)return null;var c=dR("recharts-bar",r),u=l;return wt.createElement(BF,{className:c,id:l},o&&wt.createElement("defs",null,wt.createElement(N6,{clipPathId:u,xAxisId:i,yAxisId:a})),wt.createElement(BF,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(u,")"):void 0},wt.createElement($6,{data:t,dataKey:n,background:s,allOtherBarProps:this.props}),wt.createElement(G6,this.props)))}}var Z6={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Gq,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function X6(e){var t,n,r,i,a,{xAxisId:o,yAxisId:s,hide:l,legendType:c,minPointSize:u,activeBar:d,animationBegin:h,animationDuration:f,animationEasing:p,isAnimationActive:m}=e,{needClip:g}=A6(o,s),y=Cq(),v=yq(),b=(t=e.children,n=X2,r=[],i=[],i=Array.isArray(n)?n.map(e=>jF(e)):[jF(n)],MF(t).forEach(e=>{var t=WL(e,"type.displayName")||WL(e,"type.name");-1!==i.indexOf(t)&&r.push(e)}),r),w=cV(t=>p5(t,o,s,v,e.id,b));if("vertical"!==y&&"horizontal"!==y)return null;var x=null==w?void 0:w[0];return a=null==x||null==x.height||null==x.width?0:"vertical"===y?x.height/2:x.width/2,wt.createElement(T6,{xAxisId:o,yAxisId:s,data:w,dataPointFormatter:Y6,errorBarOffset:a},wt.createElement(Q6,M6({},e,{layout:y,needClip:g,data:w,xAxisId:o,yAxisId:s,hide:l,legendType:c,minPointSize:u,activeBar:d,animationBegin:h,animationDuration:f,animationEasing:p,isAnimationActive:m})))}function J6(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p}=e,m="horizontal"===t?s:o,g=u?m.scale.domain():null,y=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:m});return d.map((e,d)=>{var m,v,b,w,x,_;u?m=((e,t)=>{if(!t||2!==t.length||!fF(t[0])||!fF(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!fF(e[0])||e[0]<n)&&(i[0]=n),(!fF(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(m=BB(e,n),Array.isArray(m)||(m=[y,m]));var E=b6(r,0)(m[1],d);if("horizontal"===t){var S,[k,C]=[s.scale(m[0]),s.scale(m[1])];v=ZB({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),b=null!==(S=null!=C?C:k)&&void 0!==S?S:void 0,w=i.size;var O=k-C;if(x=dF(O)?0:O,_={x:v,y:h.top,width:w,height:h.height},Math.abs(E)>0&&Math.abs(x)<Math.abs(E)){var T=uF(x||E)*(Math.abs(E)-Math.abs(x));b-=T,x+=T}}else{var[A,N]=[o.scale(m[0]),o.scale(m[1])];if(v=A,b=ZB({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),w=N-A,x=i.size,_={x:h.left,y:b,width:h.width,height:x},Math.abs(E)>0&&Math.abs(w)<Math.abs(E))w+=uF(w||E)*(Math.abs(E)-Math.abs(w))}return null==v||null==b||null==w||null==x?null:L6(L6({},e),{},{x:v,y:b,width:w,height:x,value:u?m:m[1],payload:e,background:_,tooltipPosition:{x:v+w/2,y:b+x/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}function e5(e){var t=gW(e,Z6),n=yq();return wt.createElement(F3,{id:t.id,type:"bar"},e=>{return wt.createElement(wt.Fragment,null,wt.createElement(M3,{legendPayload:U6(t)}),wt.createElement(j3,{fn:V6,args:t}),wt.createElement(K3,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:(r=t.stackId,null==r?void 0:String(r)),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),wt.createElement(X6,M6({},t,{id:e})));var r})}var t5=wt.memo(e5);function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(t){i5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t5.displayName="Bar";var a5=gV([$X,(e,t,n,r,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),o5=gV([a5],e=>null==e?void 0:e.maxBarSize),s5=(e,t,n)=>{var r=null!=n?n:e;if(!xF(r))return yF(r,t,0)},l5=gV([kq,$X,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),c5=gV([l5,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===kq(e)?d0(e,"xAxis",t):d0(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(kX),i=e.filter(e=>null==e.stackId),a=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(a).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:s5(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:s5(t,n,e.barSize)}))]}),u5=(e,t,n,r)=>{var i,a;return"horizontal"===kq(e)?(i=b0(e,"xAxis",t,r),a=v0(e,"xAxis",t,r)):(i=b0(e,"yAxis",n,r),a=v0(e,"yAxis",n,r)),tq(i,a)};var d5=gV([c5,VZ,e=>e.rootProps.barGap,$Z,(e,t,n,r,i)=>{var a,o,s=a5(e,t,n,r,i);if(null!=s){var l,c,u=kq(e),d=VZ(e),{maxBarSize:h}=s,f=xF(h)?d:h;return"horizontal"===u?(l=b0(e,"xAxis",t,r),c=v0(e,"xAxis",t,r)):(l=b0(e,"yAxis",n,r),c=v0(e,"yAxis",n,r)),null!==(a=null!==(o=tq(l,c,!0))&&void 0!==o?o:f)&&void 0!==a?a:0}},u5,o5],(e,t,n,r,i,a,o)=>{var s=xF(o)?t:o,l=function(e,t,n,r,i){var a=r.length;if(!(a<1)){var o,s=yF(e,n,0,!0),l=[];if(Qq(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(a-1)*s)>=n&&(d-=(a-1)*s,s=0),d>=n&&u>0&&(c=!0,d=a*(u*=.9));var h={offset:((n-d)/2|0)-s,size:0};o=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=yF(t,n,0,!0);n-2*f-(a-1)*s<=0&&(s=0);var p=(n-2*f-(a-1)*s)/a;p>1&&(p>>=0);var m=Qq(i)?Math.min(p,i):p;o=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-m)/2,size:m}}],l)}return o}}(n,r,i!==a?i:a,e,s);return i!==a&&null!=l&&(l=l.map(e=>r5(r5({},e),{},{position:r5(r5({},e.position),{},{offset:e.position.offset-i/2})}))),l}),h5=gV([d5,a5],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),f5=gV([(e,t,n,r)=>"horizontal"===kq(e)?oJ(e,"yAxis",n,r):oJ(e,"xAxis",t,r),a5],(e,t)=>{var n=bX(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===n)}}}}),p5=gV([fq,mq,(e,t,n,r)=>b0(e,"xAxis",t,r),(e,t,n,r)=>b0(e,"yAxis",n,r),(e,t,n,r)=>v0(e,"xAxis",t,r),(e,t,n,r)=>v0(e,"yAxis",n,r),h5,kq,qQ,u5,f5,a5,(e,t,n,r,i,a)=>a],(e,t,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=o&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=n&&null!=r&&null!=i&&null!=a&&null!=c){var g,{data:y}=d;if(null!=(g=null!=y&&y.length>0?y:null==f?void 0:f.slice(p,m+1)))return J6({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:h})}}),m5=e=>{var{chartData:t}=e,n=aV(),r=yq();return wt.useEffect(()=>r?()=>{}:(n(S2(t)),()=>{n(S2(void 0))}),[t,n,r]),null},g5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},y5=B$({name:"brush",initialState:g5,reducers:{setBrushSettings:(e,t)=>null==t.payload?g5:t.payload}}),{setBrushSettings:v5}=y5.actions,b5=y5.reducer;class w5{static create(e){return new w5(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}!function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(w5,"EPS",1e-4);var x5=B$({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=_$(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=_$(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=_$(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:_5,removeDot:E5,addArea:S5,removeArea:k5,addLine:C5,removeLine:O5}=x5.actions,T5=x5.reducer,A5=wt.createContext(void 0),N5=e=>{var{children:t}=e,[n]=wt.useState("".concat(gF("recharts"),"-clip")),r=s6();if(null==r)return null;var{x:i,y:a,width:o,height:s}=r;return wt.createElement(A5.Provider,{value:n},wt.createElement("defs",null,wt.createElement("clipPath",{id:n},wt.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function I5(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function j5(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function P5(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function D5(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(t){L5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F5(e,t,n){var r,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(fF(c)||Gq)return null!==(r=function(e,t){return j5(e,t+1)}(a,fF(c)?c:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?s4(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===p?P5(s4(i,{fontSize:t,letterSpacing:n}),m,h):s4(i,{fontSize:t,letterSpacing:n})[p]},y=a.length>=2?uF(a[1].coordinate-a[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:j5(r,u)};var a,o=c,h=()=>(void 0===a&&(a=n(t,o)),a),f=t.coordinate,p=0===c||D5(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,v,g,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=R5(R5({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),D5(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=R5(R5({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=()=>(void 0===r&&(r=n(a,t)),r);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=R5(R5({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=R5(R5({},a),{},{tickCoord:a.coordinate});D5(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=R5(R5({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,v,g,a,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=a[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=R5(R5({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=R5(R5({},c),{},{tickCoord:c.coordinate});D5(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=R5(R5({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,v,g,a,s),f.filter(e=>e.isShow))}var z5=["axisLine","width","height","className","hide","ticks"],U5=["viewBox"],V5=["viewBox"];function $5(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function B5(){return B5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B5.apply(null,arguments)}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(t){K5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H5={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function G5(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=W5(W5(W5({},l),LF(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!o||"bottom"===a&&o);c=W5(W5({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var d=+("left"===a&&!o||"right"===a&&o);c=W5(W5({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return wt.createElement("line",B5({},c,{className:dR("recharts-cartesian-axis-line",WL(s,"className"))}))}function Y5(e){var t,{option:n,tickProps:r,value:i}=e,a=dR(r.className,"recharts-cartesian-axis-tick-value");if(wt.isValidElement(n))t=wt.cloneElement(n,W5(W5({},r),{},{className:a}));else if("function"==typeof n)t=n(W5(W5({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!=typeof n&&(o=dR(o,null==n?void 0:n.className)),t=wt.createElement(A4,B5({},r,{className:o}),i)}return t}function Q5(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:d,y:h,width:f,height:p,tickSize:m,tickMargin:g,fontSize:y,letterSpacing:v,getTicksConfig:b,events:w}=e,x=F5(W5(W5({},b),{},{ticks:t}),y,v),_=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(c,u),E=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(c,u),S=IF(b),k=LF(n,!1),C=W5(W5({},S),{},{fill:"none"},LF(r,!1)),O=x.map((e,t)=>{var{line:y,tick:v}=function(e,t,n,r,i,a,o,s,l){var c,u,d,h,f,p,m=s?-1:1,g=e.tickSize||o,y=fF(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=(d=(h=n+ +!s*i)-m*g)-m*l,f=y;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!s*r)-m*g)-m*l,p=y;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +s*r)+m*g)+m*l,p=y;break;default:c=u=e.coordinate,p=(d=(h=n+ +s*i)+m*g)+m*l,f=y}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,d,h,f,p,c,m,u,g),b=W5(W5(W5(W5({textAnchor:_,verticalAnchor:E},S),{},{stroke:"none",fill:i},k),v),{},{index:t,payload:e,visibleTicksCount:x.length,tickFormatter:a,padding:s},l);return wt.createElement(BF,B5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},TF(w,e,t)),r&&wt.createElement("line",B5({},C,y,{className:dR("recharts-cartesian-axis-tick-line",WL(r,"className"))})),n&&wt.createElement(Y5,{option:n,tickProps:b,value:"".concat("function"==typeof a?a(e.value,t):e.value).concat(o||"")}))});return O.length>0?wt.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var Z5=wt.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s}=e,l=$5(e,z5),[c,u]=wt.useState(""),[d,h]=wt.useState(""),f=wt.useRef([]);wt.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=o+(i+a)+s+(n?r:0);return Math.round(l)}return 0})({ticks:f.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=wt.useCallback(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,a=r.letterSpacing;i===c&&a===d||(u(i),h(a))}}},[c,d]);return o||null!=r&&r<=0||null!=i&&i<=0?null:wt.createElement(BF,{className:dR("recharts-cartesian-axis",a),ref:p},wt.createElement(G5,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:IF(e)}),wt.createElement(Q5,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),wt.createElement(R4,{x:e.x,y:e.y,width:e.width,height:e.height},wt.createElement(q4,{label:e.label}),e.children))}),X5=wt.memo(Z5,(e,t)=>{var{viewBox:n}=e,r=$5(e,U5),{viewBox:i}=t,a=$5(t,V5);return I5(n,i)&&I5(r,a)}),J5=wt.forwardRef((e,t)=>{var n=gW(e,H5);return wt.createElement(X5,B5({},n,{ref:t}))});J5.displayName="CartesianAxis";var e9=["x1","y1","x2","y2","key"],t9=["offset"],n9=["xAxisId","yAxisId"],r9=["xAxisId","yAxisId"];function i9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i9(Object(n),!0).forEach(function(t){o9(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o9(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(){return s9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s9.apply(null,arguments)}function l9(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c9=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return wt.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function u9(e,t){var n;if(wt.isValidElement(e))n=wt.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:s}=t,l=IF(l9(t,e9)),{offset:c}=l,u=l9(l,t9);n=wt.createElement("line",s9({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function d9(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=l9(e,n9),l=i.map((e,i)=>{var a=a9(a9({},s),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return u9(r,a)});return wt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function h9(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=l9(e,r9),l=i.map((e,i)=>{var a=a9(a9({},s),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return u9(r,a)});return wt.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function f9(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,s)=>{var l=!c[s+1]?i+o-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return wt.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function p9(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=!c[t+1]?i+o-e:c[t+1]-e;if(l<=0)return null;var u=t%n.length;return wt.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:l,height:s,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return wt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var m9=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return WB(F5(a9(a9(a9({},H5),n),{},{ticks:KB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},g9=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return WB(F5(a9(a9(a9({},H5),n),{},{ticks:KB(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},y9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function v9(e){var t=Eq(),n=Sq(),r=_q(),i=a9(a9({},gW(e,y9)),{},{x:fF(e.x)?e.x:r.left,y:fF(e.y)?e.y:r.top,width:fF(e.width)?e.width:r.width,height:fF(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,p=yq(),m=cV(e=>g0(e,"xAxis",a,p)),g=cV(e=>g0(e,"yAxis",o,p));if(!fF(c)||c<=0||!fF(u)||u<=0||!fF(s)||s!==+s||!fF(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||m9,v=i.horizontalCoordinatesGenerator||g9,{horizontalPoints:b,verticalPoints:w}=i;if(!(b&&b.length||"function"!=typeof v)){var x=h&&h.length,_=v({yAxis:g?a9(a9({},g),{},{ticks:x?h:g.ticks}):void 0,width:t,height:n,offset:r},!!x||d);H2(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if(!(w&&w.length||"function"!=typeof y)){var E=f&&f.length,S=y({xAxis:m?a9(a9({},m),{},{ticks:E?f:m.ticks}):void 0,width:t,height:n,offset:r},!!E||d);H2(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}return wt.createElement("g",{className:"recharts-cartesian-grid"},wt.createElement(c9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),wt.createElement(f9,s9({},i,{horizontalPoints:b})),wt.createElement(p9,s9({},i,{verticalPoints:w})),wt.createElement(d9,s9({},i,{offset:r,horizontalPoints:b,xAxis:m,yAxis:g})),wt.createElement(h9,s9({},i,{offset:r,verticalPoints:w,xAxis:m,yAxis:g})))}v9.displayName="CartesianGrid";var b9=(e,t,n,r)=>b0(e,"xAxis",t,r),w9=(e,t,n,r)=>v0(e,"xAxis",t,r),x9=(e,t,n,r)=>b0(e,"yAxis",n,r),_9=(e,t,n,r)=>v0(e,"yAxis",n,r),E9=gV([kq,b9,x9,w9,_9],(e,t,n,r,i)=>qB(e,"xAxis")?tq(t,r,!1):tq(n,i,!1));function S9(e){return"line"===e.type}var k9=gV([$X,(e,t,n,r,i)=>i],(e,t)=>e.filter(S9).find(e=>e.id===t)),C9=gV([kq,b9,x9,w9,_9,k9,E9,qQ],(e,t,n,r,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=n&&null!=r&&null!=i&&0!==r.length&&0!==i.length&&null!=o){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=BB(e,o);if("horizontal"===t)return{x:QB({axis:n,ticks:i,bandSize:s,entry:e,index:l}),y:xF(c)?null:r.scale(c),value:c,payload:e};var u=xF(c)?null:n.scale(c),d=QB({axis:r,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}}),O9=["id"],T9=["type","layout","connectNulls","needClip"],A9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function N9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N9(Object(n),!0).forEach(function(t){j9(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j9(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D9(){return D9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D9.apply(null,arguments)}var M9=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:rq(n,t),payload:e}]};function R9(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:rq(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:l}}}var L9=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function F9(e,t){for(var n=e.length%2!=0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}function z9(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:o}=r;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(n,i))return null;var{id:s}=r,l=P9(r,O9),c=RF(i),u=IF(l),d=LF(i,!0),h=n.map((e,t)=>{var r=I9(I9(I9({key:"dot-".concat(t),r:3},u),d),{},{index:t,cx:e.x,cy:e.y,dataKey:a,value:e.value,payload:e.payload,points:n});return function(e,t){var n;if(wt.isValidElement(e))n=wt.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var r=dR("recharts-line-dot","boolean"!=typeof e?e.className:"");n=wt.createElement(o3,D9({},t,{className:r}))}return n}(i,r)}),f={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return wt.createElement(BF,D9({className:"recharts-line-dots",key:"dots"},f),h)}function U9(e){var{showLabels:t,children:n,points:r}=e,i=wt.useMemo(()=>null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return I9(I9({},t),{},{value:e.value,payload:e.payload,viewBox:t,parentViewBox:void 0,fill:void 0})}),[r]);return wt.createElement(t3,{value:t?i:null},n)}function V9(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:o,layout:s,connectNulls:l,needClip:c}=a,u=P9(a,T9),d=I9(I9({},LF(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:null!=i?i:a.strokeDasharray});return wt.createElement(wt.Fragment,null,(null==r?void 0:r.length)>1&&wt.createElement(sW,D9({},d,{pathRef:n})),wt.createElement(z9,{points:r,clipPathId:t,props:a}))}function $9(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:p,onAnimationEnd:m,onAnimationStart:g}=n,y=i.current,v=qW(n,"recharts-line-"),[b,w]=wt.useState(!1),x=!b,_=wt.useCallback(()=>{"function"==typeof m&&m(),w(!1)},[m]),E=wt.useCallback(()=>{"function"==typeof g&&g(),w(!0)},[g]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(r.current),k=a.current;return wt.createElement(U9,{points:o,showLabels:x},n.children,wt.createElement(BW,{animationId:v,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:_,onAnimationStart:E,key:v},e=>{var c,u=bF(k,S+k,e),d=Math.min(u,S);if(l)if(s){var m="".concat(s).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,n)=>{var r=n.reduce((e,t)=>e+t);if(!r)return L9(t,e);for(var i=Math.floor(e/r),a=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){s=[...n.slice(0,l),a-c];break}var u=s.length%2==0?[0,o]:[o];return[...F9(n,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,S,m)}else c=L9(S,d);else c=null==s?void 0:String(s);if(y){var g=y.length/o.length,v=1===e?o:o.map((t,n)=>{var r=Math.floor(n*g);if(y[r]){var i=y[r];return I9(I9({},t),{},{x:bF(i.x,t.x,e),y:bF(i.y,t.y,e)})}return I9(I9({},t),{},h?{x:bF(2*f,t.x,e),y:bF(p/2,t.y,e)}:{x:t.x,y:t.y})});return i.current=v,wt.createElement(V9,{props:n,points:v,clipPathId:t,pathRef:r,strokeDasharray:c})}return e>0&&S>0&&(i.current=o,a.current=d),wt.createElement(V9,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:c})}),wt.createElement(i3,{label:n.label}))}function B9(e){var{clipPathId:t,props:n}=e,r=wt.useRef(null),i=wt.useRef(0),a=wt.useRef(null);return wt.createElement($9,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var q9=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:BB(e.payload,t)});class W9 extends wt.Component{render(){var e,{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:l,width:c,height:u,id:d,needClip:h}=this.props;if(t)return null;var f=dR("recharts-line",i),p=d,{r:m=3,strokeWidth:g=2}=null!==(e=LF(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},y=RF(n),v=2*m+g;return wt.createElement(wt.Fragment,null,wt.createElement(BF,{className:f},h&&wt.createElement("defs",null,wt.createElement(N6,{clipPathId:p,xAxisId:a,yAxisId:o}),!y&&wt.createElement("clipPath",{id:"clipPath-dots-".concat(p)},wt.createElement("rect",{x:l-v/2,y:s-v/2,width:c+v,height:u+v}))),wt.createElement(T6,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:q9,errorBarOffset:0},wt.createElement(B9,{props:this.props,clipPathId:p}))),wt.createElement(d6,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var K9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Gq,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function H9(e){var t=gW(e,K9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:p,id:m}=t,g=P9(t,A9),{needClip:y}=A6(f,p),v=s6(),b=Cq(),w=yq(),x=cV(e=>C9(e,f,p,w,m));if("horizontal"!==b&&"vertical"!==b||null==x||null==v)return null;var{height:_,width:E,x:S,y:k}=v;return wt.createElement(W9,D9({},g,{id:m,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:p,points:x,layout:b,height:_,width:E,left:S,top:k,needClip:y}))}function G9(e){var t=gW(e,K9),n=yq();return wt.createElement(F3,{id:t.id,type:"line"},e=>wt.createElement(wt.Fragment,null,wt.createElement(M3,{legendPayload:M9(t)}),wt.createElement(j3,{fn:R9,args:t}),wt.createElement(K3,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),wt.createElement(H9,D9({},t,{id:e}))))}var Y9=wt.memo(G9);Y9.displayName="Line";var Q9=["dangerouslySetInnerHTML","ticks"],Z9=["id"],X9=["domain"],J9=["domain"];function e8(){return e8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e8.apply(null,arguments)}function t8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n8(e){var t=aV();return wt.useEffect(()=>(t(Z3(e)),()=>{t(X3(e))}),[e,t]),null}var r8=e=>{var{xAxisId:t,className:n}=e,r=cV(mq),i=yq(),a="xAxis",o=cV(e=>XJ(e,a,t,i)),s=cV(e=>y0(e,a,t,i)),l=cV(e=>a0(e,t)),c=cV(e=>l0(e,t)),u=cV(e=>IX(e,t));if(null==l||null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h}=e,f=t8(e,Q9),{id:p}=u,m=t8(u,Z9);return wt.createElement(J5,e8({},f,m,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:dR("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s}))},i8={allowDataOverflow:NX.allowDataOverflow,allowDecimals:NX.allowDecimals,allowDuplicatedCategory:NX.allowDuplicatedCategory,height:NX.height,hide:!1,mirror:NX.mirror,orientation:NX.orientation,padding:NX.padding,reversed:NX.reversed,scale:NX.scale,tickCount:NX.tickCount,type:NX.type,xAxisId:0},a8=e=>{var t,n,r,i,a,o=gW(e,i8);return wt.createElement(wt.Fragment,null,wt.createElement(n8,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(i=o.minTickGap)&&void 0!==i?i:5,tick:null===(a=o.tick)||void 0===a||a,tickFormatter:o.tickFormatter}),wt.createElement(r8,o))},o8=(e,t)=>{var{domain:n}=e,r=t8(e,X9),{domain:i}=t;return!!I5(r,t8(t,J9))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:I5({domain:n},{domain:i}))},s8=wt.memo(a8,o8);s8.displayName="XAxis";var l8=["dangerouslySetInnerHTML","ticks"],c8=["id"],u8=["domain"],d8=["domain"];function h8(){return h8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h8.apply(null,arguments)}function f8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p8(e){var t=aV();return wt.useEffect(()=>(t(J3(e)),()=>{t(e6(e))}),[e,t]),null}var m8=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=wt.useRef(null),o=wt.useRef(null),s=cV(mq),l=yq(),c=aV(),u="yAxis",d=cV(e=>XJ(e,u,t,l)),h=cV(e=>u0(e,t)),f=cV(e=>c0(e,t)),p=cV(e=>y0(e,u,t,l)),m=cV(e=>DX(e,t));if(wt.useLayoutEffect(()=>{if("auto"===r&&h&&!z4(i)&&!wt.isValidElement(i)&&null!=m){var e=a.current;if(e){var n=e.getCalculatedWidth();Math.round(h.width)!==Math.round(n)&&c(r6({id:t,width:n}))}}},[p,h,c,i,t,r,m]),null==h||null==f||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=f8(e,l8),{id:b}=m,w=f8(m,c8);return wt.createElement(J5,h8({},v,w,{ref:a,labelRef:o,scale:d,x:f.x,y:f.y,tickTextProps:"auto"===r?{width:void 0}:{width:r},width:h.width,height:h.height,className:dR("recharts-".concat(u," ").concat(u),n),viewBox:s,ticks:p}))},g8={allowDataOverflow:PX.allowDataOverflow,allowDecimals:PX.allowDecimals,allowDuplicatedCategory:PX.allowDuplicatedCategory,hide:!1,mirror:PX.mirror,orientation:PX.orientation,padding:PX.padding,reversed:PX.reversed,scale:PX.scale,tickCount:PX.tickCount,type:PX.type,width:PX.width,yAxisId:0},y8=e=>{var t,n,r,i,a,o=gW(e,g8);return wt.createElement(wt.Fragment,null,wt.createElement(p8,{interval:null!==(t=o.interval)&&void 0!==t?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!==(n=o.includeHidden)&&void 0!==n&&n,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(r=o.angle)&&void 0!==r?r:0,minTickGap:null!==(i=o.minTickGap)&&void 0!==i?i:5,tick:null===(a=o.tick)||void 0===a||a,tickFormatter:o.tickFormatter}),wt.createElement(m8,o))},v8=(e,t)=>{var{domain:n}=e,r=f8(e,u8),{domain:i}=t;return!!I5(r,f8(t,d8))&&(Array.isArray(n)&&2===n.length&&Array.isArray(i)&&2===i.length?n[0]===i[0]&&n[1]===i[1]:I5({domain:n},{domain:i}))},b8=wt.memo(y8,v8);b8.displayName="YAxis";var w8=wt;"function"==typeof Object.is&&Object.is,w8.useSyncExternalStore,w8.useRef,w8.useEffect,w8.useMemo,w8.useDebugValue;var x8={notify(){},get:()=>[]};var _8=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),E8=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),S8=(()=>_8||E8?wt.useLayoutEffect:wt.useEffect)(),k8=Symbol.for("react-redux-context"),C8="undefined"!=typeof globalThis?globalThis:{};function O8(){if(!wt.createContext)return{};const e=C8[k8]??(C8[k8]=new Map);let t=e.get(wt.createContext);return t||(t=wt.createContext(null),e.set(wt.createContext,t)),t}var T8=O8();var A8=function(e){const{children:t,context:n,serverState:r,store:i}=e,a=wt.useMemo(()=>{const e=function(e){let t,n=x8,r=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function o(){r++,t||(t=e.subscribe(a),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){!function(e){e()}(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function s(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=x8)}const l={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),o=wt.useMemo(()=>i.getState(),[i]);S8(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]);const s=n||T8;return wt.createElement(s.Provider,{value:a},t)},N8=gV([(e,t)=>t,kq,gX,wX,O1,I1,X1,fq],(e,t,n,r,i,a,o,s)=>{if(e&&t&&r&&i&&a){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?FB({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var a,o=-1,s=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(uF(u-c)!==uF(d-u)){var f=[];if(uF(d-u)===uF(i[1]-i[0])){h=d;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+i[1]-i[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){({index:o}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}return o})(c,o,a,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=r;return VB(VB(VB({},r),MB(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return VB(VB(VB({},r),MB(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),I8=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},j8=N$("mouseClick"),P8=_B();P8.startListening({actionCreator:j8,effect:(e,t)=>{var n=e.payload,r=N8(t.getState(),I8(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(L0({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var D8=N$("mouseMove"),M8=_B();M8.startListening({actionCreator:D8,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=k0(r,r.tooltip.settings.shared),a=N8(r,I8(n));"axis"===i&&(null!=(null==a?void 0:a.activeIndex)?t.dispatch(R0({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(D0()))}});var R8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L8=B$({name:"rootProps",initialState:R8,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:R8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),F8=L8.reducer,{updateOptions:z8}=L8.actions,U8=B$({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:V8}=U8.actions,$8=U8.reducer,B8=N$("keyDown"),q8=N$("focus"),W8=_B();W8.startListening({actionCreator:B8,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(W0(r,o1(n))),o=I1(n);if("Enter"!==i){var s=a+("ArrowRight"===i?1:-1)*("left-to-right"===x0(n)?1:-1);if(!(null==o||s>=o.length||s<0)){var l=n2(n,"axis","hover",String(s));t.dispatch(z0({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=n2(n,"axis","hover",String(r.index));t.dispatch(z0({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),W8.startListening({actionCreator:q8,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=n2(n,"axis","hover",String("0"));t.dispatch(z0({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var K8=N$("externalEvent"),H8=_B();H8.startListening({actionCreator:K8,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:V1(n),activeDataKey:F1(n),activeIndex:R1(n),activeLabel:L1(n),activeTooltipIndex:R1(n),isTooltipActive:$1(n)};e.payload.handler(r,e.payload.reactEvent)}}});var G8=gV([Y0],e=>e.tooltipItemPayloads),Y8=gV([G8,G0,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,n)}}),Q8=N$("touchMove"),Z8=_B();Z8.startListening({actionCreator:Q8,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=k0(r,r.tooltip.settings.shared);if("axis"===i){var a=N8(r,I8({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(R0({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute("data-recharts-item-index"),u=null!==(o=l.getAttribute("data-recharts-item-data-key"))&&void 0!==o?o:void 0,d=Y8(t.getState(),c,u);t.dispatch(j0({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var X8=PV({brush:b5,cartesianAxis:i6,chartData:O2,errorBars:S6,graphicalItems:W3,layout:AB,legend:jq,options:w2,polarAxis:h3,polarOptions:$8,referenceElements:T5,rootProps:F8,tooltip:U0});function J8(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=yq(),a=wt.useRef(null);if(i)return n;null==a.current&&(a.current=function(e){return R$({reducer:X8,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([P8.middleware,M8.middleware,W8.middleware,H8.middleware,Z8.middleware]),devTools:Hq})}(t));var o=rV;return wt.createElement(A8,{context:o,store:a.current},n)}function e7(e){var{layout:t,width:n,height:r,margin:i}=e,a=aV(),o=yq();return wt.useEffect(()=>{o||(a(CB(t)),a(OB({width:n,height:r})),a(kB(i)))},[a,o,t,n,r,i]),null}function t7(e){var t=aV();return wt.useEffect(()=>{t(z8(e))},[t,e]),null}var n7=["children"];function r7(){return r7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r7.apply(null,arguments)}var i7={width:"100%",height:"100%"},a7=wt.forwardRef((e,t)=>{var n=Eq(),r=Sq(),i=Yq();if(!Zq(n)||!Zq(r))return null;var a,o,{children:s,otherAttributes:l,title:c,desc:u}=e;return a="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,o="string"==typeof l.role?l.role:i?"application":void 0,wt.createElement(UF,r7({},l,{title:c,desc:u,role:o,tabIndex:a,width:n,height:r,style:i7,ref:t}),s)}),o7=e=>{var{children:t}=e,n=cV(bq);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return wt.createElement(UF,{width:r,height:i,x:o,y:a},t)},s7=wt.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,n7);return yq()?wt.createElement(o7,null,n):wt.createElement(a7,r7({ref:t},r),n)});function l7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l7(Object(n),!0).forEach(function(t){u7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u7(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d7=wt.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:m,style:g,width:y}=e,v=aV(),[b,w]=wt.useState(null),[x,_]=wt.useState(null);D2();var E=function(){var e=aV(),[t,n]=wt.useState(null),r=cV(oq);return wt.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Qq(n)&&n!==r&&e(TB(n))}},[t,e,r]),n}(),S=wt.useCallback(e=>{E(e),"function"==typeof t&&t(e),w(e),_(e)},[E,t,w,_]),k=wt.useCallback(e=>{v(j8(e)),v(K8({handler:a,reactEvent:e}))},[v,a]),C=wt.useCallback(e=>{v(D8(e)),v(K8({handler:c,reactEvent:e}))},[v,c]),O=wt.useCallback(e=>{v(D0()),v(K8({handler:u,reactEvent:e}))},[v,u]),T=wt.useCallback(e=>{v(D8(e)),v(K8({handler:d,reactEvent:e}))},[v,d]),A=wt.useCallback(()=>{v(q8())},[v]),N=wt.useCallback(e=>{v(B8(e.key))},[v]),I=wt.useCallback(e=>{v(K8({handler:o,reactEvent:e}))},[v,o]),j=wt.useCallback(e=>{v(K8({handler:s,reactEvent:e}))},[v,s]),P=wt.useCallback(e=>{v(K8({handler:l,reactEvent:e}))},[v,l]),D=wt.useCallback(e=>{v(K8({handler:h,reactEvent:e}))},[v,h]),M=wt.useCallback(e=>{v(K8({handler:m,reactEvent:e}))},[v,m]),R=wt.useCallback(e=>{v(Q8(e)),v(K8({handler:p,reactEvent:e}))},[v,p]),L=wt.useCallback(e=>{v(K8({handler:f,reactEvent:e}))},[v,f]);return wt.createElement(f2.Provider,{value:b},wt.createElement(qF.Provider,{value:x},wt.createElement("div",{className:dR("recharts-wrapper",r),style:c7({position:"relative",cursor:"default",width:y,height:i},g),onClick:k,onContextMenu:I,onDoubleClick:j,onFocus:A,onKeyDown:N,onMouseDown:P,onMouseEnter:C,onMouseLeave:O,onMouseMove:T,onMouseUp:D,onTouchEnd:L,onTouchMove:R,onTouchStart:M,ref:S},n)))}),h7=["children","className","width","height","style","compact","title","desc"];var f7=wt.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,h7),d=IF(u);return s?wt.createElement(s7,{otherAttributes:d,title:l,desc:c},n):wt.createElement(d7,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},wt.createElement(s7,{otherAttributes:d,title:l,desc:c,ref:t},wt.createElement(N5,null,n)))}),p7=["width","height"];function m7(){return m7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m7.apply(null,arguments)}var g7={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},y7=wt.forwardRef(function(e,t){var n,r=gW(e.categoricalChartProps,g7),{width:i,height:a}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,p7);if(!Zq(i)||!Zq(a))return null;var{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,h={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return wt.createElement(J8,{preloadedState:{options:h},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:s},wt.createElement(m5,{chartData:d.data}),wt.createElement(e7,{width:i,height:a,layout:r.layout,margin:r.margin}),wt.createElement(t7,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),wt.createElement(f7,m7({},o,{width:i,height:a,ref:t})))}),v7=["axis"],b7=wt.forwardRef((e,t)=>wt.createElement(y7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v7,tooltipPayloadSearcher:v2,categoricalChartProps:e,ref:t})),w7=["axis","item"],x7=wt.forwardRef((e,t)=>wt.createElement(y7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w7,tooltipPayloadSearcher:v2,categoricalChartProps:e,ref:t}));const _7=pR("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80",secondary:"border-transparent bg-slate-100 text-slate-900",success:"border-transparent bg-emerald-100 text-emerald-700",warning:"border-transparent bg-amber-100 text-amber-800",destructive:"border-transparent bg-red-100 text-red-700",neutral:"border-transparent bg-slate-100 text-slate-600",outline:"text-slate-900"}},defaultVariants:{variant:"default"}});function E7({className:e,variant:t,...n}){return Nt.jsx("div",{className:dR(_7({variant:t}),e),...n})}function S7(){var e;const{user:t,loading:n}=wL(),r=!!t&&!n,{data:i,isLoading:a,isFetching:o,isError:s}=function(e={}){return Nm({queryKey:["dashboard"],queryFn:IL,staleTime:6e4,enabled:e.enabled})}({enabled:r});return n||a||r&&o&&!i?Nt.jsxs("div",{className:"flex flex-col gap-4",children:[Nt.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Array.from({length:4}).map((e,t)=>Nt.jsx(EL,{className:"animate-pulse border-transparent bg-white/60 shadow-none",children:Nt.jsxs(CL,{className:"space-y-3 p-5",children:[Nt.jsx("div",{className:"h-4 w-24 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-8 w-32 rounded-full bg-slate-300"})]})},t))}),Nt.jsx(EL,{className:"h-56 animate-pulse border-transparent bg-white/60 shadow-none"})]}):s&&r||!i?Nt.jsx(uL,{variant:"destructive",title:"No fue posible cargar el tablero",description:"Reintenta en unos segundos."}):Nt.jsxs("div",{className:"flex flex-col gap-6",children:[Nt.jsxs("section",{className:"grid gap-3 sm:grid-cols-2",children:[Nt.jsx(k7,{icon:YR,title:"Pedidos activos",highlight:i.pedidosActivos.toString(),helper:"Pedidos en curso o listos para entrega."}),Nt.jsx(k7,{icon:iL,title:"Cartera vencida",highlight:ML(i.carteraVencida),helper:"Saldo pendiente con fecha vencida.",tone:"error"}),Nt.jsx(k7,{icon:rL,title:"Flujo caja 7 días",highlight:ML(i.flujoCaja.reduce((e,t)=>e+t.monto,0)),helper:"Ingresos menos egresos de la semana.",tone:"success"}),Nt.jsx(k7,{icon:TR,title:"Entregas 3 días",highlight:i.entregasProximas.toString(),helper:"Pedidos con fecha compromiso próxima.",tone:"warning"})]}),Nt.jsxs("section",{className:"flex flex-col gap-4",children:[Nt.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Visión general"}),Nt.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[Nt.jsxs(EL,{className:"w-full",children:[Nt.jsx(SL,{className:"flex-row items-center justify-between",children:Nt.jsx(kL,{className:"text-base font-semibold",children:"Pedidos por estado"})}),Nt.jsx(CL,{className:"h-72 pb-6",children:i.pedidosPorEstado.length?Nt.jsx(Z2,{width:"100%",height:"100%",children:Nt.jsxs(x7,{data:i.pedidosPorEstado,children:[Nt.jsx(v9,{strokeDasharray:"3 3"}),Nt.jsx(s8,{dataKey:"estado",tick:{fontSize:12}}),Nt.jsx(b8,{allowDecimals:!1}),Nt.jsx($2,{}),Nt.jsx(t5,{dataKey:"total",fill:"#2563EB",radius:[12,12,0,0]})]})}):Nt.jsx(FL,{title:"Sin pedidos",description:"Registra pedidos para visualizar su distribución."})})]}),Nt.jsxs(EL,{className:"w-full",children:[Nt.jsx(SL,{className:"flex-row items-center justify-between",children:Nt.jsx(kL,{className:"text-base font-semibold",children:"Flujo de caja 7 días"})}),Nt.jsx(CL,{className:"h-72 pb-6",children:i.flujoCaja.length?Nt.jsx(Z2,{width:"100%",height:"100%",children:Nt.jsxs(b7,{data:i.flujoCaja.map(e=>({...e,fechaLabel:RL(e.fecha)})),children:[Nt.jsx(v9,{strokeDasharray:"3 3"}),Nt.jsx(s8,{dataKey:"fechaLabel",tick:{fontSize:12}}),Nt.jsx(b8,{}),Nt.jsx($2,{formatter:e=>ML(e)}),Nt.jsx(Y9,{type:"monotone",dataKey:"monto",stroke:"#0EA5E9",strokeWidth:3,dot:{r:3}})]})}):Nt.jsx(FL,{title:"Sin movimientos",description:"Registra ingresos o egresos en Caja."})})]})]})]}),Nt.jsxs("section",{className:"flex flex-col gap-4",children:[Nt.jsxs("div",{className:"flex items-center justify-between",children:[Nt.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Próximas entregas"}),Nt.jsxs(E7,{variant:"neutral",children:[(null==(e=i.proximasEntregas)?void 0:e.length)??0," pendientes"]})]}),Nt.jsx(EL,{children:Nt.jsx(CL,{className:"flex flex-col gap-3 p-4",children:i.proximasEntregas&&i.proximasEntregas.length?i.proximasEntregas.map(e=>{const t=Math.max(TL(e.fecha_compromiso).diff(TL(),"day"),0);return Nt.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-2xl border border-slate-200/60 bg-white px-4 py-3 shadow-sm",children:[Nt.jsxs("div",{className:"flex flex-col",children:[Nt.jsx("span",{className:"text-sm font-semibold text-slate-800",children:e.cliente}),Nt.jsxs("span",{className:"text-xs text-slate-500",children:["Folio ",e.folio]})]}),Nt.jsxs("div",{className:"flex flex-col items-end gap-1 text-xs",children:[Nt.jsx(E7,{variant:t<=1?"warning":"success",children:RL(e.fecha_compromiso)}),Nt.jsxs("span",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:[t," días"]})]})]},e.id)}):Nt.jsx(FL,{title:"Sin entregas programadas",description:"No hay pedidos próximos a entregar en los próximos 3 días."})})})]})]})}function k7({icon:e,title:t,highlight:n,helper:r,tone:i}){const a="error"===i?"bg-red-50 text-red-600":"success"===i?"bg-emerald-50 text-emerald-600":"warning"===i?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-600";return Nt.jsx(EL,{className:"border-none bg-white/90 shadow-sm",children:Nt.jsxs(CL,{className:"flex items-start gap-4 p-5",children:[Nt.jsx("span",{className:dR("flex h-11 w-11 items-center justify-center rounded-full",a),children:Nt.jsx(e,{className:"h-5 w-5"})}),Nt.jsxs("div",{className:"flex flex-col gap-1",children:[Nt.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:t}),Nt.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:n}),Nt.jsx("span",{className:"text-xs text-slate-500",children:r})]})]})})}const C7=dx({nombre_legal:jw().min(3,"Ingresa el nombre fiscal"),alias:jw().min(2,"Ingresa un alias"),rfc:jw().toUpperCase().regex(/^([A-ZÑ&]{3,4})(\d{2})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/,"RFC inválido"),email:jw().email("Correo inválido"),telefono:jw().regex(/^\d{10}$/,"Teléfono a 10 dígitos"),direccion:jw().min(5,"Dirección requerida"),ciudad:jw().min(2,"Ciudad requerida"),cp:jw().min(5,"Código postal requerido"),limite_credito:Ax().min(0).multipleOf(.01),dias_credito:Ax().int().min(0),estatus:mx(["ACTIVO","PAUSADO"])}),O7=dx({descripcion_item:jw().min(3),precio_unitario:Ax().min(0).multipleOf(.01),importe:Ax().min(0).multipleOf(.01)});dx({anticipo:Ax().min(0).multipleOf(.01),subtotal:Ax().min(0).multipleOf(.01),descuento:Ax().min(0).multipleOf(.01),impuestos:Ax().min(0).multipleOf(.01),total:Ax().min(0).multipleOf(.01),saldo:Ax().min(0).multipleOf(.01)}),dx({folio:jw().min(3),cliente_id:jw(),fecha_pedido:sx(),fecha_compromiso:sx(),status:mx(["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA","ENTREGADO","CERRADO","CANCELADO"]),prioridad:mx(["BAJA","MEDIA","ALTA"]),notas:jw().optional().default(""),anticipo:Ax().min(0).multipleOf(.01),subtotal:Ax().min(0).multipleOf(.01),descuento:Ax().min(0).multipleOf(.01),impuestos:Ax().min(0).multipleOf(.01),total:Ax().min(0).multipleOf(.01),saldo:Ax().min(0).multipleOf(.01),items:cx(O7).min(1)}),dx({pedido_id:jw(),cliente_id:jw(),fecha:sx(),monto:Ax().min(0).multipleOf(.01),metodo:mx(["EFECTIVO","TRANSFERENCIA","TARJETA"]),ref:jw().optional().default(""),notas:jw().optional().default("")}),dx({fecha:sx(),tipo:mx(["INGRESO","EGRESO"]),categoria:jw().min(2),monto:Ax().min(0).multipleOf(.01),referencia_pedido_id:jw().optional(),notas:jw().optional().default("")});const T7=dx({porcentaje_anticipo:Ax().min(0).max(100),dias_credito:Ax().min(0),politicas_credito:jw().optional().default(""),roles_visibles:cx(mx(["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"])).min(1)});function A7(e,[t,n]){return Math.min(n,Math.max(t,e))}function N7(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function I7(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>wt.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return wt.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const i=wt.createContext(r),a=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...s}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[a])||i,c=wt.useMemo(()=>s,Object.values(s));return Nt.jsx(l.Provider,{value:c,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var s;const l=(null==(s=null==o?void 0:o[e])?void 0:s[a])||i,c=wt.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},j7(r,...t)]}function j7(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return wt.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function P7(e){const t=e+"CollectionProvider",[n,r]=I7(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=xt.useRef(null),a=xt.useRef(new Map).current;return Nt.jsx(i,{scope:t,itemMap:a,collectionRef:r,children:n})};o.displayName=t;const s=e+"CollectionSlot",l=aR(s),c=xt.forwardRef((e,t)=>{const{scope:n,children:r}=e,i=iR(t,a(s,n).collectionRef);return Nt.jsx(l,{ref:i,children:r})});c.displayName=s;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=aR(u),f=xt.forwardRef((e,t)=>{const{scope:n,children:r,...i}=e,o=xt.useRef(null),s=iR(t,o),l=a(u,n);return xt.useEffect(()=>(l.itemMap.set(o,{ref:o,...i}),()=>{l.itemMap.delete(o)})),Nt.jsx(h,{[d]:"",ref:s,children:r})});return f.displayName=u,[{Provider:o,Slot:c,ItemSlot:f},function(t){const n=a(e+"CollectionConsumer",t),r=xt.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),r=Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return r},[n.collectionRef,n.itemMap]);return r},r]}var D7=wt.createContext(void 0);function M7(e){const t=wt.useContext(D7);return e||t||"ltr"}function R7(e){const t=wt.useRef(e);return wt.useEffect(()=>{t.current=e}),wt.useMemo(()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}var L7,F7="dismissableLayer.update",z7="dismissableLayer.pointerDownOutside",U7="dismissableLayer.focusOutside",V7=wt.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$7=wt.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=wt.useContext(V7),[u,d]=wt.useState(null),h=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,f]=wt.useState({}),p=iR(t,e=>d(e)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=R7(e),r=wt.useRef(!1),i=wt.useRef(()=>{});return wt.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){q7(z7,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));w&&!n&&(null==i||i(e),null==o||o(e),e.defaultPrevented||null==s||s())},h),_=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=R7(e),r=wt.useRef(!1);return wt.useEffect(()=>{const e=e=>{if(e.target&&!r.current){q7(U7,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(null==a||a(e),null==o||o(e),e.defaultPrevented||null==s||s())},h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=R7(e);wt.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{v===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},h),wt.useEffect(()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(L7=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),B7(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=L7)}},[u,h,n,c]),wt.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),B7())},[u,c]),wt.useEffect(()=>{const e=()=>f({});return document.addEventListener(F7,e),()=>document.removeEventListener(F7,e)},[]),Nt.jsx(vR.div,{...l,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:N7(e.onFocusCapture,_.onFocusCapture),onBlurCapture:N7(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:N7(e.onPointerDownCapture,x.onPointerDownCapture)})});$7.displayName="DismissableLayer";function B7(){const e=new CustomEvent(F7);document.dispatchEvent(e)}function q7(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Fh.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}wt.forwardRef((e,t)=>{const n=wt.useContext(V7),r=wt.useRef(null),i=iR(t,r);return wt.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),Nt.jsx(vR.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var W7=0;function K7(){wt.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H7()),document.body.insertAdjacentElement("beforeend",e[1]??H7()),W7++,()=>{1===W7&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),W7--}},[])}function H7(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var G7="focusScope.autoFocusOnMount",Y7="focusScope.autoFocusOnUnmount",Q7={bubbles:!1,cancelable:!0},Z7=wt.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=wt.useState(null),c=R7(i),u=R7(a),d=wt.useRef(null),h=iR(t,e=>l(e)),f=wt.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;wt.useEffect(()=>{if(r){let e=function(e){if(f.paused||!s)return;const t=e.target;s.contains(t)?d.current=t:tee(d.current,{select:!0})},t=function(e){if(f.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||tee(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&tee(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,s,f.paused]),wt.useEffect(()=>{if(s){nee.add(f);const t=document.activeElement;if(!s.contains(t)){const n=new CustomEvent(G7,Q7);s.addEventListener(G7,c),s.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(tee(r,{select:t}),document.activeElement!==n)return}((e=X7(s),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&tee(s))}return()=>{s.removeEventListener(G7,c),setTimeout(()=>{const e=new CustomEvent(Y7,Q7);s.addEventListener(Y7,u),s.dispatchEvent(e),e.defaultPrevented||tee(t??document.body,{select:!0}),s.removeEventListener(Y7,u),nee.remove(f)},0)}}var e},[s,c,u,f]);const p=wt.useCallback(e=>{if(!n&&!r)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,a]=function(e){const t=X7(e),n=J7(t,e),r=J7(t.reverse(),e);return[n,r]}(t);r&&a?e.shiftKey||i!==a?e.shiftKey&&i===r&&(e.preventDefault(),n&&tee(a,{select:!0})):(e.preventDefault(),n&&tee(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,f.paused]);return Nt.jsx(vR.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});function X7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J7(e,t){for(const n of e)if(!eee(n,{upTo:t}))return n}function eee(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function tee(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Z7.displayName="FocusScope";var nee=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=ree(e,t),e.unshift(t)},remove(t){var n;e=ree(e,t),null==(n=e[0])||n.resume()}}}();function ree(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var iee=(null==globalThis?void 0:globalThis.document)?wt.useLayoutEffect:()=>{},aee=_t[" useId ".trim().toString()]||(()=>{}),oee=0;function see(e){const[t,n]=wt.useState(aee());return iee(()=>{n(e=>e??String(oee++))},[e]),t?`radix-${t}`:""}const lee=["top","right","bottom","left"],cee=Math.min,uee=Math.max,dee=Math.round,hee=Math.floor,fee=e=>({x:e,y:e}),pee={left:"right",right:"left",bottom:"top",top:"bottom"},mee={start:"end",end:"start"};function gee(e,t,n){return uee(e,cee(t,n))}function yee(e,t){return"function"==typeof e?e(t):e}function vee(e){return e.split("-")[0]}function bee(e){return e.split("-")[1]}function wee(e){return"x"===e?"y":"x"}function xee(e){return"y"===e?"height":"width"}const _ee=new Set(["top","bottom"]);function Eee(e){return _ee.has(vee(e))?"y":"x"}function See(e){return wee(Eee(e))}function kee(e){return e.replace(/start|end/g,e=>mee[e])}const Cee=["left","right"],Oee=["right","left"],Tee=["top","bottom"],Aee=["bottom","top"];function Nee(e,t,n,r){const i=bee(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Oee:Cee:t?Cee:Oee;case"left":case"right":return t?Tee:Aee;default:return[]}}(vee(e),"start"===n,r);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(kee)))),a}function Iee(e){return e.replace(/left|right|bottom|top/g,e=>pee[e])}function jee(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Pee(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Dee(e,t,n){let{reference:r,floating:i}=e;const a=Eee(t),o=See(t),s=xee(o),l=vee(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(bee(t)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1)}return f}async function Mee(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=yee(t,e),p=jee(f),m=s[h?"floating"===d?"reference":"floating":d],g=Pee(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=Pee(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+p.top)/b.y,bottom:(w.bottom-g.bottom+p.bottom)/b.y,left:(g.left-w.left+p.left)/b.x,right:(w.right-g.right+p.right)/b.x}}function Ree(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lee(e){return lee.some(t=>e[t]>=0)}const Fee=new Set(["left","top"]);function zee(){return"undefined"!=typeof window}function Uee(e){return Bee(e)?(e.nodeName||"").toLowerCase():"#document"}function Vee(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $ee(e){var t;return null==(t=(Bee(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Bee(e){return!!zee()&&(e instanceof Node||e instanceof Vee(e).Node)}function qee(e){return!!zee()&&(e instanceof Element||e instanceof Vee(e).Element)}function Wee(e){return!!zee()&&(e instanceof HTMLElement||e instanceof Vee(e).HTMLElement)}function Kee(e){return!(!zee()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Vee(e).ShadowRoot)}const Hee=new Set(["inline","contents"]);function Gee(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ote(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Hee.has(i)}const Yee=new Set(["table","td","th"]);function Qee(e){return Yee.has(Uee(e))}const Zee=[":popover-open",":modal"];function Xee(e){return Zee.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const Jee=["transform","translate","scale","rotate","perspective"],ete=["transform","translate","scale","rotate","perspective","filter"],tte=["paint","layout","strict","content"];function nte(e){const t=rte(),n=qee(e)?ote(e):e;return Jee.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||ete.some(e=>(n.willChange||"").includes(e))||tte.some(e=>(n.contain||"").includes(e))}function rte(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ite=new Set(["html","body","#document"]);function ate(e){return ite.has(Uee(e))}function ote(e){return Vee(e).getComputedStyle(e)}function ste(e){return qee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lte(e){if("html"===Uee(e))return e;const t=e.assignedSlot||e.parentNode||Kee(e)&&e.host||$ee(e);return Kee(t)?t.host:t}function cte(e){const t=lte(e);return ate(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wee(t)&&Gee(t)?t:cte(t)}function ute(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=cte(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),o=Vee(i);if(a){const e=dte(o);return t.concat(o,o.visualViewport||[],Gee(i)?i:[],e&&n?ute(e):[])}return t.concat(i,ute(i,[],n))}function dte(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hte(e){const t=ote(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wee(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=dee(n)!==a||dee(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function fte(e){return qee(e)?e:e.contextElement}function pte(e){const t=fte(e);if(!Wee(t))return fee(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=hte(t);let o=(a?dee(n.width):n.width)/r,s=(a?dee(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const mte=fee(0);function gte(e){const t=Vee(e);return rte()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:mte}function yte(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=fte(e);let o=fee(1);t&&(r?qee(r)&&(o=pte(r)):o=pte(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Vee(e))&&t}(a,n,r)?gte(a):fee(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const e=Vee(a),t=r&&qee(r)?Vee(r):r;let n=e,i=dte(n);for(;i&&r&&t!==n;){const e=pte(i),t=i.getBoundingClientRect(),r=ote(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=o,n=Vee(i),i=dte(n)}}return Pee({width:u,height:d,x:l,y:c})}function vte(e,t){const n=ste(e).scrollLeft;return t?t.left+n:yte($ee(e)).left+n}function bte(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-vte(e,n),y:n.top+t.scrollTop}}const wte=new Set(["absolute","fixed"]);function xte(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Vee(e),r=$ee(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=rte();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const c=vte(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=25&&(a-=o)}else c<=25&&(a+=c);return{width:a,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=$ee(e),n=ste(e),r=e.ownerDocument.body,i=uee(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=uee(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vte(e);const s=-n.scrollTop;return"rtl"===ote(r).direction&&(o+=uee(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}($ee(e));else if(qee(t))r=function(e,t){const n=yte(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Wee(e)?pte(e):fee(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=gte(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Pee(r)}function _te(e,t){const n=lte(e);return!(n===t||!qee(n)||ate(n))&&("fixed"===ote(n).position||_te(n,t))}function Ete(e,t,n){const r=Wee(t),i=$ee(t),a="fixed"===n,o=yte(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=fee(0);function c(){l.x=vte(i)}if(r||!r&&!a)if(("body"!==Uee(t)||Gee(i))&&(s=ste(t)),r){const e=yte(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!r&&i&&c();const u=!i||r||a?fee(0):bte(i,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function Ste(e){return"static"===ote(e).position}function kte(e,t){if(!Wee(e)||"fixed"===ote(e).position)return null;if(t)return t(e);let n=e.offsetParent;return $ee(e)===n&&(n=n.ownerDocument.body),n}function Cte(e,t){const n=Vee(e);if(Xee(e))return n;if(!Wee(e)){let t=lte(e);for(;t&&!ate(t);){if(qee(t)&&!Ste(t))return t;t=lte(t)}return n}let r=kte(e,t);for(;r&&Qee(r)&&Ste(r);)r=kte(r,t);return r&&ate(r)&&Ste(r)&&!nte(r)?n:r||function(e){let t=lte(e);for(;Wee(t)&&!ate(t);){if(nte(t))return t;if(Xee(t))return null;t=lte(t)}return null}(e)||n}const Ote={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,o=$ee(r),s=!!t&&Xee(t.floating);if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=fee(1);const u=fee(0),d=Wee(r);if((d||!d&&!a)&&(("body"!==Uee(r)||Gee(o))&&(l=ste(r)),Wee(r))){const e=yte(r);c=pte(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!o||d||a?fee(0):bte(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:$ee,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?Xee(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=ute(e,[],!1).filter(e=>qee(e)&&"body"!==Uee(e)),i=null;const a="fixed"===ote(e).position;let o=a?lte(e):e;for(;qee(o)&&!ate(o);){const t=ote(o),n=nte(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&wte.has(i.position)||Gee(o)&&!n&&_te(e,o))?r=r.filter(e=>e!==o):i=t,o=lte(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{const r=xte(t,n,i);return e.top=uee(r.top,e.top),e.right=cee(r.right,e.right),e.bottom=cee(r.bottom,e.bottom),e.left=uee(r.left,e.left),e},xte(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Cte,getElementRects:async function(e){const t=this.getOffsetParent||Cte,n=this.getDimensions,r=await n(e.floating);return{reference:Ete(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=hte(e);return{width:t,height:n}},getScale:pte,isElement:qee,isRTL:function(e){return"rtl"===ote(e).direction}};function Tte(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ate(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=fte(e),u=i||a?[...c?ute(c):[],...ute(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const d=c&&s?function(e,t){let n,r=null;const i=$ee(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(s||t(),!h||!f)return;const p={rootMargin:-hee(d)+"px "+-hee(i.clientWidth-(u+h))+"px "+-hee(i.clientHeight-(d+f))+"px "+-hee(u)+"px",threshold:uee(0,cee(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||Tte(c,e.getBoundingClientRect())||o(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(y){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),a}(c,n):null;let h,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?yte(e):null;return l&&function t(){const r=yte(e);m&&!Tte(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Nte=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=vee(n),s=bee(n),l="y"===Eee(n),c=Fee.has(o)?-1:1,u=a&&l?-1:1,d=yee(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return o===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Ite=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=yee(e,t),c={x:n,y:r},u=await Mee(t,l),d=Eee(vee(i)),h=wee(d);let f=c[h],p=c[d];if(a){const e="y"===h?"bottom":"right";f=gee(f+u["y"===h?"top":"left"],f,f-u[e])}if(o){const e="y"===d?"bottom":"right";p=gee(p+u["y"===d?"top":"left"],p,p-u[e])}const m=s.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:a,[d]:o}}}}}},jte=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=yee(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const y=vee(i),v=Eee(s),b=vee(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(b||!m?[Iee(s)]:function(e){const t=Iee(e);return[kee(e),t,kee(t)]}(s)),_="none"!==p;!h&&_&&x.push(...Nee(s,m,p,w));const E=[s,...x],S=await Mee(t,g),k=[];let C=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&k.push(S[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=bee(e),i=See(e),a=xee(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Iee(o)),[o,Iee(o)]}(i,o,w);k.push(S[e[0]],S[e[1]])}if(C=[...C,{placement:i,overflows:k}],!k.every(e=>e<=0)){var O,T;const e=((null==(O=a.flip)?void 0:O.index)||0)+1,t=E[e];if(t){if(!("alignment"===d&&v!==Eee(t))||C.every(e=>Eee(e.placement)!==v||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let n=null==(T=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var A;const e=null==(A=C.filter(e=>{if(_){const t=Eee(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},Pte=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=yee(e,t),u=await Mee(t,c),d=vee(i),h=bee(i),f="y"===Eee(i),{width:p,height:m}=a.floating;let g,y;"top"===d||"bottom"===d?(g=d,y=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=d,g="end"===h?"top":"bottom");const v=m-u.top-u.bottom,b=p-u.left-u.right,w=cee(m-u[g],v),x=cee(p-u[y],b),_=!t.middlewareData.shift;let E=w,S=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(E=v),_&&!h){const e=uee(u.left,0),t=uee(u.right,0),n=uee(u.top,0),r=uee(u.bottom,0);f?S=p-2*(0!==e||0!==t?e+t:uee(u.left,u.right)):E=m-2*(0!==n||0!==r?n+r:uee(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:E});const k=await o.getDimensions(s.floating);return p!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}},Dte=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=yee(e,t);switch(r){case"referenceHidden":{const e=Ree(await Mee(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Lee(e)}}}case"escaped":{const e=Ree(await Mee(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Lee(e)}}}default:return{}}}}},Mte=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=yee(e,t)||{};if(null==c)return{};const d=jee(u),h={x:n,y:r},f=See(i),p=xee(f),m=await o.getDimensions(c),g="y"===f,y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=a.reference[p]+a.reference[f]-h[f]-a.floating[p],x=h[f]-a.reference[f],_=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let E=_?_[b]:0;E&&await(null==o.isElement?void 0:o.isElement(_))||(E=s.floating[b]||a.floating[p]);const S=w/2-x/2,k=E/2-m[p]/2-1,C=cee(d[y],k),O=cee(d[v],k),T=C,A=E-m[p]-O,N=E/2-m[p]/2+S,I=gee(T,N,A),j=!l.arrow&&null!=bee(i)&&N!==I&&a.reference[p]/2-(N<T?C:O)-m[p]/2<0,P=j?N<T?N-T:N-A:0;return{[f]:h[f]+P,data:{[f]:I,centerOffset:N-I-P,...j&&{alignmentOffset:P}},reset:j}}}),Rte=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=yee(e,t),u={x:n,y:r},d=Eee(i),h=wee(d);let f=u[h],p=u[d];const m=yee(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,n=a.reference[h]+a.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var y,v;const e="y"===h?"width":"height",t=Fee.has(vee(i)),n=a.reference[d]-a.floating[e]+(t&&(null==(y=o.offset)?void 0:y[d])||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:(null==(v=o.offset)?void 0:v[d])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[d]:p}}}},Lte=(e,t,n)=>{const r=new Map,i={platform:Ote,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Dee(c,r,l),h=r,f={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:a}=s[m],{x:g,y:y,data:v,reset:b}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,f={...f,[n]:{...f[n],...v}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=Dee(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};var Fte="undefined"!=typeof document?wt.useLayoutEffect:function(){};function zte(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!zte(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!zte(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Ute(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vte(e,t){const n=Ute(e);return Math.round(t*n)/n}function $te(e){const t=wt.useRef(e);return Fte(()=>{t.current=e}),t}const Bte=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?Mte({element:n.current,padding:r}).fn(t):{}:n?Mte({element:n,padding:r}).fn(t):{};var i}}),qte=(e,t)=>({...Nte(e),options:[e,t]}),Wte=(e,t)=>({...Ite(e),options:[e,t]}),Kte=(e,t)=>({...Rte(e),options:[e,t]}),Hte=(e,t)=>({...jte(e),options:[e,t]}),Gte=(e,t)=>({...Pte(e),options:[e,t]}),Yte=(e,t)=>({...Dte(e),options:[e,t]}),Qte=(e,t)=>({...Bte(e),options:[e,t]});var Zte=wt.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return Nt.jsx(vR.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:Nt.jsx("polygon",{points:"0,0 30,0 15,10"})})});Zte.displayName="Arrow";var Xte=Zte;var Jte="Popper",[ene,tne]=I7(Jte),[nne,rne]=ene(Jte),ine=e=>{const{__scopePopper:t,children:n}=e,[r,i]=wt.useState(null);return Nt.jsx(nne,{scope:t,anchor:r,onAnchorChange:i,children:n})};ine.displayName=Jte;var ane="PopperAnchor",one=wt.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=rne(ane,n),o=wt.useRef(null),s=iR(t,o),l=wt.useRef(null);return wt.useEffect(()=>{const e=l.current;l.current=(null==r?void 0:r.current)||o.current,e!==l.current&&a.onAnchorChange(l.current)}),r?null:Nt.jsx(vR.div,{...i,ref:s})});one.displayName=ane;var sne="PopperContent",[lne,cne]=ene(sne),une=wt.forwardRef((e,t)=>{var n,r,i,a,o,s;const{__scopePopper:l,side:c="bottom",sideOffset:u=0,align:d="center",alignOffset:h=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:w,...x}=e,_=rne(sne,l),[E,S]=wt.useState(null),k=iR(t,e=>S(e)),[C,O]=wt.useState(null),T=function(e){const[t,n]=wt.useState(void 0);return iee(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(C),A=(null==T?void 0:T.width)??0,N=(null==T?void 0:T.height)??0,I=c+("center"!==d?"-"+d:""),j="number"==typeof g?g:{top:0,right:0,bottom:0,left:0,...g},P=Array.isArray(m)?m:[m],D=P.length>0,M={padding:j,boundary:P.filter(pne),altBoundary:D},{refs:R,floatingStyles:L,placement:F,isPositioned:z,middlewareData:U}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=wt.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=wt.useState(r);zte(h,r)||f(r);const[p,m]=wt.useState(null),[g,y]=wt.useState(null),v=wt.useCallback(e=>{e!==_.current&&(_.current=e,m(e))},[]),b=wt.useCallback(e=>{e!==E.current&&(E.current=e,y(e))},[]),w=a||p,x=o||g,_=wt.useRef(null),E=wt.useRef(null),S=wt.useRef(u),k=null!=l,C=$te(l),O=$te(i),T=$te(c),A=wt.useCallback(()=>{if(!_.current||!E.current)return;const e={placement:t,strategy:n,middleware:h};O.current&&(e.platform=O.current),Lte(_.current,E.current,e).then(e=>{const t={...e,isPositioned:!1!==T.current};N.current&&!zte(S.current,t)&&(S.current=t,Fh.flushSync(()=>{d(t)}))})},[h,t,n,O,T]);Fte(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);const N=wt.useRef(!1);Fte(()=>(N.current=!0,()=>{N.current=!1}),[]),Fte(()=>{if(w&&(_.current=w),x&&(E.current=x),w&&x){if(C.current)return C.current(w,x,A);A()}},[w,x,A,C,k]);const I=wt.useMemo(()=>({reference:_,floating:E,setReference:v,setFloating:b}),[v,b]),j=wt.useMemo(()=>({reference:w,floating:x}),[w,x]),P=wt.useMemo(()=>{const e={position:n,left:0,top:0};if(!j.floating)return e;const t=Vte(j.floating,u.x),r=Vte(j.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+r+"px)",...Ute(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,s,j.floating,u.x,u.y]);return wt.useMemo(()=>({...u,update:A,refs:I,elements:j,floatingStyles:P}),[u,A,I,j,P])}({strategy:"fixed",placement:I,whileElementsMounted:(...e)=>Ate(...e,{animationFrame:"always"===b}),elements:{reference:_.anchor},middleware:[qte({mainAxis:u+N,alignmentAxis:h}),p&&Wte({mainAxis:!0,crossAxis:!1,limiter:"partial"===y?Kte():void 0,...M}),p&&Hte({...M}),Gte({...M,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}}),C&&Qte({element:C,padding:f}),mne({arrowWidth:A,arrowHeight:N}),v&&Yte({strategy:"referenceHidden",...M})]}),[V,$]=gne(F),B=R7(w);iee(()=>{z&&(null==B||B())},[z,B]);const q=null==(n=U.arrow)?void 0:n.x,W=null==(r=U.arrow)?void 0:r.y,K=0!==(null==(i=U.arrow)?void 0:i.centerOffset),[H,G]=wt.useState();return iee(()=>{E&&G(window.getComputedStyle(E).zIndex)},[E]),Nt.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:z?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[null==(a=U.transformOrigin)?void 0:a.x,null==(o=U.transformOrigin)?void 0:o.y].join(" "),...(null==(s=U.hide)?void 0:s.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:Nt.jsx(lne,{scope:l,placedSide:V,onArrowChange:O,arrowX:q,arrowY:W,shouldHideArrow:K,children:Nt.jsx(vR.div,{"data-side":V,"data-align":$,...x,ref:k,style:{...x.style,animation:z?void 0:"none"}})})})});une.displayName=sne;var dne="PopperArrow",hne={top:"bottom",right:"left",bottom:"top",left:"right"},fne=wt.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,i=cne(dne,n),a=hne[i.placedSide];return Nt.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:Nt.jsx(Xte,{...r,ref:t,style:{...r.style,display:"block"}})})});function pne(e){return null!==e}fne.displayName=dne;var mne=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i;const{placement:a,rects:o,middlewareData:s}=t,l=0!==(null==(n=s.arrow)?void 0:n.centerOffset),c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,h]=gne(a),f={start:"0%",center:"50%",end:"100%"}[h],p=((null==(r=s.arrow)?void 0:r.x)??0)+c/2,m=((null==(i=s.arrow)?void 0:i.y)??0)+u/2;let g="",y="";return"bottom"===d?(g=l?f:`${p}px`,y=-u+"px"):"top"===d?(g=l?f:`${p}px`,y=`${o.floating.height+u}px`):"right"===d?(g=-u+"px",y=l?f:`${m}px`):"left"===d&&(g=`${o.floating.width+u}px`,y=l?f:`${m}px`),{data:{x:g,y:y}}}});function gne(e){const[t,n="center"]=e.split("-");return[t,n]}var yne=ine,vne=one,bne=une,wne=fne,xne=wt.forwardRef((e,t)=>{var n;const{container:r,...i}=e,[a,o]=wt.useState(!1);iee(()=>o(!0),[]);const s=r||a&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return s?zh.createPortal(Nt.jsx(vR.div,{...i,ref:t}),s):null});xne.displayName="Portal";var _ne=_t[" useInsertionEffect ".trim().toString()]||iee;function Ene({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=function({defaultProp:e,onChange:t}){const[n,r]=wt.useState(e),i=wt.useRef(n),a=wt.useRef(t);return _ne(()=>{a.current=t},[t]),wt.useEffect(()=>{var e;i.current!==n&&(null==(e=a.current)||e.call(a,n),i.current=n)},[n,i]),[n,r,a]}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:i;{const t=wt.useRef(void 0!==e);wt.useEffect(()=>{const e=t.current;if(e!==s){const t=e?"controlled":"uncontrolled",n=s?"controlled":"uncontrolled";console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}const c=wt.useCallback(t=>{var n;if(s){const r=function(e){return"function"==typeof e}(t)?t(e):t;r!==e&&(null==(n=o.current)||n.call(o,r))}else a(t)},[s,e,a,o]);return[l,c]}var Sne=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});wt.forwardRef((e,t)=>Nt.jsx(vR.span,{...e,ref:t,style:{...Sne,...e.style}})).displayName="VisuallyHidden";var kne=new WeakMap,Cne=new WeakMap,One={},Tne=0,Ane=function(e){return e&&(e.host||Ane(e.parentNode))},Nne=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Ane(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);One[n]||(One[n]=new WeakMap);var a=One[n],o=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(kne.get(e)||0)+1,c=(a.get(e)||0)+1;kne.set(e,l),a.set(e,c),o.push(e),1===l&&i&&Cne.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(jL){console.error("aria-hidden: cannot operate on ",e,jL)}})};return u(t),s.clear(),Tne++,function(){o.forEach(function(e){var t=kne.get(e)-1,i=a.get(e)-1;kne.set(e,t),a.set(e,i),t||(Cne.has(e)||e.removeAttribute(r),Cne.delete(e)),i||e.removeAttribute(n)}),--Tne||(kne=new WeakMap,kne=new WeakMap,Cne=new WeakMap,One={})}},Ine=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Nne(r,i,n,"aria-hidden")):function(){return null}},jne=function(){return jne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jne.apply(this,arguments)};function Pne(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var Dne="right-scroll-bar-position",Mne="width-before-scroll-bar";function Rne(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Lne="undefined"!=typeof window?wt.useLayoutEffect:wt.useEffect,Fne=new WeakMap;function zne(e,t){var n=function(e,t){var n=wt.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(null,function(t){return e.forEach(function(e){return Rne(e,t)})});return Lne(function(){var t=Fne.get(n);if(t){var r=new Set(t),i=new Set(e),a=n.current;r.forEach(function(e){i.has(e)||Rne(e,null)}),i.forEach(function(e){r.has(e)||Rne(e,a)})}Fne.set(n,e)},[e]),n}function Une(e){return e}var Vne=function(e){var t=e.sideCar,n=Pne(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return wt.createElement(r,jne({},n))};Vne.isSideCarExport=!0;var $ne=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Une);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=jne({async:!0,ssr:!1},e),t}(),Bne=function(){},qne=wt.forwardRef(function(e,t){var n=wt.useRef(null),r=wt.useState({onScrollCapture:Bne,onWheelCapture:Bne,onTouchMoveCapture:Bne}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=void 0===y?"div":y,b=e.gapMode,w=Pne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,_=zne([n,t]),E=jne(jne({},w),i);return wt.createElement(wt.Fragment,null,u&&wt.createElement(x,{sideCar:$ne,removeScrollBar:c,shards:d,noRelative:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?wt.cloneElement(wt.Children.only(s),jne(jne({},E),{ref:_})):wt.createElement(v,jne({},E,{className:l,ref:_}),s))});qne.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},qne.classNames={fullWidth:Mne,zeroRight:Dne};function Wne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Kne=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=Wne())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hne=function(){var e,t=(e=Kne(),function(t,n){wt.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Gne={left:0,top:0,right:0,gap:0},Yne=function(e){return parseInt(e||"",10)||0},Qne=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Gne;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Yne(n),Yne(r),Yne(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Zne=Hne(),Xne="data-scroll-locked",Jne=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(Xne,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Dne," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Mne," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Dne," .").concat(Dne," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Mne," .").concat(Mne," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Xne,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},ere=function(){var e=parseInt(document.body.getAttribute(Xne)||"0",10);return isFinite(e)?e:0},tre=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;wt.useEffect(function(){return document.body.setAttribute(Xne,(ere()+1).toString()),function(){var e=ere()-1;e<=0?document.body.removeAttribute(Xne):document.body.setAttribute(Xne,e.toString())}},[]);var a=wt.useMemo(function(){return Qne(i)},[i]);return wt.createElement(Zne,{styles:Jne(a,!t,i,n?"":"!important")})},nre=!1;if("undefined"!=typeof window)try{var rre=Object.defineProperty({},"passive",{get:function(){return nre=!0,!0}});window.addEventListener("test",rre,rre),window.removeEventListener("test",rre,rre)}catch(xse){nre=!1}var ire=!!nre&&{passive:!1},are=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},ore=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),sre(e,r)){var i=lre(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sre=function(e,t){return"v"===e?function(e){return are(e,"overflowY")}(t):function(e){return are(e,"overflowX")}(t)},lre=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},cre=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ure=function(e){return[e.deltaX,e.deltaY]},dre=function(e){return e&&"current"in e?e.current:e},hre=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},fre=0,pre=[];function mre(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gre=(yre=function(e){var t=wt.useRef([]),n=wt.useRef([0,0]),r=wt.useRef(),i=wt.useState(fre++)[0],a=wt.useState(Hne)[0],o=wt.useRef(e);wt.useEffect(function(){o.current=e},[e]),wt.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(dre),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=wt.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,a=cre(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=ore(d,u);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=ore(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,s=t.contains(o),l=!1,c=a>0,u=0,d=0;do{if(!o)break;var h=lre(e,o),f=h[0],p=h[1]-h[2]-i*f;(f||p)&&sre(e,o)&&(u+=p,d+=f);var m=o.parentNode;o=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(f,t,e,"h"===f?l:c)},[]),l=wt.useCallback(function(e){var n=e;if(pre.length&&pre[pre.length-1]===a){var r="deltaY"in n?ure(n):cre(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(o.current.shards||[]).map(dre).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?s(n,l[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=wt.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:mre(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=wt.useCallback(function(e){n.current=cre(e),r.current=void 0},[]),d=wt.useCallback(function(t){c(t.type,ure(t),t.target,s(t,e.lockRef.current))},[]),h=wt.useCallback(function(t){c(t.type,cre(t),t.target,s(t,e.lockRef.current))},[]);wt.useEffect(function(){return pre.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ire),document.addEventListener("touchmove",l,ire),document.addEventListener("touchstart",u,ire),function(){pre=pre.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,ire),document.removeEventListener("touchmove",l,ire),document.removeEventListener("touchstart",u,ire)}},[]);var f=e.removeScrollBar,p=e.inert;return wt.createElement(wt.Fragment,null,p?wt.createElement(a,{styles:hre(i)}):null,f?wt.createElement(tre,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},$ne.useMedium(yre),Vne);var yre,vre=wt.forwardRef(function(e,t){return wt.createElement(qne,jne({},e,{ref:t,sideCar:gre}))});vre.classNames=qne.classNames;var bre=[" ","Enter","ArrowUp","ArrowDown"],wre=[" ","Enter"],xre="Select",[_re,Ere,Sre]=P7(xre),[kre]=I7(xre,[Sre,tne]),Cre=tne(),[Ore,Tre]=kre(xre),[Are,Nre]=kre(xre),Ire=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:p}=e,m=Cre(t),[g,y]=wt.useState(null),[v,b]=wt.useState(null),[w,x]=wt.useState(!1),_=M7(c),[E,S]=Ene({prop:r,defaultProp:i??!1,onChange:a,caller:xre}),[k,C]=Ene({prop:o,defaultProp:s,onChange:l,caller:xre}),O=wt.useRef(null),T=!g||(p||!!g.closest("form")),[A,N]=wt.useState(new Set),I=Array.from(A).map(e=>e.props.value).join(";");return Nt.jsx(yne,{...m,children:Nt.jsxs(Ore,{required:f,scope:t,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:see(),value:k,onValueChange:C,open:E,onOpenChange:S,dir:_,triggerPointerDownPosRef:O,disabled:h,children:[Nt.jsx(_re.Provider,{scope:t,children:Nt.jsx(Are,{scope:e.__scopeSelect,onNativeOptionAdd:wt.useCallback(e=>{N(t=>new Set(t).add(e))},[]),onNativeOptionRemove:wt.useCallback(e=>{N(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),T?Nt.jsxs(fie,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>C(e.target.value),disabled:h,form:p,children:[void 0===k?Nt.jsx("option",{value:""}):null,Array.from(A)]},I):null]})})};Ire.displayName=xre;var jre="SelectTrigger",Pre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Cre(n),o=Tre(jre,n),s=o.disabled||r,l=iR(t,o.onTriggerChange),c=Ere(n),u=wt.useRef("touch"),[d,h,f]=mie(e=>{const t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=gie(t,e,n);void 0!==r&&o.onValueChange(r.value)}),p=e=>{s||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return Nt.jsx(vne,{asChild:!0,...a,children:Nt.jsx(vR.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":pie(o.value)?"":void 0,...i,ref:l,onClick:N7(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&p(e)}),onPointerDown:N7(i.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())}),onKeyDown:N7(i.onKeyDown,e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||bre.includes(e.key)&&(p(),e.preventDefault())})})})});Pre.displayName=jre;var Dre="SelectValue",Mre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...s}=e,l=Tre(Dre,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==a,d=iR(t,l.onValueNodeChange);return iee(()=>{c(u)},[c,u]),Nt.jsx(vR.span,{...s,ref:d,style:{pointerEvents:"none"},children:pie(l.value)?Nt.jsx(Nt.Fragment,{children:o}):a})});Mre.displayName=Dre;var Rre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return Nt.jsx(vR.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});Rre.displayName="SelectIcon";var Lre=e=>Nt.jsx(xne,{asChild:!0,...e});Lre.displayName="SelectPortal";var Fre="SelectContent",zre=wt.forwardRef((e,t)=>{const n=Tre(Fre,e.__scopeSelect),[r,i]=wt.useState();if(iee(()=>{i(new DocumentFragment)},[]),!n.open){const t=r;return t?Fh.createPortal(Nt.jsx(Vre,{scope:e.__scopeSelect,children:Nt.jsx(_re.Slot,{scope:e.__scopeSelect,children:Nt.jsx("div",{children:e.children})})}),t):null}return Nt.jsx(qre,{...e,ref:t})});zre.displayName=Fre;var Ure=10,[Vre,$re]=kre(Fre),Bre=aR("SelectContent.RemoveScroll"),qre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...y}=e,v=Tre(Fre,n),[b,w]=wt.useState(null),[x,_]=wt.useState(null),E=iR(t,e=>w(e)),[S,k]=wt.useState(null),[C,O]=wt.useState(null),T=Ere(n),[A,N]=wt.useState(!1),I=wt.useRef(!1);wt.useEffect(()=>{if(b)return Ine(b)},[b]),K7();const j=wt.useCallback(e=>{const[t,...n]=T().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(const a of e){if(a===i)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&x&&(x.scrollTop=0),a===r&&x&&(x.scrollTop=x.scrollHeight),null==a||a.focus(),document.activeElement!==i)return}},[T,x]),P=wt.useCallback(()=>j([S,b]),[j,S,b]);wt.useEffect(()=>{A&&P()},[A,P]);const{onOpenChange:D,triggerPointerDownPosRef:M}=v;wt.useEffect(()=>{if(b){let e={x:0,y:0};const t=t=>{var n,r;e={x:Math.abs(Math.round(t.pageX)-((null==(n=M.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(r=M.current)?void 0:r.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||D(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[b,D,M]),wt.useEffect(()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[D]);const[R,L]=mie(e=>{const t=T().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=gie(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),F=wt.useCallback((e,t,n)=>{const r=!I.current&&!n;(void 0!==v.value&&v.value===t||r)&&(k(e),r&&(I.current=!0))},[v.value]),z=wt.useCallback(()=>null==b?void 0:b.focus(),[b]),U=wt.useCallback((e,t,n)=>{const r=!I.current&&!n;(void 0!==v.value&&v.value===t||r)&&O(e)},[v.value]),V="popper"===r?Kre:Wre,$=V===Kre?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return Nt.jsx(Vre,{scope:n,content:b,viewport:x,onViewportChange:_,itemRefCallback:F,selectedItem:S,onItemLeave:z,itemTextRefCallback:U,focusSelectedItem:P,selectedItemText:C,position:r,isPositioned:A,searchRef:R,children:Nt.jsx(vre,{as:Bre,allowPinchZoom:!0,children:Nt.jsx(Z7,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:N7(i,e=>{var t;null==(t=v.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:Nt.jsx($7,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:Nt.jsx(V,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...y,...$,onPlaced:()=>N(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:N7(y.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>j(t)),e.preventDefault()}})})})})})})});qre.displayName="SelectContentImpl";var Wre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Tre(Fre,n),o=$re(Fre,n),[s,l]=wt.useState(null),[c,u]=wt.useState(null),d=iR(t,e=>u(e)),h=Ere(n),f=wt.useRef(!1),p=wt.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:v}=o,b=wt.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&m&&g&&y){const e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),i=y.getBoundingClientRect();if("rtl"!==a.dir){const r=i.left-t.left,a=n.left-r,o=e.left-a,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-Ure,d=A7(a,[Ure,Math.max(Ure,u-c)]);s.style.minWidth=l+"px",s.style.left=d+"px"}else{const r=t.right-i.right,a=window.innerWidth-n.right-r,o=window.innerWidth-e.right-a,l=e.width+o,c=Math.max(l,t.width),u=window.innerWidth-Ure,d=A7(a,[Ure,Math.max(Ure,u-c)]);s.style.minWidth=l+"px",s.style.right=d+"px"}const o=h(),l=window.innerHeight-2*Ure,u=m.scrollHeight,d=window.getComputedStyle(c),p=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),w=p+v+u+parseInt(d.paddingBottom,10)+b,x=Math.min(5*g.offsetHeight,w),_=window.getComputedStyle(m),E=parseInt(_.paddingTop,10),S=parseInt(_.paddingBottom,10),k=e.top+e.height/2-Ure,C=l-k,O=g.offsetHeight/2,T=p+v+(g.offsetTop+O),A=w-T;if(T<=k){const e=o.length>0&&g===o[o.length-1].ref.current;s.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=T+Math.max(C,O+(e?S:0)+t+b);s.style.height=n+"px"}else{const e=o.length>0&&g===o[0].ref.current;s.style.top="0px";const t=Math.max(k,p+m.offsetTop+(e?E:0)+O)+A;s.style.height=t+"px",m.scrollTop=T-k+m.offsetTop}s.style.margin=`${Ure}px 0`,s.style.minHeight=x+"px",s.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame(()=>f.current=!0)}},[h,a.trigger,a.valueNode,s,c,m,g,y,a.dir,r]);iee(()=>b(),[b]);const[w,x]=wt.useState();iee(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);const _=wt.useCallback(e=>{e&&!0===p.current&&(b(),null==v||v(),p.current=!1)},[b,v]);return Nt.jsx(Hre,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:f,onScrollButtonChange:_,children:Nt.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:Nt.jsx(vR.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Wre.displayName="SelectItemAlignedPosition";var Kre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ure,...a}=e,o=Cre(n);return Nt.jsx(bne,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kre.displayName="SelectPopperPosition";var[Hre,Gre]=kre(Fre,{}),Yre="SelectViewport",Qre=wt.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=$re(Yre,n),o=Gre(Yre,n),s=iR(t,a.onViewportChange),l=wt.useRef(0);return Nt.jsxs(Nt.Fragment,{children:[Nt.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),Nt.jsx(_re.Slot,{scope:n,children:Nt.jsx(vR.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:N7(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if((null==r?void 0:r.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Ure,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),o=Math.max(i,a);if(o<r){const i=o+e,a=Math.min(r,i),s=i-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});Qre.displayName=Yre;var Zre="SelectGroup",[Xre,Jre]=kre(Zre);wt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=see();return Nt.jsx(Xre,{scope:n,id:i,children:Nt.jsx(vR.div,{role:"group","aria-labelledby":i,...r,ref:t})})}).displayName=Zre;var eie="SelectLabel";wt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Jre(eie,n);return Nt.jsx(vR.div,{id:i.id,...r,ref:t})}).displayName=eie;var tie="SelectItem",[nie,rie]=kre(tie),iie=wt.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=Tre(tie,n),l=$re(tie,n),c=s.value===r,[u,d]=wt.useState(a??""),[h,f]=wt.useState(!1),p=iR(t,e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,r,i)}),m=see(),g=wt.useRef("touch"),y=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Nt.jsx(nie,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:wt.useCallback(e=>{d(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:Nt.jsx(_re.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:Nt.jsx(vR.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:N7(o.onFocus,()=>f(!0)),onBlur:N7(o.onBlur,()=>f(!1)),onClick:N7(o.onClick,()=>{"mouse"!==g.current&&y()}),onPointerUp:N7(o.onPointerUp,()=>{"mouse"===g.current&&y()}),onPointerDown:N7(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:N7(o.onPointerMove,e=>{var t;g.current=e.pointerType,i?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N7(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))}),onKeyDown:N7(o.onKeyDown,e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(wre.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});iie.displayName=tie;var aie="SelectItemText",oie=wt.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=Tre(aie,n),s=$re(aie,n),l=rie(aie,n),c=Nre(aie,n),[u,d]=wt.useState(null),h=iR(t,e=>d(e),l.onItemTextChange,e=>{var t;return null==(t=s.itemTextRefCallback)?void 0:t.call(s,e,l.value,l.disabled)}),f=null==u?void 0:u.textContent,p=wt.useMemo(()=>Nt.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return iee(()=>(m(p),()=>g(p)),[m,g,p]),Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(vR.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fh.createPortal(a.children,o.valueNode):null]})});oie.displayName=aie;var sie="SelectItemIndicator",lie=wt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return rie(sie,n).isSelected?Nt.jsx(vR.span,{"aria-hidden":!0,...r,ref:t}):null});lie.displayName=sie;var cie="SelectScrollUpButton";wt.forwardRef((e,t)=>{const n=$re(cie,e.__scopeSelect),r=Gre(cie,e.__scopeSelect),[i,a]=wt.useState(!1),o=iR(t,r.onScrollButtonChange);return iee(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;a(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?Nt.jsx(die,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}).displayName=cie;var uie="SelectScrollDownButton";wt.forwardRef((e,t)=>{const n=$re(uie,e.__scopeSelect),r=Gre(uie,e.__scopeSelect),[i,a]=wt.useState(!1),o=iR(t,r.onScrollButtonChange);return iee(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;a(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?Nt.jsx(die,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}).displayName=uie;var die=wt.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=$re("SelectScrollButton",n),o=wt.useRef(null),s=Ere(n),l=wt.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return wt.useEffect(()=>()=>l(),[l]),iee(()=>{var e;const t=s().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[s]),Nt.jsx(vR.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:N7(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:N7(i.onPointerMove,()=>{var e;null==(e=a.onItemLeave)||e.call(a),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:N7(i.onPointerLeave,()=>{l()})})});wt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Nt.jsx(vR.div,{"aria-hidden":!0,...r,ref:t})}).displayName="SelectSeparator";var hie="SelectArrow";wt.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Cre(n),a=Tre(hie,n),o=$re(hie,n);return a.open&&"popper"===o.position?Nt.jsx(wne,{...i,...r,ref:t}):null}).displayName=hie;var fie=wt.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=wt.useRef(null),a=iR(r,i),o=function(e){const t=wt.useRef({value:e,previous:e});return wt.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return wt.useEffect(()=>{const e=i.current;if(!e)return;const n=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(o!==t&&r){const n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[o,t]),Nt.jsx(vR.select,{...n,style:{...Sne,...n.style},ref:a,defaultValue:t})});function pie(e){return""===e||void 0===e}function mie(e){const t=R7(e),n=wt.useRef(""),r=wt.useRef(0),i=wt.useCallback(e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=wt.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return wt.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function gie(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=(o=e,s=Math.max(i,0),o.map((e,t)=>o[(s+t)%o.length]));var o,s;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}fie.displayName="SelectBubbleInput";var yie=Ire,vie=Pre,bie=Mre,wie=Rre,xie=Lre,_ie=zre,Eie=Qre,Sie=iie,kie=oie,Cie=lie;function Oie({children:e,...t}){return Nt.jsxs(yie,{...t,children:[Nt.jsxs(vie,{className:"flex h-12 w-full items-center justify-between rounded-full border border-slate-200 bg-white px-4 text-base focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",children:[Nt.jsx(bie,{}),Nt.jsx(wie,{children:Nt.jsx(IR,{className:"h-4 w-4 text-slate-500"})})]}),Nt.jsx(xie,{children:Nt.jsx(_ie,{className:"z-50 overflow-hidden rounded-md border border-slate-200 bg-white shadow-lg",children:Nt.jsx(Eie,{className:"p-2",children:e})})})]})}function Tie({children:e,className:t,...n}){return Nt.jsxs(Sie,{className:dR("relative flex w-full cursor-default select-none items-center rounded-md px-3 py-2 text-base outline-none focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[Nt.jsx(kie,{children:e}),Nt.jsx(Cie,{className:"absolute right-2 inline-flex items-center",children:Nt.jsx(NR,{className:"h-4 w-4"})})]})}var Aie=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=wt.useState(),r=wt.useRef(null),i=wt.useRef(e),a=wt.useRef("none"),o=e?"mounted":"unmounted",[s,l]=function(e,t){return wt.useReducer((e,n)=>t[e][n]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return wt.useEffect(()=>{const e=Nie(r.current);a.current="mounted"===s?e:"none"},[s]),iee(()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,o=Nie(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),iee(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=a=>{const o=Nie(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(a.current=Nie(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:wt.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):wt.Children.only(n),a=iR(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?wt.cloneElement(i,{ref:a}):null};function Nie(e){return(null==e?void 0:e.animationName)||"none"}Aie.displayName="Presence";var Iie="Dialog",[jie]=I7(Iie),[Pie,Die]=jie(Iie),Mie=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=wt.useRef(null),l=wt.useRef(null),[c,u]=Ene({prop:r,defaultProp:i??!1,onChange:a,caller:Iie});return Nt.jsx(Pie,{scope:t,triggerRef:s,contentRef:l,contentId:see(),titleId:see(),descriptionId:see(),open:c,onOpenChange:u,onOpenToggle:wt.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};Mie.displayName=Iie;var Rie="DialogTrigger";wt.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Die(Rie,n),a=iR(t,i.triggerRef);return Nt.jsx(vR.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nae(i.open),...r,ref:a,onClick:N7(e.onClick,i.onOpenToggle)})}).displayName=Rie;var Lie="DialogPortal",[Fie,zie]=jie(Lie,{forceMount:void 0}),Uie=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Die(Lie,t);return Nt.jsx(Fie,{scope:t,forceMount:n,children:wt.Children.map(r,e=>Nt.jsx(Aie,{present:n||a.open,children:Nt.jsx(xne,{asChild:!0,container:i,children:e})}))})};Uie.displayName=Lie;var Vie="DialogOverlay",$ie=wt.forwardRef((e,t)=>{const n=zie(Vie,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Die(Vie,e.__scopeDialog);return a.modal?Nt.jsx(Aie,{present:r||a.open,children:Nt.jsx(qie,{...i,ref:t})}):null});$ie.displayName=Vie;var Bie=aR("DialogOverlay.RemoveScroll"),qie=wt.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Die(Vie,n);return Nt.jsx(vre,{as:Bie,allowPinchZoom:!0,shards:[i.contentRef],children:Nt.jsx(vR.div,{"data-state":nae(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Wie="DialogContent",Kie=wt.forwardRef((e,t)=>{const n=zie(Wie,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Die(Wie,e.__scopeDialog);return Nt.jsx(Aie,{present:r||a.open,children:a.modal?Nt.jsx(Hie,{...i,ref:t}):Nt.jsx(Gie,{...i,ref:t})})});Kie.displayName=Wie;var Hie=wt.forwardRef((e,t)=>{const n=Die(Wie,e.__scopeDialog),r=wt.useRef(null),i=iR(t,n.contentRef,r);return wt.useEffect(()=>{const e=r.current;if(e)return Ine(e)},[]),Nt.jsx(Yie,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N7(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:N7(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:N7(e.onFocusOutside,e=>e.preventDefault())})}),Gie=wt.forwardRef((e,t)=>{const n=Die(Wie,e.__scopeDialog),r=wt.useRef(!1),i=wt.useRef(!1);return Nt.jsx(Yie,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,o;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(r.current||null==(o=n.triggerRef.current)||o.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,o;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null==(o=n.triggerRef.current)?void 0:o.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),Yie=wt.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Die(Wie,n),l=wt.useRef(null),c=iR(t,l);return K7(),Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(Z7,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:Nt.jsx($7,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":nae(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(oae,{titleId:s.titleId}),Nt.jsx(sae,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Qie="DialogTitle",Zie=wt.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Die(Qie,n);return Nt.jsx(vR.h2,{id:i.titleId,...r,ref:t})});Zie.displayName=Qie;var Xie="DialogDescription",Jie=wt.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Die(Xie,n);return Nt.jsx(vR.p,{id:i.descriptionId,...r,ref:t})});Jie.displayName=Xie;var eae="DialogClose",tae=wt.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Die(eae,n);return Nt.jsx(vR.button,{type:"button",...r,ref:t,onClick:N7(e.onClick,()=>i.onOpenChange(!1))})});function nae(e){return e?"open":"closed"}tae.displayName=eae;var rae="DialogTitleWarning",[iae,aae]=function(e,t){const n=wt.createContext(t),r=e=>{const{children:t,...r}=e,i=wt.useMemo(()=>r,Object.values(r));return Nt.jsx(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=wt.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(rae,{contentName:Wie,titleName:Qie,docsSlug:"dialog"}),oae=({titleId:e})=>{const t=aae(rae),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return wt.useEffect(()=>{if(e){document.getElementById(e)||console.error(n)}},[n,e]),null},sae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aae("DialogDescriptionWarning").contentName}}.`;return wt.useEffect(()=>{var r;const i=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&i){document.getElementById(t)||console.warn(n)}},[n,e,t]),null},lae=$ie,cae=Kie,uae=Zie,dae=Jie,hae=tae;const fae=Mie,pae=Uie,mae=hae,gae=wt.forwardRef(({className:e,...t},n)=>(wt.useEffect(()=>(document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open"),()=>{document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open")}),[]),Nt.jsx(lae,{ref:n,className:dR("fixed inset-0 z-40 bg-slate-950/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out",e),...t})));gae.displayName=lae.displayName;const yae=wt.forwardRef(({className:e,children:t,...n},r)=>{const i="undefined"!=typeof document?document.body:void 0;return Nt.jsxs(pae,{container:i,children:[Nt.jsx(gae,{}),Nt.jsxs(cae,{ref:r,className:dR("fixed inset-x-0 bottom-0 z-50 mx-auto flex w-full max-w-[min(100vw-24px,680px)] max-h-[calc(100dvh-24px)] flex-col overflow-hidden rounded-t-3xl border border-slate-200 bg-white shadow-2xl outline-none data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=closed]:duration-200 data-[state=open]:duration-200 data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom sm:inset-x-auto sm:left-1/2 sm:top-1/2 sm:bottom-auto sm:-translate-x-1/2 sm:-translate-y-1/2 sm:rounded-3xl sm:border sm:shadow-xl","sm:max-w-xl lg:max-w-3xl","overflow-x-hidden",e),...n,children:[Nt.jsx("span",{className:"mx-auto mt-2 h-1.5 w-12 rounded-full bg-slate-300 sm:hidden","aria-hidden":"true"}),Nt.jsx("div",{className:"relative flex min-h-0 flex-1 flex-col",children:t}),Nt.jsxs(hae,{className:"absolute right-4 top-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/80 text-slate-500 shadow-sm ring-offset-white transition-all hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",children:[Nt.jsx(sL,{className:"h-4 w-4"}),Nt.jsx("span",{className:"sr-only",children:"Cerrar"})]})]})]})});yae.displayName=cae.displayName;const vae=({className:e,...t})=>Nt.jsx("div",{className:dR("sticky top-0 z-10 flex flex-col gap-1.5 border-b border-slate-200 bg-white/95 px-6 pb-4 pt-5 text-center backdrop-blur supports-[backdrop-filter]:bg-white/80 sm:text-left",e),...t}),bae=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(uae,{ref:n,className:dR("text-lg font-semibold leading-tight text-slate-900",e),...t}));bae.displayName=uae.displayName;const wae=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(dae,{ref:n,className:dR("text-sm text-slate-500",e),...t}));wae.displayName=dae.displayName;const xae=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("div",{ref:n,className:dR("flex-1 overflow-y-auto px-6 py-4 text-left",e),...t}));xae.displayName="DialogBody";const _ae=({className:e,...t})=>Nt.jsx("div",{className:dR("sticky bottom-0 z-10 flex flex-col gap-2 border-t border-slate-200 bg-white/95 px-6 py-4 backdrop-blur supports-[backdrop-filter]:bg-white/80 sm:flex-row sm:items-center sm:justify-end",e),...t});_ae.displayName="DialogFooter";const Eae=[{value:"ACTIVO",label:"Activo"},{value:"PAUSADO",label:"Pausado"}];function Sae({defaultValues:e,onSubmit:t,submitLabel:n="Guardar cliente",onCancel:r}){const i=Kg({resolver:sw(C7),defaultValues:e??{nombre_legal:"",alias:"",rfc:"",email:"",telefono:"",direccion:"",ciudad:"",cp:"",limite_credito:0,dias_credito:0,estatus:"ACTIVO"}});wt.useEffect(()=>{e&&i.reset(e)},[e,i]);const a=i.handleSubmit(async e=>{await t(e)});return Nt.jsxs("form",{className:"flex h-full flex-col",onSubmit:a,children:[Nt.jsx(xae,{className:"space-y-5",children:Nt.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"nombre_legal",children:"Nombre fiscal"}),Nt.jsx(yR,{id:"nombre_legal",...i.register("nombre_legal")}),i.formState.errors.nombre_legal?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.nombre_legal.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"alias",children:"Alias comercial"}),Nt.jsx(yR,{id:"alias",...i.register("alias")}),i.formState.errors.alias?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.alias.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"rfc",children:"RFC"}),Nt.jsx(yR,{id:"rfc",...i.register("rfc"),className:"uppercase"}),i.formState.errors.rfc?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.rfc.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"email",children:"Correo"}),Nt.jsx(yR,{id:"email",type:"email",...i.register("email")}),i.formState.errors.email?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.email.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"telefono",children:"Teléfono"}),Nt.jsx(yR,{id:"telefono",...i.register("telefono"),inputMode:"numeric"}),i.formState.errors.telefono?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.telefono.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"ciudad",children:"Ciudad"}),Nt.jsx(yR,{id:"ciudad",...i.register("ciudad")}),i.formState.errors.ciudad?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.ciudad.message}):null]}),Nt.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Nt.jsx(xR,{htmlFor:"direccion",children:"Dirección"}),Nt.jsx(yR,{id:"direccion",...i.register("direccion")}),i.formState.errors.direccion?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.direccion.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"cp",children:"Código Postal"}),Nt.jsx(yR,{id:"cp",...i.register("cp")}),i.formState.errors.cp?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.cp.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"limite_credito",children:"Límite de crédito"}),Nt.jsx(yR,{id:"limite_credito",type:"number",step:"0.01",...i.register("limite_credito",{valueAsNumber:!0})}),i.formState.errors.limite_credito?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.limite_credito.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{htmlFor:"dias_credito",children:"Días de crédito"}),Nt.jsx(yR,{id:"dias_credito",type:"number",...i.register("dias_credito",{valueAsNumber:!0})}),i.formState.errors.dias_credito?Nt.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.dias_credito.message}):null]}),Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsx(xR,{children:"Estatus"}),Nt.jsx(Oie,{value:i.watch("estatus"),onValueChange:e=>i.setValue("estatus",e),children:Eae.map(e=>Nt.jsx(Tie,{value:e.value,children:e.label},e.value))})]})]})}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-between",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:r,children:"Cancelar"})}),Nt.jsx(gR,{type:"submit",className:"w-full sm:w-auto",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Guardando...":n})]})]})}TD(tR,"clientes"),TD(tR,"pedidos"),TD(tR,"abonos");const kae=TD(tR,"movimientos_caja"),Cae=TD(tR,"bitacora");async function Oae(e){await LM(Cae,{...e,timestamp:WM()})}const Tae=TD(tR,"clientes");const Aae=["clientes"];function Nae(e={},t={}){return Nm({queryKey:[...Aae,e],queryFn:()=>async function(e){const t=[];(null==e?void 0:e.estatus)&&"TODOS"!==e.estatus&&t.push(pM("estatus","==",e.estatus)),(null==e?void 0:e.ciudad)&&t.push(pM("ciudad","==",e.ciudad));const n=hM(Tae,...t,yM("nombre_legal")),r=(await PM(n)).docs.map(e=>({id:e.id,...e.data()}));if(null==e?void 0:e.search){const t=e.search.toLowerCase();return r.filter(e=>[e.nombre_legal,e.alias,e.email,e.ciudad].some(e=>e.toLowerCase().includes(t)))}return r}(e),staleTime:6e4,enabled:t.enabled})}function Iae(){const e=Sm();return Im({mutationFn:e=>async function(e,t){const n={...e,creado_en:WM(),actualizado_en:WM()},r=await LM(Tae,n);return await Oae({entidad:"clientes",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n}),r.id}(e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Aae})})}function jae(){const e=Sm();return Im({mutationFn:e=>async function(e,t,n){const r=AD(Tae,e),i={...t,actualizado_en:WM()};await MM(r,i),await Oae({entidad:"clientes",entidad_id:e,accion:"ACTUALIZAR",usuario:n,datos:i})}(e.id,e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Aae})})}function Pae(){const e=Sm();return Im({mutationFn:e=>async function(e,t){await RM(AD(Tae,e)),await Oae({entidad:"clientes",entidad_id:e,accion:"ELIMINAR",usuario:t,datos:{}})}(e.id,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Aae})})}const Dae=TD(tR,"pedidos");async function Mae(e,t){const n=function(e,t){return{folio:e.folio,cliente_id:AD(tR,"clientes",e.cliente_id),fecha_pedido:qO.fromDate(e.fecha_pedido),fecha_compromiso:qO.fromDate(e.fecha_compromiso),status:e.status,anticipo:e.anticipo,subtotal:e.subtotal,descuento:e.descuento,impuestos:e.impuestos,total:e.total,saldo:e.saldo,prioridad:e.prioridad,notas:e.notas??"",creado_por:t,creado_en:WM(),actualizado_en:WM()}}(e,t),r=await LM(Dae,n),i=function(e){return DD(e=zO(e,PD)),new UM(e,t=>FM(e,t))}(tR);if(e.items.forEach(e=>{const t=AD((n=r.id,TD(tR,"pedidos",n,"pedido_items")));var n;i.set(t,{descripcion_item:e.descripcion_item,precio_unitario:e.precio_unitario,importe:e.importe})}),await i.commit(),e.anticipo>0){const n={fecha:qO.fromDate(e.fecha_pedido),tipo:"INGRESO",categoria:"ANTICIPO",monto:e.anticipo,referencia_pedido_id:r,notas:"Anticipo registrado al crear pedido",registrado_por:t,creado_en:WM()},i=await LM(kae,n);await Oae({entidad:"movimientos_caja",entidad_id:i.id,accion:"CREAR",usuario:t,datos:n})}return await Oae({entidad:"pedidos",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n}),r.id}const Rae=["pedidos"];function Lae(e={},t={}){return Nm({queryKey:[...Rae,e],queryFn:()=>async function(e){const t=[];(null==e?void 0:e.status)&&"TODOS"!==e.status&&t.push(pM("status","==",e.status)),(null==e?void 0:e.prioridad)&&"TODAS"!==e.prioridad&&t.push(pM("prioridad","==",e.prioridad)),(null==e?void 0:e.clienteId)&&t.push(pM("cliente_id","==",AD(tR,"clientes",e.clienteId)));const n=hM(Dae,...t,yM("fecha_compromiso","desc"),bM(100));return(await PM(n)).docs.map(e=>({id:e.id,...e.data()}))}(e),staleTime:3e4,enabled:t.enabled})}function Fae(){const e=Sm();return Im({mutationFn:e=>async function(e,t,n){const r=AD(Dae,e),i={...t,actualizado_en:WM()};t.fecha_pedido?i.fecha_pedido=qO.fromDate(t.fecha_pedido):delete i.fecha_pedido,t.fecha_compromiso?i.fecha_compromiso=qO.fromDate(t.fecha_compromiso):delete i.fecha_compromiso,await MM(r,i),await Oae({entidad:"pedidos",entidad_id:e,accion:"ACTUALIZAR",usuario:n,datos:i})}(e.id,e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Rae})})}function zae(){const e=Sm();return Im({mutationFn:e=>async function(e,t,n,r={}){const i=AD(Dae,e),a={status:t,actualizado_en:WM()};if(await MM(i,a),r.estado){const t=TD(tR,"pedidos",e,"produccion_eventos");await LM(t,{estado:r.estado,responsable:r.responsable??n,fecha_inicio:r.fecha_inicio??WM(),fecha_fin:r.fecha_fin??null,evidencia_url:r.evidencia_url??"",notas:r.notas??""})}await Oae({entidad:"pedidos",entidad_id:e,accion:`CAMBIO_ESTADO_${t}`,usuario:n,datos:a})}(e.id,e.estado,e.usuarioId,e.data),onSuccess:()=>e.invalidateQueries({queryKey:Rae})})}function Uae(){const e=Sm();return Im({mutationFn:e=>async function(e,t){await RM(AD(Dae,e)),await Oae({entidad:"pedidos",entidad_id:e,accion:"ELIMINAR",usuario:t,datos:{}})}(e.id,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Rae})})}var Vae="rovingFocusGroup.onEntryFocus",$ae={bubbles:!1,cancelable:!0},Bae="RovingFocusGroup",[qae,Wae,Kae]=P7(Bae),[Hae,Gae]=I7(Bae,[Kae]),[Yae,Qae]=Hae(Bae),Zae=wt.forwardRef((e,t)=>Nt.jsx(qae.Provider,{scope:e.__scopeRovingFocusGroup,children:Nt.jsx(qae.Slot,{scope:e.__scopeRovingFocusGroup,children:Nt.jsx(Xae,{...e,ref:t})})}));Zae.displayName=Bae;var Xae=wt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=wt.useRef(null),f=iR(t,h),p=M7(a),[m,g]=Ene({prop:o,defaultProp:s??null,onChange:l,caller:Bae}),[y,v]=wt.useState(!1),b=R7(c),w=Wae(n),x=wt.useRef(!1),[_,E]=wt.useState(0);return wt.useEffect(()=>{const e=h.current;if(e)return e.addEventListener(Vae,b),()=>e.removeEventListener(Vae,b)},[b]),Nt.jsx(Yae,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:wt.useCallback(e=>g(e),[g]),onItemShiftTab:wt.useCallback(()=>v(!0),[]),onFocusableItemAdd:wt.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:wt.useCallback(()=>E(e=>e-1),[]),children:Nt.jsx(vR.div,{tabIndex:y||0===_?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...e.style},onMouseDown:N7(e.onMouseDown,()=>{x.current=!0}),onFocus:N7(e.onFocus,e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(Vae,$ae);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter(e=>e.focusable);noe([e.find(e=>e.active),e.find(e=>e.id===m),...e].filter(Boolean).map(e=>e.ref.current),u)}}x.current=!1}),onBlur:N7(e.onBlur,()=>v(!1))})})}),Jae="RovingFocusGroupItem",eoe=wt.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=e,l=see(),c=a||l,u=Qae(Jae,n),d=u.currentTabStopId===c,h=Wae(n),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:m}=u;return wt.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),Nt.jsx(qae.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:Nt.jsx(vR.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:N7(e.onMouseDown,e=>{r?u.onItemFocus(c):e.preventDefault()}),onFocus:N7(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:N7(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:toe[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const a=i.indexOf(e.currentTarget);i=u.loop?(r=a+1,(n=i).map((e,t)=>n[(r+t)%n.length])):i.slice(a+1)}setTimeout(()=>noe(i))}var n,r}),children:"function"==typeof o?o({isCurrentTabStop:d,hasTabStop:null!=m}):o})})});eoe.displayName=Jae;var toe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function noe(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var roe=Zae,ioe=eoe,aoe="Tabs",[ooe]=I7(aoe,[Gae]),soe=Gae(),[loe,coe]=ooe(aoe),uoe=wt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,u=M7(s),[d,h]=Ene({prop:r,onChange:i,defaultProp:a??"",caller:aoe});return Nt.jsx(loe,{scope:n,baseId:see(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:Nt.jsx(vR.div,{dir:u,"data-orientation":o,...c,ref:t})})});uoe.displayName=aoe;var doe="TabsList",hoe=wt.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=coe(doe,n),o=soe(n);return Nt.jsx(roe,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:Nt.jsx(vR.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});hoe.displayName=doe;var foe="TabsTrigger",poe=wt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=coe(foe,n),s=soe(n),l=yoe(o.baseId,r),c=voe(o.baseId,r),u=r===o.value;return Nt.jsx(ioe,{asChild:!0,...s,focusable:!i,active:u,children:Nt.jsx(vR.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:N7(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:N7(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:N7(e.onFocus,()=>{const e="manual"!==o.activationMode;u||i||!e||o.onValueChange(r)})})})});poe.displayName=foe;var moe="TabsContent",goe=wt.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=coe(moe,n),l=yoe(s.baseId,r),c=voe(s.baseId,r),u=r===s.value,d=wt.useRef(u);return wt.useEffect(()=>{const e=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(e)},[]),Nt.jsx(Aie,{present:i||u,children:({present:n})=>Nt.jsx(vR.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&a})})});function yoe(e,t){return`${e}-trigger-${t}`}function voe(e,t){return`${e}-content-${t}`}goe.displayName=moe;var boe=hoe,woe=poe,xoe=goe;const _oe=uoe,Eoe=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(boe,{ref:n,className:dR("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",e),...t}));Eoe.displayName=boe.displayName;const Soe=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(woe,{ref:n,className:dR("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 data-[state=active]:bg-white data-[state=active]:text-slate-900",e),...t}));Soe.displayName=woe.displayName;const koe=wt.forwardRef(({className:e,...t},n)=>Nt.jsx(xoe,{ref:n,className:dR("mt-4 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",e),...t}));koe.displayName=xoe.displayName;const Coe=["TODOS","ACTIVO","PAUSADO"];function Ooe(){const{role:e,user:t,loading:n}=wL(),[r,i]=wt.useState(""),[a,o]=wt.useState("TODOS"),s=!!t&&!n,{data:l,isLoading:c,isFetching:u}=Nae({search:r,estatus:a},{enabled:s}),d=n||c||s&&u&&!l,h=Iae(),f=jae(),p=Pae(),[m,g]=wt.useState(null),[y,v]=wt.useState(!1),[b,w]=wt.useState(!1),x=["OWNER","ADMIN","VENTAS"].includes(e??""),_=wt.useMemo(()=>l?Array.from(new Set(l.map(e=>e.ciudad))).sort():[],[l]),[E,S]=wt.useState(""),k=wt.useMemo(()=>l?l.filter(e=>!E||e.ciudad===E):[],[l,E]);async function C(e){t&&confirm(`¿Eliminar al cliente ${e.alias}?`)&&(await p.mutateAsync({id:e.id,usuarioId:t.uid}),w(!1))}function O(){g(null),v(!0)}return Nt.jsxs("div",{className:"relative space-y-6 pb-20",children:[Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Clientes"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Gestiona tus clientes desde una vista táctil y rápida."})]}),Nt.jsxs(CL,{className:"space-y-4",children:[Nt.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[Nt.jsxs("div",{className:"relative w-full sm:flex-1",children:[Nt.jsx(eL,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),Nt.jsx(yR,{placeholder:"Buscar por nombre, alias, correo o ciudad",className:"pl-11",value:r,onChange:e=>i(e.target.value)})]}),Nt.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-end sm:gap-3",children:[Nt.jsx(VR,{className:"hidden h-4 w-4 text-slate-400 sm:block"}),Nt.jsx("select",{value:a,onChange:e=>o(e.target.value),className:"h-11 w-full rounded-full border border-slate-200 bg-white px-4 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-accent sm:w-auto",children:Coe.map(e=>Nt.jsx("option",{value:e,children:e},e))}),Nt.jsxs("select",{value:E,onChange:e=>S(e.target.value),className:"h-11 w-full rounded-full border border-slate-200 bg-white px-4 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-accent sm:w-auto",children:[Nt.jsx("option",{value:"",children:"Todas las ciudades"}),_.map(e=>Nt.jsx("option",{value:e,children:e},e))]})]})]}),x?Nt.jsxs(gR,{onClick:O,className:"hidden w-full sm:w-auto lg:flex lg:self-end",children:[Nt.jsx(JR,{className:"h-4 w-4"}),Nt.jsx("span",{children:"Nuevo cliente"})]}):null]})]}),Nt.jsx("section",{className:"space-y-3",children:d?Array.from({length:3}).map((e,t)=>Nt.jsx(EL,{className:"border-none bg-white/60 p-4 shadow-sm",children:Nt.jsxs("div",{className:"flex animate-pulse flex-col gap-3",children:[Nt.jsx("div",{className:"h-4 w-32 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-4 w-48 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-10 w-full rounded-full bg-slate-200"})]})},t)):k.length?k.map(e=>Nt.jsx(Toe,{cliente:e,onOpenDetalle:()=>function(e){g(e),w(!0)}(e),onOpenEditar:()=>function(e){g(e),v(!0)}(e),onEliminar:()=>C(e),canEdit:x},e.id)):Nt.jsx(FL,{title:"Sin clientes",description:"Agrega tu primer cliente para comenzar a registrar pedidos y cobranza."})}),x?Nt.jsx(gR,{size:"fab",className:"fixed bottom-24 right-6 z-40 lg:hidden",onClick:O,"aria-label":"Nuevo cliente",children:Nt.jsx(JR,{className:"h-6 w-6"})}):null,Nt.jsx(fae,{open:y,onOpenChange:v,children:Nt.jsxs(yae,{children:[Nt.jsxs(vae,{children:[Nt.jsx(bae,{children:m?"Editar cliente":"Nuevo cliente"}),Nt.jsx(wae,{children:m?"Actualiza los datos del cliente y guarda los cambios registrados.":"Completa la información para registrar un nuevo cliente en el sistema."})]}),Nt.jsx(Sae,{defaultValues:m??void 0,onSubmit:m?async function(e){t&&m&&(await f.mutateAsync({id:m.id,data:e,usuarioId:t.uid}),v(!1))}:async function(e){t&&(await h.mutateAsync({data:e,usuarioId:t.uid}),v(!1))},submitLabel:m?"Actualizar cliente":"Crear cliente",onCancel:()=>v(!1)})]})}),Nt.jsx(fae,{open:b,onOpenChange:w,children:Nt.jsx(yae,{children:m?Nt.jsxs(Nt.Fragment,{children:[Nt.jsxs(vae,{className:"items-start text-left",children:[Nt.jsx(bae,{className:"text-xl",children:m.alias}),Nt.jsx(wae,{children:m.nombre_legal})]}),Nt.jsx(Aoe,{cliente:m,puedeEliminar:x,onEliminar:C})]}):null})})]})}function Toe({cliente:e,onOpenDetalle:t,onOpenEditar:n,onEliminar:r,canEdit:i}){const a="ACTIVO"===e.estatus?"success":"warning";return Nt.jsxs(EL,{className:"relative cursor-pointer border-none bg-white/90 p-4 shadow-sm transition-transform hover:-translate-y-1 hover:shadow-md",onClick:t,children:[Nt.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsxs("div",{className:"flex items-center gap-2",children:[Nt.jsx("span",{className:"text-base font-semibold text-slate-900",children:e.alias}),Nt.jsx(E7,{variant:a,children:e.estatus})]}),Nt.jsx("p",{className:"text-sm text-slate-500",children:e.nombre_legal})]}),i?Nt.jsxs("div",{className:"flex items-center gap-2",children:[Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 border border-slate-200",onClick:e=>{e.stopPropagation(),n()},"aria-label":"Editar cliente",children:Nt.jsx(QR,{className:"h-4 w-4"})}),Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 border border-slate-200 text-destructive",onClick:e=>{e.stopPropagation(),r()},"aria-label":"Eliminar cliente",children:Nt.jsx(nL,{className:"h-4 w-4"})})]}):null]}),Nt.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[Nt.jsxs("div",{className:"flex flex-col gap-2 text-slate-600 sm:flex-row sm:flex-wrap sm:items-center",children:[Nt.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[Nt.jsx(KR,{className:"h-4 w-4 text-slate-400"}),e.email]}),Nt.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[Nt.jsx(ZR,{className:"h-4 w-4 text-slate-400"}),LL(e.telefono)]})]}),Nt.jsxs("div",{className:"flex flex-col gap-2 text-xs text-slate-500 sm:flex-row sm:flex-wrap sm:items-center",children:[Nt.jsxs("span",{className:"flex items-center gap-2 text-slate-500",children:[Nt.jsx(HR,{className:"h-4 w-4 text-slate-400"}),e.ciudad]}),Nt.jsxs("span",{className:"flex items-center gap-2 text-slate-500",children:[Nt.jsx(FR,{className:"h-4 w-4 text-slate-400"}),ML(e.limite_credito)," límite"]})]})]})]})}function Aoe({cliente:e,puedeEliminar:t,onEliminar:n}){const{user:r,loading:i}=wL(),a=!!r&&!i,{data:o}=Lae({clienteId:e.id},{enabled:a}),s=wt.useMemo(()=>o?o.reduce((e,t)=>e+t.saldo,0):0,[o]);return Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(xae,{className:"space-y-6",children:Nt.jsxs(_oe,{defaultValue:"datos",className:"w-full",children:[Nt.jsxs(Eoe,{className:"grid w-full grid-cols-3 rounded-full bg-slate-100 p-1 text-xs",children:[Nt.jsx(Soe,{value:"datos",className:"rounded-full",children:"Datos"}),Nt.jsx(Soe,{value:"pedidos",className:"rounded-full",children:"Pedidos"}),Nt.jsx(Soe,{value:"saldos",className:"rounded-full",children:"Saldos"})]}),Nt.jsxs(koe,{value:"datos",className:"mt-4 space-y-3 text-sm",children:[Nt.jsx(Noe,{label:"RFC",value:e.rfc}),Nt.jsx(Noe,{label:"Correo",value:e.email}),Nt.jsx(Noe,{label:"Teléfono",value:LL(e.telefono)}),Nt.jsx(Noe,{label:"Ciudad",value:`${e.ciudad} · CP ${e.cp}`}),Nt.jsx(Noe,{label:"Dirección",value:e.direccion}),Nt.jsx(Noe,{label:"Límite de crédito",value:ML(e.limite_credito)}),Nt.jsx(Noe,{label:"Días de crédito",value:`${e.dias_credito} días`})]}),Nt.jsx(koe,{value:"pedidos",className:"mt-4 space-y-3",children:o&&o.length?o.map(e=>Nt.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[Nt.jsxs("div",{className:"flex items-center justify-between",children:[Nt.jsxs("div",{children:[Nt.jsxs("p",{className:"text-sm font-semibold",children:["Folio ",e.folio]}),Nt.jsxs("p",{className:"text-xs text-slate-500",children:["Estado: ",e.status]})]}),Nt.jsx(E7,{variant:e.saldo>0?"warning":"success",children:ML(e.saldo)})]}),Nt.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Entrega: ",TL(e.fecha_compromiso.toDate()).format("DD MMM YYYY")]})]},e.id)):Nt.jsx(FL,{title:"Sin pedidos",description:"Aún no hay pedidos registrados para este cliente."})}),Nt.jsx(koe,{value:"saldos",className:"mt-4",children:Nt.jsx(uL,{variant:s>0?"warning":"success",title:s>0?"Saldo pendiente":"Cliente al corriente",description:`Saldo total: ${ML(s)}`})})]})}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-between",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",children:"Cerrar"})}),t?Nt.jsxs(gR,{variant:"destructive",className:"w-full sm:w-auto",onClick:()=>n(e),children:[Nt.jsx(nL,{className:"h-4 w-4"}),Nt.jsx("span",{children:"Eliminar"})]}):null]})]})}function Noe({label:e,value:t}){return Nt.jsxs("div",{className:"flex flex-col gap-1 rounded-2xl bg-slate-50 p-3 text-slate-600",children:[Nt.jsx("span",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:e}),Nt.jsx("span",{className:"text-sm font-medium text-slate-800",children:t})]})}const Ioe=AD(tR,"configuracion","general");async function joe(){const e=await IM(Ioe);if(!e.exists()){const e={porcentaje_anticipo:50,dias_credito:30,politicas_credito:"Pagar 50% de anticipo para aprobar pedido.",roles_visibles:["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"]};return await DM(Ioe,{...e,actualizado_en:WM()}),e}return e.data()}const Poe=["configuracion"];function Doe(e={}){return Nm({queryKey:Poe,queryFn:joe,staleTime:3e5,enabled:e.enabled})}function Moe(){const e=Sm();return Im({mutationFn:e=>async function(e,t){await DM(Ioe,{...e,actualizado_en:WM()},{merge:!0}),await Oae({entidad:"configuracion",entidad_id:"general",accion:"ACTUALIZAR",usuario:t,datos:e})}(e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Poe})})}const Roe=wt.forwardRef(({className:e,...t},n)=>Nt.jsx("textarea",{ref:n,className:dR("flex min-h-[112px] w-full rounded-3xl border border-slate-200 bg-white px-4 py-3 text-base ring-offset-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));Roe.displayName="Textarea";const Loe=["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA","ENTREGADO","CERRADO","CANCELADO"],Foe=["BAJA","MEDIA","ALTA"];function zoe({open:e,pedido:t,onOpenChange:n,onSubmit:r,onDelete:i,isSubmitting:a=!1,isDeleting:o=!1,allowDelete:s=!0}){const[l,c]=wt.useState("COTIZACIÓN"),[u,d]=wt.useState("MEDIA"),[h,f]=wt.useState(()=>TL().format("YYYY-MM-DD")),[p,m]=wt.useState("");wt.useEffect(()=>{t&&(c(t.status),d(t.prioridad),f(TL(t.fecha_compromiso.toDate()).format("YYYY-MM-DD")),m(t.notas??""))},[t]);const g=wt.useMemo(()=>a||o,[a,o]);return Nt.jsx(fae,{open:e,onOpenChange:n,children:Nt.jsx(yae,{children:t?Nt.jsxs("form",{onSubmit:async function(e){e.preventDefault(),t&&!a&&await r({status:l,prioridad:u,fecha_compromiso:TL(h).toDate(),notas:p})},className:"flex flex-col",children:[Nt.jsxs(vae,{children:[Nt.jsxs(bae,{children:["Editar pedido ",t.folio]}),Nt.jsx(wae,{children:"Actualiza el estado, prioridad o fecha compromiso del pedido seleccionado."})]}),Nt.jsxs(xae,{className:"space-y-4 text-sm",children:[Nt.jsxs("label",{className:"flex flex-col gap-1",children:["Estado",Nt.jsx("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:l,onChange:e=>c(e.target.value),disabled:g,children:Loe.map(e=>Nt.jsx("option",{value:e,children:e.replace(/_/g," ")},e))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1",children:["Prioridad",Nt.jsx("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:u,onChange:e=>d(e.target.value),disabled:g,children:Foe.map(e=>Nt.jsx("option",{value:e,children:e},e))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1",children:["Fecha compromiso",Nt.jsx(yR,{type:"date",value:h,onChange:e=>f(e.target.value),disabled:g})]}),Nt.jsxs("label",{className:"flex flex-col gap-1",children:["Notas internas",Nt.jsx(Roe,{rows:4,value:p,onChange:e=>m(e.target.value),disabled:g,placeholder:"Actualiza las notas visibles para el equipo."})]})]}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-between",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",disabled:g,children:"Cancelar"})}),Nt.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row",children:[s&&i?Nt.jsx(gR,{type:"button",variant:"destructive",className:"w-full sm:w-auto",onClick:async function(){t&&i&&!o&&await i()},disabled:g,children:o?"Eliminando...":"Eliminar"}):null,Nt.jsx(gR,{type:"submit",className:"w-full sm:w-auto",disabled:g,children:a?"Guardando...":"Guardar cambios"})]})]})]}):null})})}const Uoe=["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA","ENTREGADO","CERRADO","CANCELADO"],Voe=["BAJA","MEDIA","ALTA"],$oe={"COTIZACIÓN":"neutral",APROBADO:"warning",DIGITIZADO:"warning","EN_PRODUCCIÓN":"warning",CALIDAD:"warning",LISTO_ENTREGA:"success",ENTREGADO:"success",CERRADO:"success",CANCELADO:"destructive"};function Boe(){const{user:e,role:t,loading:n}=wL(),r=!!e&&!n,{data:i,isLoading:a,isFetching:o}=Lae({},{enabled:r}),s=n||a||r&&o&&!i,l=function(){const e=Sm();return Im({mutationFn:e=>Mae(e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Rae})})}(),c=zae(),u=Fae(),d=Uae(),{data:h}=Nae({},{enabled:r}),{data:f}=Doe({enabled:r}),p=wt.useMemo(()=>h?new Map(h.map(e=>[e.id,e.alias])):new Map,[h]),[m,g]=wt.useState(!1),[y,v]=wt.useState(null),[b,w]=wt.useState(null),[x,_]=wt.useState(!1),E=["OWNER","ADMIN","VENTAS"].includes(t??""),S=["OWNER","ADMIN","PRODUCCION"].includes(t??""),k=E;async function C(t){e&&confirm(`¿Eliminar el pedido ${t.folio}?`)&&(await d.mutateAsync({id:t.id,usuarioId:e.uid}),(null==y?void 0:y.id)===t.id&&v(null))}return Nt.jsxs("div",{className:"relative space-y-6 pb-20",children:[Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Pedidos"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Supervisa el flujo de pedidos con una vista adaptable al tacto."})]}),Nt.jsxs(CL,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[Nt.jsx("div",{className:"text-xs text-slate-500",children:(null==i?void 0:i.length)?`${i.length} pedidos en seguimiento`:"Sin pedidos registrados aún"}),E?Nt.jsxs(gR,{onClick:()=>{v(null),g(!0)},className:"hidden sm:inline-flex",children:[Nt.jsx(JR,{className:"h-4 w-4"}),Nt.jsx("span",{children:"Nuevo pedido"})]}):null]})]}),Nt.jsx("section",{className:"space-y-3",children:s?Array.from({length:3}).map((e,t)=>Nt.jsx(EL,{className:"border-none bg-white/60 p-4 shadow-sm",children:Nt.jsxs("div",{className:"flex animate-pulse flex-col gap-3",children:[Nt.jsx("div",{className:"h-4 w-24 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-4 w-48 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-4 w-32 rounded-full bg-slate-200"})]})},t)):i&&i.length?i.map(t=>{const n=Uoe.indexOf(t.status),r=Uoe[n+1],i=p.get(t.cliente_id.id)??t.cliente_id.id;return Nt.jsx(qoe,{pedido:t,onClick:()=>v(t),onAvanzar:r?()=>async function(t,n){e&&await c.mutateAsync({id:t,estado:n,usuarioId:e.uid})}(t.id,r):void 0,puedeAvanzar:!!r&&S,avanzando:c.isPending,onEdit:()=>function(e){w(e),_(!0)}(t),onDelete:()=>C(t),allowActions:k,clienteNombre:i},t.id)}):Nt.jsx(FL,{title:"Sin pedidos",description:"Registra un nuevo pedido para comenzar el flujo de trabajo."})}),E?Nt.jsx(gR,{size:"fab",className:"fixed bottom-24 right-6 z-40 sm:hidden",onClick:()=>{v(null),g(!0)},"aria-label":"Nuevo pedido",children:Nt.jsx(JR,{className:"h-6 w-6"})}):null,Nt.jsx(fae,{open:m,onOpenChange:g,children:Nt.jsx(yae,{children:h&&f?Nt.jsx(Woe,{clientes:h,anticipoMinimo:f.porcentaje_anticipo,onSubmit:async t=>{e&&(await l.mutateAsync({data:t,usuarioId:e.uid}),g(!1))},onClose:()=>g(!1)}):Nt.jsx(xae,{className:"flex h-48 items-center justify-center",children:Nt.jsx(qR,{className:"h-8 w-8 animate-spin text-slate-500"})})})}),Nt.jsx(fae,{open:!!y,onOpenChange:e=>!e&&v(null),children:Nt.jsx(yae,{children:y?Nt.jsx(Koe,{pedido:y,onClose:()=>v(null)}):null})}),Nt.jsx(zoe,{open:x&&!!b,pedido:b,onOpenChange:e=>{_(e),e||w(null)},onSubmit:async t=>{e&&b&&(await u.mutateAsync({id:b.id,data:t,usuarioId:e.uid}),_(!1),w(null))},onDelete:k?async()=>{b&&(await C(b),_(!1),w(null))}:void 0,isSubmitting:u.isPending,isDeleting:d.isPending,allowDelete:k})]})}function qoe({pedido:e,onClick:t,onAvanzar:n,puedeAvanzar:r,avanzando:i,onEdit:a,onDelete:o,allowActions:s,clienteNombre:l}){const c=e.fecha_compromiso.toDate(),u=TL(c).diff(TL(),"day"),d=$oe[e.status]??"neutral",h="ALTA"===e.prioridad?"destructive":"MEDIA"===e.prioridad?"warning":"success";return Nt.jsxs(EL,{className:"relative cursor-pointer border-none bg-white/90 p-4 shadow-sm transition-transform hover:-translate-y-1 hover:shadow-md",onClick:t,children:[Nt.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[Nt.jsxs("div",{className:"space-y-2",children:[Nt.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["Folio ",e.folio]}),Nt.jsx(E7,{variant:d,className:"uppercase",children:e.status.replace(/_/g," ")})]}),Nt.jsxs("div",{className:"flex items-center gap-2",children:[Nt.jsx(E7,{variant:h,className:"text-xs uppercase",children:e.prioridad}),s?Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 border border-slate-200",onClick:e=>{e.stopPropagation(),a()},"aria-label":"Editar pedido",children:Nt.jsx(QR,{className:"h-4 w-4"})}),Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 border border-slate-200 text-destructive",onClick:e=>{e.stopPropagation(),o()},"aria-label":"Eliminar pedido",children:Nt.jsx(nL,{className:"h-4 w-4"})})]}):null]})]}),Nt.jsxs("div",{className:"mt-4 space-y-2 text-sm text-slate-600",children:[Nt.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-slate-500",children:[Nt.jsx(aL,{className:"h-4 w-4 text-slate-400"}),l]}),Nt.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[Nt.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[Nt.jsx(AR,{className:"h-4 w-4 text-slate-400"}),RL(c)]}),Nt.jsx(E7,{variant:u<0?"destructive":u<=2?"warning":"success",children:u<0?`${Math.abs(u)} días vencido`:`${u} días`})]})]}),Nt.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between",children:[Nt.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-base font-semibold text-slate-900",children:[Nt.jsx(zR,{className:"h-4 w-4 text-slate-400"}),ML(e.saldo)]}),r&&n?Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 border border-slate-200",onClick:e=>{e.stopPropagation(),n()},disabled:i,"aria-label":"Avanzar estado",children:Nt.jsx(jR,{className:"h-4 w-4"})}):null]})]})}function Woe({clientes:e,anticipoMinimo:t,onSubmit:n,onClose:r}){var i;const[a,o]=wt.useState(1),s=TL().startOf("day"),[l,c]=wt.useState([]),[u,d]=wt.useState(!1),[h,f]=wt.useState(0),[p,m]=wt.useState(!0),[g,y]=wt.useState({folio:`QB-${TL().format("YYYYMMDD-HHmm")}`,cliente_id:(null==(i=e[0])?void 0:i.id)??"",fecha_pedido:s.toDate(),fecha_compromiso:s.add(7,"day").toDate(),status:"COTIZACIÓN",prioridad:"MEDIA",notas:"",anticipo:0,subtotal:0,descuento:0,impuestos:0,total:0,saldo:0}),v=wt.useMemo(()=>l.reduce((e,t)=>e+t.importe,0),[l]),b=wt.useMemo(()=>u?Number((v*h/100).toFixed(2)):0,[u,h,v]),w=wt.useMemo(()=>Math.max(Number((v-b).toFixed(2)),0),[v,b]),x=wt.useMemo(()=>p?Number((.16*w).toFixed(2)):0,[p,w]),_=wt.useMemo(()=>Number((w+x).toFixed(2)),[w,x]),E=wt.useMemo(()=>Math.max(Number((_-g.anticipo).toFixed(2)),0),[_,g.anticipo]),S=wt.useMemo(()=>Number((_*t/100).toFixed(2)),[_,t]),k=e.length>0,C=wt.useMemo(()=>e.find(e=>e.id===g.cliente_id)??null,[e,g.cliente_id]);function O(e,t,n){c(r=>r.map((r,i)=>{if(i!==e)return r;if("descripcion_item"===t)return{...r,descripcion_item:String(n)};if("precio_unitario"===t){const e=Number(n)||0;return{...r,precio_unitario:e,importe:Number(e.toFixed(2))}}if("importe"===t){const e=Number(n)||0;return{...r,importe:Number(e.toFixed(2))}}return r}))}const T=[{id:1,label:"Cliente"},{id:2,label:"Items"},{id:3,label:"Importes"},{id:4,label:"Confirmar"}],A=4===a;return k?Nt.jsxs(Nt.Fragment,{children:[Nt.jsxs(vae,{children:[Nt.jsx(bae,{children:"Nuevo pedido"}),Nt.jsx(wae,{children:"Completa los pasos para generar el pedido y calcular los importes finales."})]}),Nt.jsxs(xae,{className:"space-y-6",children:[Nt.jsx("div",{className:"grid grid-cols-2 gap-2 text-[11px] sm:grid-cols-4 sm:text-xs",children:T.map((e,t)=>{const n=a===e.id;return Nt.jsxs("div",{className:dR("flex w-full flex-col items-center gap-1 rounded-full border px-3 py-2 text-center uppercase",n?"border-primary bg-primary text-white":"border-transparent bg-slate-100 text-slate-500"),children:[Nt.jsx("span",{children:e.label}),t<T.length-1?Nt.jsxs("span",{className:"text-[10px] text-slate-400",children:["Paso ",e.id]}):null]},e.id)})}),1===a?Nt.jsxs("div",{className:"space-y-4",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Cliente",Nt.jsx("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:g.cliente_id,onChange:e=>y(t=>({...t,cliente_id:e.target.value})),children:e.map(e=>Nt.jsxs("option",{value:e.id,children:[e.alias," - ",e.ciudad]},e.id))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha de compromiso",Nt.jsx(yR,{type:"date",value:TL(g.fecha_compromiso).format("YYYY-MM-DD"),min:s.format("YYYY-MM-DD"),onChange:e=>y(t=>({...t,fecha_compromiso:TL(e.target.value).toDate()}))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Prioridad",Nt.jsx("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:g.prioridad,onChange:e=>y(t=>({...t,prioridad:e.target.value})),children:Voe.map(e=>Nt.jsx("option",{value:e,children:e},e))})]}),Nt.jsx(Roe,{placeholder:"Notas generales",value:g.notas??"",onChange:e=>y(t=>({...t,notas:e.target.value}))})]}):null,2===a?Nt.jsxs("div",{className:"space-y-4",children:[l.map((e,t)=>Nt.jsx("div",{className:"rounded-2xl border border-slate-200 p-4",children:Nt.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Descripción",Nt.jsx(yR,{value:e.descripcion_item,onChange:e=>O(t,"descripcion_item",e.target.value)})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Precio unitario",Nt.jsx(yR,{type:"number",step:"0.01",value:e.precio_unitario,onChange:e=>O(t,"precio_unitario",Number(e.target.value))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm md:col-span-2",children:["Importe total",Nt.jsx(yR,{type:"number",readOnly:!0,value:e.importe.toFixed(2)})]})]})},t)),Nt.jsx(gR,{type:"button",variant:"outline",onClick:function(){c(e=>[...e,{descripcion_item:"",precio_unitario:0,importe:0}])},className:"w-full sm:w-auto",children:"Agregar item"})]}):null,3===a?Nt.jsxs("div",{className:"space-y-4",children:[Nt.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Subtotal",Nt.jsx(yR,{type:"number",readOnly:!0,value:v.toFixed(2)})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Anticipo",Nt.jsx(yR,{type:"number",step:"0.01",value:g.anticipo,onChange:e=>y(t=>({...t,anticipo:Number(e.target.value)}))}),Nt.jsxs("span",{className:"text-xs text-slate-500",children:["Sugerido: ",ML(S)]})]})]}),Nt.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[Nt.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 p-4",children:[Nt.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[Nt.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300",checked:u,onChange:e=>{const t=e.target.checked;d(t),t||f(0)}}),"Descuento (%)"]}),Nt.jsx(yR,{type:"number",step:"0.01",min:0,max:100,value:h,onChange:e=>{const t=Number(e.target.value);Number.isNaN(t)?f(0):f(Math.min(Math.max(t,0),100))},disabled:!u,placeholder:"0"}),Nt.jsxs("span",{className:"text-xs text-slate-500",children:["Aplicado: ",ML(b)]})]}),Nt.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 p-4",children:[Nt.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[Nt.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300",checked:p,onChange:e=>m(e.target.checked)}),"Impuestos (IVA 16%)"]}),Nt.jsx(yR,{type:"number",readOnly:!0,value:x.toFixed(2),disabled:!p}),Nt.jsx("span",{className:"text-xs text-slate-500",children:"Calculado sobre el subtotal con descuento."})]})]}),Nt.jsx(uL,{variant:g.anticipo>=S?"success":"warning",title:`Total: ${ML(_)} / Saldo: ${ML(E)}`,description:`Anticipo mínimo recomendado (${t}%): ${ML(S)}`})]}):null,4===a?Nt.jsxs("div",{className:"space-y-4 text-sm",children:[Nt.jsx(uL,{variant:"default",title:"Resumen del pedido",description:`Folio: ${g.folio} — Cliente ${(null==C?void 0:C.alias)??g.cliente_id}`}),Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Items"}),Nt.jsx("ul",{className:"mt-2 space-y-2 text-xs text-slate-600",children:l.map((e,t)=>Nt.jsxs("li",{className:"flex items-center justify-between",children:[Nt.jsx("span",{children:e.descripcion_item}),Nt.jsx("span",{children:ML(e.importe)})]},t))})]}),Nt.jsxs("div",{className:"text-xs text-slate-500",children:[Nt.jsxs("p",{children:["Subtotal: ",ML(v)]}),Nt.jsxs("p",{children:["Descuento: ",ML(b)]}),Nt.jsxs("p",{children:["Impuestos: ",ML(x)]}),Nt.jsxs("p",{className:"font-semibold text-slate-700",children:["Total: ",ML(_)]}),Nt.jsxs("p",{children:["Anticipo: ",ML(g.anticipo)]}),Nt.jsxs("p",{children:["Saldo: ",ML(E)]})]})]}):null]}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-between",children:[Nt.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:r,children:"Cancelar"})}),Nt.jsx(gR,{type:"button",variant:"outline",className:"w-full sm:w-auto",onClick:()=>o(e=>Math.max(1,e-1)),disabled:1===a,children:"Regresar"})]}),Nt.jsx(gR,{type:"button",className:"w-full sm:w-auto",onClick:A?async function(){if(!l.length)return void alert("Agrega al menos un item al pedido.");if(TL(g.fecha_compromiso).isBefore(s)&&!confirm("La fecha compromiso es anterior a hoy. ¿Deseas continuar?"))return;if(g.anticipo<S&&!confirm(`El anticipo es menor al ${t}% sugerido. ¿Deseas continuar?`))return;const e={...g,subtotal:v,descuento:b,impuestos:x,total:_,saldo:E,items:l};await n(e)}:()=>o(e=>e+1),disabled:!A&&2===a&&0===l.length,children:A?"Crear pedido":"Continuar"})]})]}):Nt.jsxs(Nt.Fragment,{children:[Nt.jsxs(vae,{children:[Nt.jsx(bae,{children:"Nuevo pedido"}),Nt.jsx(wae,{children:"Completa los pasos para generar el pedido y calcular los importes finales."})]}),Nt.jsx(xae,{className:"flex flex-1 flex-col items-center justify-center gap-4 text-center",children:Nt.jsx(uL,{variant:"warning",title:"No hay clientes activos",description:"Registra un cliente para asociarlo al pedido."})}),Nt.jsx(_ae,{children:Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:r,children:"Cerrar"})})})]})}function Koe({pedido:e,onClose:t}){return Nt.jsxs(Nt.Fragment,{children:[Nt.jsxs(vae,{children:[Nt.jsxs(bae,{children:["Detalle pedido ",e.folio]}),Nt.jsx(wae,{children:"Revisa la información general del pedido y su estado actual."})]}),Nt.jsx(xae,{className:"space-y-4",children:Nt.jsxs("div",{className:"grid gap-3 text-sm md:grid-cols-2",children:[Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Estado"}),Nt.jsx("p",{children:e.status})]}),Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Saldo"}),Nt.jsx("p",{children:ML(e.saldo)})]}),Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Compromiso"}),Nt.jsx("p",{children:RL(e.fecha_compromiso.toDate())})]}),Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Anticipo"}),Nt.jsx("p",{children:ML(e.anticipo)})]}),Nt.jsxs("div",{className:"md:col-span-2",children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Notas"}),Nt.jsx("p",{children:e.notas||"Sin notas"})]})]})}),Nt.jsx(_ae,{children:Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:t,children:"Cerrar"})})})]})}const Hoe=TD(tR,"pedidos"),Goe=TD(tR,"abonos"),Yoe=TD(tR,"movimientos_caja");async function Qoe(){const e=hM(Hoe,pM("saldo",">",0),yM("saldo","desc"));return(await PM(e)).docs.map(e=>({id:e.id,...e.data()}))}const Zoe=["cobranza"];function Xoe(){const e=Sm();return Im({mutationFn:e=>async function(e,t){const n=AD(tR,"pedidos",e.pedido_id),r=AD(tR,"clientes",e.cliente_id),i=AD(Goe),a=AD(Yoe);let o=0;await qM(tR,async s=>{const l=await s.get(n);if(!l.exists())throw new Error("Pedido no encontrado");const c=l.data();o=Math.max(c.saldo-e.monto,0),s.update(n,{saldo:o,actualizado_en:WM()}),s.set(i,{pedido_id:n,cliente_id:r,fecha:qO.fromDate(e.fecha),monto:e.monto,metodo:e.metodo,ref:e.ref??"",notas:e.notas??"",registrado_por:t,creado_en:WM()}),s.set(a,{fecha:qO.fromDate(e.fecha),tipo:"INGRESO",categoria:"COBRANZA",monto:e.monto,referencia_pedido_id:n,notas:`Abono ${e.metodo}`,registrado_por:t,creado_en:WM()})}),await Oae({entidad:"abonos",entidad_id:i.id,accion:"REGISTRAR_ABONO",usuario:t,datos:{pedidoId:n.id,monto:e.monto}}),await Oae({entidad:"pedidos",entidad_id:n.id,accion:"ACTUALIZAR_SALDO",usuario:t,datos:{saldo:o}})}(e.data,e.usuarioId),onSuccess:()=>{e.invalidateQueries({queryKey:Zoe}),e.invalidateQueries({queryKey:["pedidos"]})}})}const Joe=["EFECTIVO","TRANSFERENCIA","TARJETA"];function ese(){const{user:e,role:t,loading:n}=wL(),r=!!e&&!n,{data:i,isLoading:a,isFetching:o}=function(e={}){return Nm({queryKey:Zoe,queryFn:Qoe,staleTime:3e4,enabled:e.enabled})}({enabled:r}),s=n||a||r&&o&&!i,l=Xoe(),{data:c}=Nae({},{enabled:r}),u=wt.useMemo(()=>c?new Map(c.map(e=>[e.id,e.alias])):new Map,[c]),[d,h]=wt.useState(null),f=Fae(),p=Uae(),[m,g]=wt.useState(null),[y,v]=wt.useState(!1),b=["OWNER","ADMIN","COBRANZA"].includes(t??"");async function w(t){e&&confirm(`¿Eliminar el pedido ${t.folio}?`)&&(await p.mutateAsync({id:t.id,usuarioId:e.uid}),(null==d?void 0:d.id)===t.id&&h(null))}return Nt.jsxs("div",{className:"space-y-6 pb-12",children:[Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Créditos y cobranza"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Monitorea los pedidos con saldo pendiente y registra abonos al instante."})]}),Nt.jsxs(CL,{className:"flex items-center justify-between text-xs text-slate-500",children:[Nt.jsx("span",{children:(null==i?void 0:i.length)?`${i.length} pedidos con saldo`:"Sin cartera vencida"}),Nt.jsx(E7,{variant:"warning",className:"uppercase",children:"Revisa diariamente"})]})]}),Nt.jsx("section",{className:"space-y-3",children:s?Array.from({length:3}).map((e,t)=>Nt.jsx(EL,{className:"border-none bg-white/60 p-4 shadow-sm",children:Nt.jsxs("div",{className:"flex animate-pulse flex-col gap-3",children:[Nt.jsx("div",{className:"h-4 w-28 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-4 w-40 rounded-full bg-slate-200"})]})},t)):i&&i.length?i.map(e=>Nt.jsx(tse,{pedido:e,onRegistrar:()=>h(e),disabled:!b,onEdit:()=>function(e){g(e),v(!0)}(e),onDelete:()=>w(e),allowActions:b,clienteNombre:u.get(e.cliente_id.id)??e.cliente_id.id},e.id)):Nt.jsx(FL,{title:"Sin cartera vencida",description:"Todos los pedidos están al corriente."})}),Nt.jsx(fae,{open:!!d,onOpenChange:e=>!e&&h(null),children:Nt.jsx(yae,{children:d?Nt.jsx(nse,{pedido:d,onClose:()=>h(null),onSubmit:async t=>{e&&(await l.mutateAsync({data:t,usuarioId:e.uid}),h(null))},isSubmitting:l.isPending}):null})}),Nt.jsx(zoe,{open:y&&!!m,pedido:m,onOpenChange:e=>{v(e),e||g(null)},onSubmit:async t=>{e&&m&&(await f.mutateAsync({id:m.id,data:t,usuarioId:e.uid}),v(!1),g(null))},onDelete:b?async()=>{m&&(await w(m),v(!1),g(null))}:void 0,isSubmitting:f.isPending,isDeleting:p.isPending,allowDelete:b})]})}function tse({pedido:e,onRegistrar:t,disabled:n,onEdit:r,onDelete:i,allowActions:a,clienteNombre:o}){const s=e.fecha_compromiso.toDate(),l=TL().diff(s,"day"),c=0===TL().diff(s,"day");return Nt.jsxs(EL,{className:"border-none bg-white/90 p-4 shadow-sm",children:[Nt.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Nt.jsxs("div",{children:[Nt.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["Folio ",e.folio]}),Nt.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-500",children:[Nt.jsx(aL,{className:"h-4 w-4 text-slate-400"}),o]})]}),Nt.jsxs("div",{className:"flex items-center gap-2",children:[Nt.jsx(E7,{variant:"CERRADO"===e.status?"success":"warning",className:"uppercase",children:e.status.replace(/_/g," ")}),a?Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-9 w-9 border border-slate-200",onClick:r,"aria-label":"Editar pedido",children:Nt.jsx(QR,{className:"h-4 w-4"})}),Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-9 w-9 border border-slate-200 text-destructive",onClick:i,"aria-label":"Eliminar pedido",children:Nt.jsx(nL,{className:"h-4 w-4"})})]}):null]})]}),Nt.jsxs("div",{className:"mt-4 flex flex-col gap-2 text-sm text-slate-600",children:[Nt.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[Nt.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[Nt.jsx(AR,{className:"h-4 w-4 text-slate-400"}),RL(s)]}),Nt.jsx(E7,{variant:l>0?"destructive":c?"warning":"success",children:l>0?`${l} días vencido`:c?"Vence hoy":"Al día"})]}),Nt.jsxs("div",{className:"flex items-center gap-2 text-base font-semibold text-slate-900",children:[Nt.jsx(iL,{className:"h-4 w-4 text-amber-500"}),ML(e.saldo)," pendientes"]})]}),Nt.jsx("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row sm:justify-end",children:Nt.jsx(gR,{onClick:t,disabled:n,className:"w-full sm:w-auto",children:"Registrar abono"})})]})}function nse({pedido:e,onSubmit:t,onClose:n,isSubmitting:r}){const[i,a]=wt.useState(TL().format("YYYY-MM-DD")),[o,s]=wt.useState(e.saldo),[l,c]=wt.useState("EFECTIVO"),[u,d]=wt.useState(""),[h,f]=wt.useState("");return Nt.jsxs("form",{className:"flex h-full flex-col",onSubmit:async function(n){n.preventDefault(),await t({pedido_id:e.id,cliente_id:e.cliente_id.id,fecha:TL(i).toDate(),monto:o,metodo:l,ref:u,notas:h})},children:[Nt.jsxs(vae,{children:[Nt.jsxs(bae,{children:["Registrar abono — ",e.folio]}),Nt.jsx(wae,{children:"Ingresa el pago recibido y actualiza el saldo pendiente del pedido."})]}),Nt.jsxs(xae,{className:"space-y-3 text-sm",children:[Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-medium text-slate-600",children:"Saldo actual"}),Nt.jsx("p",{children:ML(e.saldo)})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha",Nt.jsx(yR,{type:"date",value:i,onChange:e=>a(e.target.value),disabled:r})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Monto",Nt.jsx(yR,{type:"number",step:"0.01",value:o,onChange:e=>s(Number(e.target.value)),disabled:r})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Método de pago",Nt.jsx("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:l,onChange:e=>c(e.target.value),disabled:r,children:Joe.map(e=>Nt.jsx("option",{value:e,children:e},e))})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Referencia",Nt.jsx(yR,{value:u,onChange:e=>d(e.target.value),disabled:r})]}),Nt.jsx(Roe,{placeholder:"Notas",value:h,onChange:e=>f(e.target.value),disabled:r})]}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-end",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:n,disabled:r,children:"Cancelar"})}),Nt.jsx(gR,{type:"submit",className:"w-full sm:w-auto",disabled:r,children:r?"Guardando...":"Registrar"})]})]})}const rse=TD(tR,"movimientos_caja");const ise=["caja"];function ase(e={},t={}){return Nm({queryKey:[...ise,e],queryFn:()=>async function(e){const t=[];(null==e?void 0:e.tipo)&&"TODOS"!==e.tipo&&t.push(pM("tipo","==",e.tipo)),(null==e?void 0:e.categoria)&&t.push(pM("categoria","==",e.categoria)),(null==e?void 0:e.desde)&&t.push(pM("fecha",">=",qO.fromDate(e.desde))),(null==e?void 0:e.hasta)&&t.push(pM("fecha","<=",qO.fromDate(e.hasta)));const n=hM(rse,...t,yM("fecha","desc"),bM(200));return(await PM(n)).docs.map(e=>({id:e.id,...e.data()}))}(e),staleTime:3e4,enabled:t.enabled})}function ose(){const e=Sm();return Im({mutationFn:e=>async function(e,t){const n={fecha:qO.fromDate(e.fecha),tipo:e.tipo,categoria:e.categoria,monto:e.monto,referencia_pedido_id:e.referencia_pedido_id?AD(tR,"pedidos",e.referencia_pedido_id):null,notas:e.notas??"",registrado_por:t,creado_en:WM()},r=await LM(rse,n);await Oae({entidad:"movimientos_caja",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n})}(e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:ise})})}function sse(){const e=Sm();return Im({mutationFn:e=>async function(e,t,n){const r=AD(rse,e),i={fecha:qO.fromDate(t.fecha),tipo:t.tipo,categoria:t.categoria,monto:t.monto,referencia_pedido_id:t.referencia_pedido_id?AD(tR,"pedidos",t.referencia_pedido_id):null,notas:t.notas??"",actualizado_en:WM()};await MM(r,i),await Oae({entidad:"movimientos_caja",entidad_id:e,accion:"ACTUALIZAR",usuario:n,datos:i})}(e.id,e.data,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:ise})})}function lse(){const e=Sm();return Im({mutationFn:e=>async function(e,t){await RM(AD(rse,e)),await Oae({entidad:"movimientos_caja",entidad_id:e,accion:"ELIMINAR",usuario:t,datos:{}})}(e.id,e.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:ise})})}function cse(){var e;const{user:t,role:n,loading:r}=wL(),[i,a]=wt.useState("TODOS"),[o,s]=wt.useState(""),[l,c]=wt.useState(TL().subtract(7,"day").format("YYYY-MM-DD")),[u,d]=wt.useState(TL().format("YYYY-MM-DD")),h=!!t&&!r,{data:f,isLoading:p,isFetching:m}=ase({tipo:i,categoria:o||void 0,desde:TL(l).toDate(),hasta:TL(u).toDate()},{enabled:h}),g=r||p||h&&m&&!f,y=ose(),v=sse(),b=lse(),[w,x]=wt.useState(!1),[_,E]=wt.useState("crear"),[S,k]=wt.useState(null),C=wt.useMemo(()=>{if(!f)return{ingreso:0,egreso:0,neto:0};const e=f.filter(e=>"INGRESO"===e.tipo).reduce((e,t)=>e+t.monto,0),t=f.filter(e=>"EGRESO"===e.tipo).reduce((e,t)=>e+t.monto,0);return{ingreso:e,egreso:t,neto:e-t}},[f]);const O=["OWNER","ADMIN","COBRANZA"].includes(n??"");function T(){E("crear"),k(null),x(!0)}async function A(e){t&&confirm(`¿Eliminar el ${e.tipo.toLowerCase()} por ${ML(e.monto)}?`)&&await b.mutateAsync({id:e.id,usuarioId:t.uid})}return Nt.jsxs("div",{className:"relative space-y-6 pb-20",children:[Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Movimientos de caja"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Filtra y registra ingresos o egresos con controles optimizados para móvil."})]}),Nt.jsxs(CL,{className:"space-y-4",children:[Nt.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Tipo",Nt.jsxs("select",{className:"h-11 rounded-full border border-slate-200 bg-white px-4 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:i,onChange:e=>a(e.target.value),children:[Nt.jsx("option",{value:"TODOS",children:"Todos"}),Nt.jsx("option",{value:"INGRESO",children:"Ingresos"}),Nt.jsx("option",{value:"EGRESO",children:"Egresos"})]})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Categoría",Nt.jsx(yR,{value:o,onChange:e=>s(e.target.value)})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Desde",Nt.jsx(yR,{type:"date",value:l,onChange:e=>c(e.target.value)})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Hasta",Nt.jsx(yR,{type:"date",value:u,onChange:e=>d(e.target.value)})]})]}),Nt.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[Nt.jsxs(gR,{variant:"outline",onClick:function(){if(!f||!f.length)return;const e=f.map(e=>{var t;return`${RL(e.fecha.toDate())},${e.tipo},${e.categoria},${e.monto.toFixed(2)},${e.referencia_pedido_id?e.referencia_pedido_id.id:""},${(null==(t=e.notas)?void 0:t.replace(/,/g,";"))??""}`}).join("\n"),t=new Blob(["Fecha,Tipo,Categoría,Monto,Referencia,Notas\n"+e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`movimientos-caja-${TL().format("YYYYMMDD-HHmm")}.csv`,r.click(),URL.revokeObjectURL(n)},disabled:!(null==f?void 0:f.length),className:"w-full sm:w-auto",children:[Nt.jsx(UR,{className:"h-4 w-4"}),"Exportar CSV"]}),O?Nt.jsxs(gR,{onClick:T,className:"w-full sm:w-auto",children:[Nt.jsx(JR,{className:"h-4 w-4"}),"Nuevo movimiento"]}):null]})]})]}),Nt.jsx(EL,{className:"border-none bg-gradient-to-r from-emerald-50 via-white to-sky-50 shadow-sm",children:Nt.jsxs(CL,{className:"grid gap-3 sm:grid-cols-3",children:[Nt.jsx(use,{titulo:"Ingresos",valor:ML(C.ingreso),icon:MR,tono:"success"}),Nt.jsx(use,{titulo:"Egresos",valor:ML(C.egreso),icon:DR,tono:"warning"}),Nt.jsx(use,{titulo:"Balance neto",valor:ML(C.neto),icon:MR,tono:"neutral"})]})}),Nt.jsx("section",{className:"space-y-3",children:g?Array.from({length:4}).map((e,t)=>Nt.jsx(EL,{className:"border-none bg-white/60 p-4 shadow-sm",children:Nt.jsxs("div",{className:"flex animate-pulse flex-col gap-3",children:[Nt.jsx("div",{className:"h-4 w-24 rounded-full bg-slate-200"}),Nt.jsx("div",{className:"h-4 w-40 rounded-full bg-slate-200"})]})},t)):f&&f.length?f.map(e=>Nt.jsx(dse,{movimiento:e,onEdit:()=>function(e){E("editar"),k(e),x(!0)}(e),onDelete:()=>A(e),allowActions:O},e.id)):Nt.jsx(FL,{title:"Sin movimientos",description:"Registra un ingreso o egreso para comenzar."})}),O?Nt.jsx(gR,{size:"fab",className:"fixed bottom-24 right-6 z-40 sm:hidden",onClick:T,"aria-label":"Nuevo movimiento",children:Nt.jsx(JR,{className:"h-6 w-6"})}):null,Nt.jsx(fae,{open:w,onOpenChange:e=>{x(e),e||(k(null),E("crear"))},children:Nt.jsxs(yae,{children:[Nt.jsxs(vae,{children:[Nt.jsx(bae,{children:"crear"===_?"Registrar movimiento":"Editar movimiento"}),Nt.jsx(wae,{children:"crear"===_?"Captura un ingreso o egreso y guarda la referencia en la bitácora.":"Actualiza los datos del movimiento y mantiene la bitácora al día."})]}),Nt.jsx(hse,{mode:_,defaultValues:S?{fecha:S.fecha.toDate(),tipo:S.tipo,categoria:S.categoria,monto:S.monto,referencia:(null==(e=S.referencia_pedido_id)?void 0:e.id)??"",notas:S.notas??""}:void 0,onSubmit:async e=>{t&&("crear"===_?await y.mutateAsync({data:e,usuarioId:t.uid}):S&&await v.mutateAsync({id:S.id,data:e,usuarioId:t.uid}),x(!1),k(null),E("crear"))},onCancel:()=>{x(!1),k(null),E("crear")},onDelete:"editar"===_?async()=>{S&&(await A(S),x(!1),k(null),E("crear"))}:void 0,isSubmitting:"crear"===_?y.isPending:v.isPending,isDeleting:b.isPending})]})})]})}function use({titulo:e,valor:t,icon:n,tono:r}){const i="success"===r?"bg-emerald-100 text-emerald-600":"warning"===r?"bg-red-100 text-red-600":"bg-slate-100 text-slate-600";return Nt.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/80 p-4 shadow-sm",children:[Nt.jsx("span",{className:dR("flex h-10 w-10 items-center justify-center rounded-full",i),children:Nt.jsx(n,{className:"h-5 w-5"})}),Nt.jsxs("div",{className:"flex flex-col",children:[Nt.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:e}),Nt.jsx("span",{className:"text-lg font-semibold text-slate-900",children:t})]})]})}function dse({movimiento:e,onEdit:t,onDelete:n,allowActions:r}){var i;const a="INGRESO"===e.tipo?"success":"warning";return Nt.jsxs(EL,{className:"border-none bg-white/90 p-4 shadow-sm",children:[Nt.jsxs("div",{className:"flex items-start justify-between gap-3",children:[Nt.jsxs("div",{className:"flex flex-col gap-1",children:[Nt.jsx(E7,{variant:a,className:"uppercase",children:e.tipo}),Nt.jsx("span",{className:"text-2xl font-semibold text-slate-900",children:ML(e.monto)}),Nt.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:e.categoria||"Sin categoría"})]}),Nt.jsxs("div",{className:"flex items-center gap-2",children:[Nt.jsx("span",{className:"text-xs text-slate-500",children:RL(e.fecha.toDate())}),r?Nt.jsxs(Nt.Fragment,{children:[Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-9 w-9 border border-slate-200",onClick:t,"aria-label":"Editar movimiento",children:Nt.jsx(QR,{className:"h-4 w-4"})}),Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-9 w-9 border border-slate-200 text-destructive",onClick:n,"aria-label":"Eliminar movimiento",children:Nt.jsx(nL,{className:"h-4 w-4"})})]}):null]})]}),Nt.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-600",children:[Nt.jsxs("div",{className:"flex items-center justify-between",children:[Nt.jsx("span",{className:"font-medium text-slate-700",children:"Referencia"}),Nt.jsx("span",{className:"text-xs text-slate-500",children:(null==(i=e.referencia_pedido_id)?void 0:i.id)??"N/A"})]}),Nt.jsx("p",{className:"rounded-2xl bg-slate-50 p-3 text-xs text-slate-500",children:e.notas||"Sin notas adicionales."})]})]})}function hse({mode:e,defaultValues:t,onSubmit:n,onCancel:r,onDelete:i,isSubmitting:a,isDeleting:o=!1}){const[s,l]=wt.useState(()=>TL((null==t?void 0:t.fecha)??TL().toDate()).format("YYYY-MM-DD")),[c,u]=wt.useState((null==t?void 0:t.tipo)??"INGRESO"),[d,h]=wt.useState((null==t?void 0:t.categoria)??""),[f,p]=wt.useState((null==t?void 0:t.monto)??0),[m,g]=wt.useState((null==t?void 0:t.referencia)??""),[y,v]=wt.useState((null==t?void 0:t.notas)??"");wt.useEffect(()=>{t?(l(TL(t.fecha).format("YYYY-MM-DD")),u(t.tipo),h(t.categoria),p(t.monto),g(t.referencia??""),v(t.notas??"")):"crear"===e&&(l(TL().format("YYYY-MM-DD")),u("INGRESO"),h(""),p(0),g(""),v(""))},[t,e]);const b=a||o,w="crear"===e?a?"Guardando...":"Registrar":a?"Actualizando...":"Actualizar";return Nt.jsxs("form",{className:"flex h-full flex-col",onSubmit:async function(e){e.preventDefault(),await n({fecha:TL(s).toDate(),tipo:c,categoria:d,monto:f,referencia_pedido_id:m||void 0,notas:y})},children:[Nt.jsxs(xae,{className:"space-y-4",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha",Nt.jsx(yR,{type:"date",value:s,onChange:e=>l(e.target.value),disabled:b})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Tipo",Nt.jsxs("select",{className:"h-12 rounded-full border border-slate-200 bg-white px-4 text-base shadow-sm focus:outline-none focus:ring-2 focus:ring-accent",value:c,onChange:e=>u(e.target.value),disabled:b,children:[Nt.jsx("option",{value:"INGRESO",children:"Ingreso"}),Nt.jsx("option",{value:"EGRESO",children:"Egreso"})]})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Categoría",Nt.jsx(yR,{value:d,onChange:e=>h(e.target.value),disabled:b})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Monto",Nt.jsx(yR,{type:"number",step:"0.01",value:f,onChange:e=>p(Number(e.target.value)),disabled:b})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Referencia pedido (opcional)",Nt.jsx(yR,{value:m,onChange:e=>g(e.target.value),disabled:b})]}),Nt.jsx(Roe,{placeholder:"Notas",value:y,onChange:e=>v(e.target.value),disabled:b})]}),Nt.jsxs(_ae,{className:"gap-3 sm:justify-between",children:[Nt.jsx(mae,{asChild:!0,children:Nt.jsx(gR,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:r,disabled:b,children:"Cancelar"})}),Nt.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row",children:["editar"===e&&i?Nt.jsx(gR,{type:"button",variant:"destructive",className:"w-full sm:w-auto",onClick:i,disabled:b,children:o?"Eliminando...":"Eliminar"}):null,Nt.jsx(gR,{type:"submit",className:"w-full sm:w-auto",disabled:b,children:w})]})]})]})}const fse=["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"];function pse(){const{role:e,user:t,loading:n}=wL(),r=!!t&&!n,{data:i,isLoading:a,isFetching:o}=Doe({enabled:r}),s=n||a||r&&o&&!i,l=Moe(),c=Kg({resolver:sw(T7),defaultValues:{porcentaje_anticipo:50,dias_credito:30,politicas_credito:"",roles_visibles:["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"]}});wt.useEffect(()=>{i&&c.reset(i)},[i,c]);const u=["OWNER","ADMIN"].includes(e??"");return s?Nt.jsx("div",{className:"flex h-40 items-center justify-center",children:Nt.jsx(qR,{className:"h-6 w-6 animate-spin"})}):Nt.jsxs("form",{className:"relative space-y-6 pb-24",onSubmit:c.handleSubmit(async function(e){t&&await l.mutateAsync({data:e,usuarioId:t.uid})}),children:[Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Parámetros generales"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Define los valores base para anticipos y condiciones de crédito."})]}),Nt.jsxs(CL,{className:"space-y-4",children:[Nt.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["% Anticipo mínimo",Nt.jsx(yR,{type:"number",step:"0.01",disabled:!u,...c.register("porcentaje_anticipo",{valueAsNumber:!0})})]}),Nt.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Días de crédito estándar",Nt.jsx(yR,{type:"number",disabled:!u,...c.register("dias_credito",{valueAsNumber:!0})})]})]}),Nt.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:["Políticas de crédito y cobranza",Nt.jsx(Roe,{rows:5,disabled:!u,...c.register("politicas_credito")})]})]})]}),Nt.jsxs(EL,{className:"border-none bg-white/80 shadow-sm",children:[Nt.jsxs(SL,{className:"pb-3",children:[Nt.jsx(kL,{className:"text-base font-semibold",children:"Roles con acceso"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:"Activa los perfiles que podrán utilizar la aplicación."})]}),Nt.jsxs(CL,{children:[Nt.jsx("div",{className:"flex flex-wrap gap-2",children:fse.map(e=>{const t=c.watch("roles_visibles").includes(e);return Nt.jsx(E7,{variant:t?"success":"outline",className:"cursor-pointer",onClick:()=>{if(!u)return;const t=c.getValues("roles_visibles");t.includes(e)?c.setValue("roles_visibles",t.filter(t=>t!==e)):c.setValue("roles_visibles",[...t,e])},children:e},e)})}),u?null:Nt.jsx(uL,{className:"mt-4",variant:"warning",description:"Solo OWNER y ADMIN pueden actualizar la configuración."})]})]}),Nt.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-0 z-40 px-4 pb-4",children:Nt.jsxs("div",{className:"pointer-events-auto mx-auto flex w-full max-w-md items-center gap-3 rounded-full bg-white/95 px-4 py-3 shadow-lg",children:[Nt.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Guardar cambios"}),Nt.jsx(gR,{type:"submit",className:"ml-auto",disabled:!u||l.isPending,children:l.isPending?"Guardando...":"Guardar"})]})})]})}function mse(){return Nt.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:Nt.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-600",children:[Nt.jsx("span",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-primary"}),Nt.jsx("p",{className:"text-sm font-medium",children:"Cargando información..."})]})})}function gse(){const{user:e,loading:t}=wL();return t?Nt.jsx(mse,{}):e?Nt.jsx(qf,{}):Nt.jsx(Bf,{to:"/login",replace:!0})}const yse=[{to:"/app/dashboard",label:"Dashboard",icon:$R},{to:"/app/clientes",label:"Clientes",icon:oL},{to:"/app/pedidos",label:"Pedidos",icon:LR},{to:"/app/cobranza",label:"Cobranza",icon:zR},{to:"/app/caja",label:"Caja",icon:XR},{to:"/app/config",label:"Configuración",icon:tL}];function vse(){const{user:e,role:t}=wL(),[n,r]=wt.useState(!1),i=Tf(),a=yse.find(e=>i.pathname.startsWith(e.to));return Nt.jsxs("div",{className:"relative flex min-h-screen w-full max-w-[100vw] bg-slate-100",children:[Nt.jsx("div",{className:dR("fixed inset-0 z-40 bg-slate-900/40 backdrop-blur-sm transition-opacity lg:hidden",n?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),onClick:()=>r(!1)}),Nt.jsxs("aside",{className:dR("fixed inset-y-0 left-0 z-50 flex w-72 flex-col gap-6 overflow-y-auto border-r border-slate-200 bg-white px-6 py-6 shadow-xl transition-transform duration-300 ease-out lg:static lg:translate-x-0 lg:shadow-none",{"-translate-x-full lg:-translate-x-0":!n,"translate-x-0":n}),children:[Nt.jsxs("div",{className:"flex items-center justify-between gap-3",children:[Nt.jsx(yp,{to:"/app/dashboard",className:"text-base font-semibold tracking-tight text-primary",children:"Quality Bordados"}),Nt.jsx(gR,{size:"icon",variant:"ghost",className:"h-10 w-10 rounded-full border border-slate-200 lg:hidden",onClick:()=>r(!1),"aria-label":"Cerrar menú",children:Nt.jsx(sL,{className:"h-5 w-5"})})]}),Nt.jsx("nav",{className:"flex flex-1 flex-col gap-2",children:yse.map(e=>{const t=e.icon;return Nt.jsxs(vp,{to:e.to,className:({isActive:e})=>dR("flex items-center gap-3 rounded-2xl px-4 py-3 text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",e?"bg-primary text-primary-foreground shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),onClick:()=>r(!1),children:[Nt.jsx(t,{className:"h-5 w-5"}),e.label]},e.to)})}),Nt.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-600",children:[Nt.jsxs("div",{children:[Nt.jsx("p",{className:"font-semibold text-slate-800",children:(null==e?void 0:e.displayName)??"Equipo Quality"}),Nt.jsx("p",{className:"text-xs text-slate-500",children:null==e?void 0:e.email})]}),Nt.jsxs(gR,{variant:"outline",className:"w-full",onClick:async function(){await kk(eR)},children:[Nt.jsx(WR,{className:"h-4 w-4"}),Nt.jsx("span",{children:"Cerrar sesión"})]})]})]}),Nt.jsxs("div",{className:"flex min-h-screen w-full flex-1 flex-col lg:pl-72",children:[Nt.jsxs("header",{className:"sticky top-0 z-30 flex h-14 items-center justify-between border-b border-slate-200 bg-primary px-4 text-primary-foreground shadow-sm sm:px-6 lg:px-10",children:[Nt.jsx("div",{className:"flex items-center gap-3",children:Nt.jsx(gR,{variant:"secondary",size:"icon",className:"h-10 w-10 bg-primary-foreground text-primary lg:hidden",onClick:()=>r(!0),"aria-label":"Abrir menú",children:Nt.jsx(GR,{className:"h-5 w-5"})})}),Nt.jsx("h1",{className:"text-base font-semibold tracking-tight sm:text-lg",children:(null==a?void 0:a.label)??"Quality Bordados"}),Nt.jsx(E7,{variant:"neutral",className:"text-xs uppercase tracking-wide",children:t??"Sin rol"})]}),Nt.jsx("main",{className:"relative flex-1 px-4 pb-24 pt-6 sm:px-6 lg:px-10",children:Nt.jsx("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-6 pb-6",children:Nt.jsx(qf,{})})})]})]})}function bse(){return Nt.jsxs(Hf,{children:[Nt.jsx(Wf,{path:"/",element:Nt.jsx(Bf,{to:"/login",replace:!0})}),Nt.jsx(Wf,{path:"/login",element:Nt.jsx(xL,{})}),Nt.jsx(Wf,{path:"/logout",element:Nt.jsx(_L,{})}),Nt.jsx(Wf,{element:Nt.jsx(gse,{}),children:Nt.jsxs(Wf,{path:"/app",element:Nt.jsx(vse,{}),children:[Nt.jsx(Wf,{index:!0,element:Nt.jsx(Bf,{to:"dashboard",replace:!0})}),Nt.jsx(Wf,{path:"dashboard",element:Nt.jsx(S7,{})}),Nt.jsx(Wf,{path:"clientes",element:Nt.jsx(Ooe,{})}),Nt.jsx(Wf,{path:"pedidos",element:Nt.jsx(Boe,{})}),Nt.jsx(Wf,{path:"cobranza",element:Nt.jsx(ese,{})}),Nt.jsx(Wf,{path:"caja",element:Nt.jsx(cse,{})}),Nt.jsx(Wf,{path:"config",element:Nt.jsx(pse,{})})]})}),Nt.jsx(Wf,{path:"*",element:Nt.jsx(Bf,{to:"/login",replace:!0})})]})}const wse=new _m({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});It.createRoot(document.getElementById("root")).render(Nt.jsx(xt.StrictMode,{children:Nt.jsx(km,{client:wse,children:Nt.jsx(bL,{children:Nt.jsx(mp,{children:Nt.jsx(bse,{})})})})}));
