var p5=Object.defineProperty;var wC=e=>{throw TypeError(e)};var m5=(e,t,n)=>t in e?p5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var qw=(e,t,n)=>m5(e,typeof t!="symbol"?t+"":t,n),Gw=(e,t,n)=>t.has(e)||wC("Cannot "+n);var L=(e,t,n)=>(Gw(e,t,"read from private field"),n?n.call(e):t.get(e)),we=(e,t,n)=>t.has(e)?wC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(Gw(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ne=(e,t,n)=>(Gw(e,t,"access private method"),n);var tm=(e,t,n,r)=>({set _(i){ue(e,t,i,n)},get _(){return L(e,t,r)}});function g5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var kM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RM={exports:{}},Ty={},NM={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),v5=Symbol.for("react.portal"),y5=Symbol.for("react.fragment"),w5=Symbol.for("react.strict_mode"),_5=Symbol.for("react.profiler"),b5=Symbol.for("react.provider"),x5=Symbol.for("react.context"),E5=Symbol.for("react.forward_ref"),S5=Symbol.for("react.suspense"),A5=Symbol.for("react.memo"),T5=Symbol.for("react.lazy"),_C=Symbol.iterator;function P5(e){return e===null||typeof e!="object"?null:(e=_C&&e[_C]||e["@@iterator"],typeof e=="function"?e:null)}var DM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MM=Object.assign,jM={};function uf(e,t,n){this.props=e,this.context=t,this.refs=jM,this.updater=n||DM}uf.prototype.isReactComponent={};uf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LM(){}LM.prototype=uf.prototype;function lS(e,t,n){this.props=e,this.context=t,this.refs=jM,this.updater=n||DM}var uS=lS.prototype=new LM;uS.constructor=lS;MM(uS,uf.prototype);uS.isPureReactComponent=!0;var bC=Array.isArray,$M=Object.prototype.hasOwnProperty,cS={current:null},FM={key:!0,ref:!0,__self:!0,__source:!0};function VM(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)$M.call(t,r)&&!FM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zh,type:e,key:o,ref:s,props:i,_owner:cS.current}}function C5(e,t){return{$$typeof:Zh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zh}function I5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xC=/\/+/g;function Yw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I5(""+e.key):t.toString(36)}function eg(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zh:case v5:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Yw(s,0):r,bC(i)?(n="",e!=null&&(n=e.replace(xC,"$&/")+"/"),eg(i,t,n,"",function(u){return u})):i!=null&&(fS(i)&&(i=C5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bC(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Yw(o,a);s+=eg(o,t,n,l,i)}else if(l=P5(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Yw(o,a++),s+=eg(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nm(e,t,n){if(e==null)return e;var r=[],i=0;return eg(e,r,"","",function(o){return t.call(n,o,i++)}),r}function O5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cr={current:null},tg={transition:null},k5={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:tg,ReactCurrentOwner:cS};function UM(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:nm,forEach:function(e,t,n){nm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nm(e,function(){t++}),t},toArray:function(e){return nm(e,function(t){return t})||[]},only:function(e){if(!fS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=uf;Le.Fragment=y5;Le.Profiler=_5;Le.PureComponent=lS;Le.StrictMode=w5;Le.Suspense=S5;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k5;Le.act=UM;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=MM({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=cS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$M.call(t,l)&&!FM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zh,type:e.type,key:i,ref:o,props:r,_owner:s}};Le.createContext=function(e){return e={$$typeof:x5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b5,_context:e},e.Consumer=e};Le.createElement=VM;Le.createFactory=function(e){var t=VM.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:E5,render:e}};Le.isValidElement=fS;Le.lazy=function(e){return{$$typeof:T5,_payload:{_status:-1,_result:e},_init:O5}};Le.memo=function(e,t){return{$$typeof:A5,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=tg.transition;tg.transition={};try{e()}finally{tg.transition=t}};Le.unstable_act=UM;Le.useCallback=function(e,t){return cr.current.useCallback(e,t)};Le.useContext=function(e){return cr.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return cr.current.useDeferredValue(e)};Le.useEffect=function(e,t){return cr.current.useEffect(e,t)};Le.useId=function(){return cr.current.useId()};Le.useImperativeHandle=function(e,t,n){return cr.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return cr.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return cr.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return cr.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return cr.current.useReducer(e,t,n)};Le.useRef=function(e){return cr.current.useRef(e)};Le.useState=function(e){return cr.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return cr.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return cr.current.useTransition()};Le.version="18.3.1";NM.exports=Le;var g=NM.exports;const ft=wi(g),dS=g5({__proto__:null,default:ft},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5=g,N5=Symbol.for("react.element"),D5=Symbol.for("react.fragment"),M5=Object.prototype.hasOwnProperty,j5=R5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L5={key:!0,ref:!0,__self:!0,__source:!0};function zM(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)M5.call(t,r)&&!L5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:N5,type:e,key:o,ref:s,props:i,_owner:j5.current}}Ty.Fragment=D5;Ty.jsx=zM;Ty.jsxs=zM;RM.exports=Ty;var w=RM.exports,vb={},BM={exports:{}},ti={},WM={exports:{}},HM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,W){var Q=$.length;$.push(W);e:for(;0<Q;){var fe=Q-1>>>1,ne=$[fe];if(0<i(ne,W))$[fe]=W,$[Q]=ne,Q=fe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],Q=$.pop();if(Q!==W){$[0]=Q;e:for(var fe=0,ne=$.length,De=ne>>>1;fe<De;){var Ce=2*(fe+1)-1,Ie=$[Ce],Xe=Ce+1,he=$[Xe];if(0>i(Ie,Q))Xe<ne&&0>i(he,Ie)?($[fe]=he,$[Xe]=Q,fe=Xe):($[fe]=Ie,$[Ce]=Q,fe=Ce);else if(Xe<ne&&0>i(he,Q))$[fe]=he,$[Xe]=Q,fe=Xe;else break e}}return W}function i($,W){var Q=$.sortIndex-W.sortIndex;return Q!==0?Q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function A($){if(m=!1,x($),!v)if(n(l)!==null)v=!0,V(C);else{var W=n(u);W!==null&&K(A,W.startTime-$)}}function C($,W){v=!1,m&&(m=!1,b(T),T=-1),p=!0;var Q=d;try{for(x(W),f=n(l);f!==null&&(!(f.expirationTime>W)||$&&!O());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,d=f.priorityLevel;var ne=fe(f.expirationTime<=W);W=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),x(W)}else r(l);f=n(l)}if(f!==null)var De=!0;else{var Ce=n(u);Ce!==null&&K(A,Ce.startTime-W),De=!1}return De}finally{f=null,d=Q,p=!1}}var N=!1,S=null,T=-1,I=5,k=-1;function O(){return!(e.unstable_now()-k<I)}function D(){if(S!==null){var $=e.unstable_now();k=$;var W=!0;try{W=S(!0,$)}finally{W?R():(N=!1,S=null)}}else N=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=D,R=function(){B.postMessage(null)}}else R=function(){_(D,0)};function V($){S=$,N||(N=!0,R())}function K($,W){T=_(function(){$(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,V(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var Q=d;d=W;try{return $()}finally{d=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=d;d=$;try{return W()}finally{d=Q}},e.unstable_scheduleCallback=function($,W,Q){var fe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,$={id:c++,callback:W,priorityLevel:$,startTime:Q,expirationTime:ne,sortIndex:-1},Q>fe?($.sortIndex=Q,t(u,$),n(l)===null&&$===n(u)&&(m?(b(T),T=-1):m=!0,K(A,Q-fe))):($.sortIndex=ne,t(l,$),v||p||(v=!0,V(C))),$},e.unstable_shouldYield=O,e.unstable_wrapCallback=function($){var W=d;return function(){var Q=d;d=W;try{return $.apply(this,arguments)}finally{d=Q}}}})(HM);WM.exports=HM;var $5=WM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5=g,Zr=$5;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KM=new Set,Jd={};function pu(e,t){Rc(e,t),Rc(e+"Capture",t)}function Rc(e,t){for(Jd[e]=t,e=0;e<t.length;e++)KM.add(t[e])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yb=Object.prototype.hasOwnProperty,V5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EC={},SC={};function U5(e){return yb.call(SC,e)?!0:yb.call(EC,e)?!1:V5.test(e)?SC[e]=!0:(EC[e]=!0,!1)}function z5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B5(e,t,n,r){if(t===null||typeof t>"u"||z5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$n[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$n[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$n[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$n[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$n[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$n[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$n[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$n[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$n[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var hS=/[\-:]([a-z])/g;function pS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hS,pS);$n[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hS,pS);$n[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hS,pS);$n[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$n[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});$n.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$n[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function mS(e,t,n,r){var i=$n.hasOwnProperty(t)?$n[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B5(t,n,i,r)&&(n=null),r||i===null?U5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ds=F5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rm=Symbol.for("react.element"),Uu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),gS=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),GM=Symbol.for("react.context"),vS=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),bb=Symbol.for("react.suspense_list"),yS=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),YM=Symbol.for("react.offscreen"),AC=Symbol.iterator;function nd(e){return e===null||typeof e!="object"?null:(e=AC&&e[AC]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,Zw;function _d(e){if(Zw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zw=t&&t[1]||""}return`
`+Zw+e}var Qw=!1;function Xw(e,t){if(!e||Qw)return"";Qw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Qw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_d(e):""}function W5(e){switch(e.tag){case 5:return _d(e.type);case 16:return _d("Lazy");case 13:return _d("Suspense");case 19:return _d("SuspenseList");case 0:case 2:case 15:return e=Xw(e.type,!1),e;case 11:return e=Xw(e.type.render,!1),e;case 1:return e=Xw(e.type,!0),e;default:return""}}function xb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zu:return"Fragment";case Uu:return"Portal";case wb:return"Profiler";case gS:return"StrictMode";case _b:return"Suspense";case bb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GM:return(e.displayName||"Context")+".Consumer";case qM:return(e._context.displayName||"Context")+".Provider";case vS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yS:return t=e.displayName||null,t!==null?t:xb(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return xb(e(t))}catch{}}return null}function H5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xb(t);case 8:return t===gS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K5(e){var t=ZM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function im(e){e._valueTracker||(e._valueTracker=K5(e))}function QM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ZM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eb(e,t){var n=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function TC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ea(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XM(e,t){t=t.checked,t!=null&&mS(e,"checked",t,!1)}function Sb(e,t){XM(e,t);var n=Ea(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ab(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ab(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function PC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ab(e,t,n){(t!=="number"||Mg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bd=Array.isArray;function rc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ea(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function CC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(bd(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ea(n)}}function JM(e,t){var n=Ea(t.value),r=Ea(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function IC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var om,t2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(om=om||document.createElement("div"),om.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=om.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q5=["Webkit","ms","Moz","O"];Object.keys(Nd).forEach(function(e){q5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nd[t]=Nd[e]})});function n2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nd.hasOwnProperty(e)&&Nd[e]?(""+t).trim():t+"px"}function r2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=n2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var G5=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cb(e,t){if(t){if(G5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Ib(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ob=null;function wS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kb=null,ic=null,oc=null;function OC(e){if(e=Jh(e)){if(typeof kb!="function")throw Error(te(280));var t=e.stateNode;t&&(t=ky(t),kb(e.stateNode,e.type,t))}}function i2(e){ic?oc?oc.push(e):oc=[e]:ic=e}function o2(){if(ic){var e=ic,t=oc;if(oc=ic=null,OC(e),t)for(e=0;e<t.length;e++)OC(t[e])}}function s2(e,t){return e(t)}function a2(){}var Jw=!1;function l2(e,t,n){if(Jw)return e(t,n);Jw=!0;try{return s2(e,t,n)}finally{Jw=!1,(ic!==null||oc!==null)&&(a2(),o2())}}function th(e,t){var n=e.stateNode;if(n===null)return null;var r=ky(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Rb=!1;if(Zo)try{var rd={};Object.defineProperty(rd,"passive",{get:function(){Rb=!0}}),window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{Rb=!1}function Y5(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Dd=!1,jg=null,Lg=!1,Nb=null,Z5={onError:function(e){Dd=!0,jg=e}};function Q5(e,t,n,r,i,o,s,a,l){Dd=!1,jg=null,Y5.apply(Z5,arguments)}function X5(e,t,n,r,i,o,s,a,l){if(Q5.apply(this,arguments),Dd){if(Dd){var u=jg;Dd=!1,jg=null}else throw Error(te(198));Lg||(Lg=!0,Nb=u)}}function mu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kC(e){if(mu(e)!==e)throw Error(te(188))}function J5(e){var t=e.alternate;if(!t){if(t=mu(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return kC(i),e;if(o===r)return kC(i),t;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function c2(e){return e=J5(e),e!==null?f2(e):null}function f2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f2(e);if(t!==null)return t;e=e.sibling}return null}var d2=Zr.unstable_scheduleCallback,RC=Zr.unstable_cancelCallback,eW=Zr.unstable_shouldYield,tW=Zr.unstable_requestPaint,Ut=Zr.unstable_now,nW=Zr.unstable_getCurrentPriorityLevel,_S=Zr.unstable_ImmediatePriority,h2=Zr.unstable_UserBlockingPriority,$g=Zr.unstable_NormalPriority,rW=Zr.unstable_LowPriority,p2=Zr.unstable_IdlePriority,Py=null,fo=null;function iW(e){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(Py,e,void 0,(e.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:aW,oW=Math.log,sW=Math.LN2;function aW(e){return e>>>=0,e===0?32:31-(oW(e)/sW|0)|0}var sm=64,am=4194304;function xd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=xd(a):(o&=s,o!==0&&(r=xd(o)))}else s=n&~i,s!==0?r=xd(s):o!==0&&(r=xd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Li(t),i=1<<n,r|=e[n],t&=~i;return r}function lW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uW(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Li(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=lW(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Db(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function m2(){var e=sm;return sm<<=1,!(sm&4194240)&&(sm=64),e}function e_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Li(t),e[t]=n}function cW(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Li(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function bS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Li(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var rt=0;function g2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v2,xS,y2,w2,_2,Mb=!1,lm=[],oa=null,sa=null,aa=null,nh=new Map,rh=new Map,js=[],fW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NC(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function id(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Jh(t),t!==null&&xS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dW(e,t,n,r,i){switch(t){case"focusin":return oa=id(oa,e,t,n,r,i),!0;case"dragenter":return sa=id(sa,e,t,n,r,i),!0;case"mouseover":return aa=id(aa,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return nh.set(o,id(nh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,rh.set(o,id(rh.get(o)||null,e,t,n,r,i)),!0}return!1}function b2(e){var t=ml(e.target);if(t!==null){var n=mu(t);if(n!==null){if(t=n.tag,t===13){if(t=u2(n),t!==null){e.blockedOn=t,_2(e.priority,function(){y2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ng(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ob=r,n.target.dispatchEvent(r),Ob=null}else return t=Jh(n),t!==null&&xS(t),e.blockedOn=n,!1;t.shift()}return!0}function DC(e,t,n){ng(e)&&n.delete(t)}function hW(){Mb=!1,oa!==null&&ng(oa)&&(oa=null),sa!==null&&ng(sa)&&(sa=null),aa!==null&&ng(aa)&&(aa=null),nh.forEach(DC),rh.forEach(DC)}function od(e,t){e.blockedOn===t&&(e.blockedOn=null,Mb||(Mb=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,hW)))}function ih(e){function t(i){return od(i,e)}if(0<lm.length){od(lm[0],e);for(var n=1;n<lm.length;n++){var r=lm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oa!==null&&od(oa,e),sa!==null&&od(sa,e),aa!==null&&od(aa,e),nh.forEach(t),rh.forEach(t),n=0;n<js.length;n++)r=js[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)b2(n),n.blockedOn===null&&js.shift()}var sc=ds.ReactCurrentBatchConfig,Vg=!0;function pW(e,t,n,r){var i=rt,o=sc.transition;sc.transition=null;try{rt=1,ES(e,t,n,r)}finally{rt=i,sc.transition=o}}function mW(e,t,n,r){var i=rt,o=sc.transition;sc.transition=null;try{rt=4,ES(e,t,n,r)}finally{rt=i,sc.transition=o}}function ES(e,t,n,r){if(Vg){var i=jb(e,t,n,r);if(i===null)c_(e,t,r,Ug,n),NC(e,r);else if(dW(i,e,t,n,r))r.stopPropagation();else if(NC(e,r),t&4&&-1<fW.indexOf(e)){for(;i!==null;){var o=Jh(i);if(o!==null&&v2(o),o=jb(e,t,n,r),o===null&&c_(e,t,r,Ug,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else c_(e,t,r,null,n)}}var Ug=null;function jb(e,t,n,r){if(Ug=null,e=wS(r),e=ml(e),e!==null)if(t=mu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ug=e,null}function x2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nW()){case _S:return 1;case h2:return 4;case $g:case rW:return 16;case p2:return 536870912;default:return 16}default:return 16}}var Js=null,SS=null,rg=null;function E2(){if(rg)return rg;var e,t=SS,n=t.length,r,i="value"in Js?Js.value:Js.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return rg=i.slice(e,1<r?1-r:void 0)}function ig(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function um(){return!0}function MC(){return!1}function ni(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?um:MC,this.isPropagationStopped=MC,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=um)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=um)},persist:function(){},isPersistent:um}),t}var cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AS=ni(cf),Xh=Ot({},cf,{view:0,detail:0}),gW=ni(Xh),t_,n_,sd,Cy=Ot({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sd&&(sd&&e.type==="mousemove"?(t_=e.screenX-sd.screenX,n_=e.screenY-sd.screenY):n_=t_=0,sd=e),t_)},movementY:function(e){return"movementY"in e?e.movementY:n_}}),jC=ni(Cy),vW=Ot({},Cy,{dataTransfer:0}),yW=ni(vW),wW=Ot({},Xh,{relatedTarget:0}),r_=ni(wW),_W=Ot({},cf,{animationName:0,elapsedTime:0,pseudoElement:0}),bW=ni(_W),xW=Ot({},cf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EW=ni(xW),SW=Ot({},cf,{data:0}),LC=ni(SW),AW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PW[e])?!!t[e]:!1}function TS(){return CW}var IW=Ot({},Xh,{key:function(e){if(e.key){var t=AW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ig(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TS,charCode:function(e){return e.type==="keypress"?ig(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ig(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OW=ni(IW),kW=Ot({},Cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$C=ni(kW),RW=Ot({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TS}),NW=ni(RW),DW=Ot({},cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),MW=ni(DW),jW=Ot({},Cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LW=ni(jW),$W=[9,13,27,32],PS=Zo&&"CompositionEvent"in window,Md=null;Zo&&"documentMode"in document&&(Md=document.documentMode);var FW=Zo&&"TextEvent"in window&&!Md,S2=Zo&&(!PS||Md&&8<Md&&11>=Md),FC=" ",VC=!1;function A2(e,t){switch(e){case"keyup":return $W.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bu=!1;function VW(e,t){switch(e){case"compositionend":return T2(t);case"keypress":return t.which!==32?null:(VC=!0,FC);case"textInput":return e=t.data,e===FC&&VC?null:e;default:return null}}function UW(e,t){if(Bu)return e==="compositionend"||!PS&&A2(e,t)?(e=E2(),rg=SS=Js=null,Bu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S2&&t.locale!=="ko"?null:t.data;default:return null}}var zW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zW[e.type]:t==="textarea"}function P2(e,t,n,r){i2(r),t=zg(t,"onChange"),0<t.length&&(n=new AS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jd=null,oh=null;function BW(e){$2(e,0)}function Iy(e){var t=Ku(e);if(QM(t))return e}function WW(e,t){if(e==="change")return t}var C2=!1;if(Zo){var i_;if(Zo){var o_="oninput"in document;if(!o_){var zC=document.createElement("div");zC.setAttribute("oninput","return;"),o_=typeof zC.oninput=="function"}i_=o_}else i_=!1;C2=i_&&(!document.documentMode||9<document.documentMode)}function BC(){jd&&(jd.detachEvent("onpropertychange",I2),oh=jd=null)}function I2(e){if(e.propertyName==="value"&&Iy(oh)){var t=[];P2(t,oh,e,wS(e)),l2(BW,t)}}function HW(e,t,n){e==="focusin"?(BC(),jd=t,oh=n,jd.attachEvent("onpropertychange",I2)):e==="focusout"&&BC()}function KW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iy(oh)}function qW(e,t){if(e==="click")return Iy(t)}function GW(e,t){if(e==="input"||e==="change")return Iy(t)}function YW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fi=typeof Object.is=="function"?Object.is:YW;function sh(e,t){if(Fi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yb.call(t,i)||!Fi(e[i],t[i]))return!1}return!0}function WC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HC(e,t){var n=WC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WC(n)}}function O2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k2(){for(var e=window,t=Mg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mg(e.document)}return t}function CS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZW(e){var t=k2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&O2(n.ownerDocument.documentElement,n)){if(r!==null&&CS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=HC(n,o);var s=HC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QW=Zo&&"documentMode"in document&&11>=document.documentMode,Wu=null,Lb=null,Ld=null,$b=!1;function KC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$b||Wu==null||Wu!==Mg(r)||(r=Wu,"selectionStart"in r&&CS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ld&&sh(Ld,r)||(Ld=r,r=zg(Lb,"onSelect"),0<r.length&&(t=new AS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wu)))}function cm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hu={animationend:cm("Animation","AnimationEnd"),animationiteration:cm("Animation","AnimationIteration"),animationstart:cm("Animation","AnimationStart"),transitionend:cm("Transition","TransitionEnd")},s_={},R2={};Zo&&(R2=document.createElement("div").style,"AnimationEvent"in window||(delete Hu.animationend.animation,delete Hu.animationiteration.animation,delete Hu.animationstart.animation),"TransitionEvent"in window||delete Hu.transitionend.transition);function Oy(e){if(s_[e])return s_[e];if(!Hu[e])return e;var t=Hu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R2)return s_[e]=t[n];return e}var N2=Oy("animationend"),D2=Oy("animationiteration"),M2=Oy("animationstart"),j2=Oy("transitionend"),L2=new Map,qC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){L2.set(e,t),pu(t,[e])}for(var a_=0;a_<qC.length;a_++){var l_=qC[a_],XW=l_.toLowerCase(),JW=l_[0].toUpperCase()+l_.slice(1);La(XW,"on"+JW)}La(N2,"onAnimationEnd");La(D2,"onAnimationIteration");La(M2,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(j2,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function GC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,X5(r,t,void 0,e),e.currentTarget=null}function $2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;GC(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;GC(i,a,u),o=l}}}if(Lg)throw e=Nb,Lg=!1,Nb=null,e}function gt(e,t){var n=t[Bb];n===void 0&&(n=t[Bb]=new Set);var r=e+"__bubble";n.has(r)||(F2(t,e,2,!1),n.add(r))}function u_(e,t,n){var r=0;t&&(r|=4),F2(n,e,r,t)}var fm="_reactListening"+Math.random().toString(36).slice(2);function ah(e){if(!e[fm]){e[fm]=!0,KM.forEach(function(n){n!=="selectionchange"&&(e8.has(n)||u_(n,!1,e),u_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fm]||(t[fm]=!0,u_("selectionchange",!1,t))}}function F2(e,t,n,r){switch(x2(t)){case 1:var i=pW;break;case 4:i=mW;break;default:i=ES}n=i.bind(null,t,n,e),i=void 0,!Rb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function c_(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ml(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}l2(function(){var u=o,c=wS(n),f=[];e:{var d=L2.get(e);if(d!==void 0){var p=AS,v=e;switch(e){case"keypress":if(ig(n)===0)break e;case"keydown":case"keyup":p=OW;break;case"focusin":v="focus",p=r_;break;case"focusout":v="blur",p=r_;break;case"beforeblur":case"afterblur":p=r_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NW;break;case N2:case D2:case M2:p=bW;break;case j2:p=MW;break;case"scroll":p=gW;break;case"wheel":p=LW;break;case"copy":case"cut":case"paste":p=EW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$C}var m=(t&4)!==0,_=!m&&e==="scroll",b=m?d!==null?d+"Capture":null:d;m=[];for(var y=u,x;y!==null;){x=y;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,b!==null&&(A=th(y,b),A!=null&&m.push(lh(y,A,x)))),_)break;y=y.return}0<m.length&&(d=new p(d,v,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Ob&&(v=n.relatedTarget||n.fromElement)&&(ml(v)||v[Qo]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ml(v):null,v!==null&&(_=mu(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=jC,A="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=$C,A="onPointerLeave",b="onPointerEnter",y="pointer"),_=p==null?d:Ku(p),x=v==null?d:Ku(v),d=new m(A,y+"leave",p,n,c),d.target=_,d.relatedTarget=x,A=null,ml(c)===u&&(m=new m(b,y+"enter",v,n,c),m.target=x,m.relatedTarget=_,A=m),_=A,p&&v)t:{for(m=p,b=v,y=0,x=m;x;x=Ou(x))y++;for(x=0,A=b;A;A=Ou(A))x++;for(;0<y-x;)m=Ou(m),y--;for(;0<x-y;)b=Ou(b),x--;for(;y--;){if(m===b||b!==null&&m===b.alternate)break t;m=Ou(m),b=Ou(b)}m=null}else m=null;p!==null&&YC(f,d,p,m,!1),v!==null&&_!==null&&YC(f,_,v,m,!0)}}e:{if(d=u?Ku(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=WW;else if(UC(d))if(C2)C=GW;else{C=KW;var N=HW}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=qW);if(C&&(C=C(e,u))){P2(f,C,n,c);break e}N&&N(e,d,u),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Ab(d,"number",d.value)}switch(N=u?Ku(u):window,e){case"focusin":(UC(N)||N.contentEditable==="true")&&(Wu=N,Lb=u,Ld=null);break;case"focusout":Ld=Lb=Wu=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,KC(f,n,c);break;case"selectionchange":if(QW)break;case"keydown":case"keyup":KC(f,n,c)}var S;if(PS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bu?A2(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(S2&&n.locale!=="ko"&&(Bu||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bu&&(S=E2()):(Js=c,SS="value"in Js?Js.value:Js.textContent,Bu=!0)),N=zg(u,T),0<N.length&&(T=new LC(T,e,null,n,c),f.push({event:T,listeners:N}),S?T.data=S:(S=T2(n),S!==null&&(T.data=S)))),(S=FW?VW(e,n):UW(e,n))&&(u=zg(u,"onBeforeInput"),0<u.length&&(c=new LC("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}$2(f,t)})}function lh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=th(e,n),o!=null&&r.unshift(lh(e,o,i)),o=th(e,t),o!=null&&r.push(lh(e,o,i))),e=e.return}return r}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function YC(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=th(n,o),l!=null&&s.unshift(lh(n,l,a))):i||(l=th(n,o),l!=null&&s.push(lh(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var t8=/\r\n?/g,n8=/\u0000|\uFFFD/g;function ZC(e){return(typeof e=="string"?e:""+e).replace(t8,`
`).replace(n8,"")}function dm(e,t,n){if(t=ZC(t),ZC(e)!==t&&n)throw Error(te(425))}function Bg(){}var Fb=null,Vb=null;function Ub(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zb=typeof setTimeout=="function"?setTimeout:void 0,r8=typeof clearTimeout=="function"?clearTimeout:void 0,QC=typeof Promise=="function"?Promise:void 0,i8=typeof queueMicrotask=="function"?queueMicrotask:typeof QC<"u"?function(e){return QC.resolve(null).then(e).catch(o8)}:zb;function o8(e){setTimeout(function(){throw e})}function f_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ih(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ih(t)}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ff=Math.random().toString(36).slice(2),ao="__reactFiber$"+ff,uh="__reactProps$"+ff,Qo="__reactContainer$"+ff,Bb="__reactEvents$"+ff,s8="__reactListeners$"+ff,a8="__reactHandles$"+ff;function ml(e){var t=e[ao];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qo]||n[ao]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XC(e);e!==null;){if(n=e[ao])return n;e=XC(e)}return t}e=n,n=e.parentNode}return null}function Jh(e){return e=e[ao]||e[Qo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function ky(e){return e[uh]||null}var Wb=[],qu=-1;function $a(e){return{current:e}}function wt(e){0>qu||(e.current=Wb[qu],Wb[qu]=null,qu--)}function dt(e,t){qu++,Wb[qu]=e.current,e.current=t}var Sa={},Zn=$a(Sa),Ar=$a(!1),Ul=Sa;function Nc(e,t){var n=e.type.contextTypes;if(!n)return Sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(e){return e=e.childContextTypes,e!=null}function Wg(){wt(Ar),wt(Zn)}function JC(e,t,n){if(Zn.current!==Sa)throw Error(te(168));dt(Zn,t),dt(Ar,n)}function V2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(te(108,H5(e)||"Unknown",i));return Ot({},n,r)}function Hg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,Ul=Zn.current,dt(Zn,e),dt(Ar,Ar.current),!0}function eI(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=V2(e,t,Ul),r.__reactInternalMemoizedMergedChildContext=e,wt(Ar),wt(Zn),dt(Zn,e)):wt(Ar),dt(Ar,n)}var Ro=null,Ry=!1,d_=!1;function U2(e){Ro===null?Ro=[e]:Ro.push(e)}function l8(e){Ry=!0,U2(e)}function Fa(){if(!d_&&Ro!==null){d_=!0;var e=0,t=rt;try{var n=Ro;for(rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ro=null,Ry=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(e+1)),d2(_S,Fa),i}finally{rt=t,d_=!1}}return null}var Gu=[],Yu=0,Kg=null,qg=0,ui=[],ci=0,zl=null,Fo=1,Vo="";function ul(e,t){Gu[Yu++]=qg,Gu[Yu++]=Kg,Kg=e,qg=t}function z2(e,t,n){ui[ci++]=Fo,ui[ci++]=Vo,ui[ci++]=zl,zl=e;var r=Fo;e=Vo;var i=32-Li(r)-1;r&=~(1<<i),n+=1;var o=32-Li(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Fo=1<<32-Li(t)+i|n<<i|r,Vo=o+e}else Fo=1<<o|n<<i|r,Vo=e}function IS(e){e.return!==null&&(ul(e,1),z2(e,1,0))}function OS(e){for(;e===Kg;)Kg=Gu[--Yu],Gu[Yu]=null,qg=Gu[--Yu],Gu[Yu]=null;for(;e===zl;)zl=ui[--ci],ui[ci]=null,Vo=ui[--ci],ui[ci]=null,Fo=ui[--ci],ui[ci]=null}var Kr=null,Br=null,xt=!1,Oi=null;function B2(e,t){var n=di(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kr=e,Br=la(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zl!==null?{id:Fo,overflow:Vo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=di(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kr=e,Br=null,!0):!1;default:return!1}}function Hb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kb(e){if(xt){var t=Br;if(t){var n=t;if(!tI(e,t)){if(Hb(e))throw Error(te(418));t=la(n.nextSibling);var r=Kr;t&&tI(e,t)?B2(r,n):(e.flags=e.flags&-4097|2,xt=!1,Kr=e)}}else{if(Hb(e))throw Error(te(418));e.flags=e.flags&-4097|2,xt=!1,Kr=e}}}function nI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kr=e}function hm(e){if(e!==Kr)return!1;if(!xt)return nI(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ub(e.type,e.memoizedProps)),t&&(t=Br)){if(Hb(e))throw W2(),Error(te(418));for(;t;)B2(e,t),t=la(t.nextSibling)}if(nI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=la(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Kr?la(e.stateNode.nextSibling):null;return!0}function W2(){for(var e=Br;e;)e=la(e.nextSibling)}function Dc(){Br=Kr=null,xt=!1}function kS(e){Oi===null?Oi=[e]:Oi.push(e)}var u8=ds.ReactCurrentBatchConfig;function ad(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function pm(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rI(e){var t=e._init;return t(e._payload)}function H2(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=da(b,y),b.index=0,b.sibling=null,b}function o(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function a(b,y,x,A){return y===null||y.tag!==6?(y=w_(x,b.mode,A),y.return=b,y):(y=i(y,x),y.return=b,y)}function l(b,y,x,A){var C=x.type;return C===zu?c(b,y,x.props.children,A,x.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rs&&rI(C)===y.type)?(A=i(y,x.props),A.ref=ad(b,y,x),A.return=b,A):(A=fg(x.type,x.key,x.props,null,b.mode,A),A.ref=ad(b,y,x),A.return=b,A)}function u(b,y,x,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=__(x,b.mode,A),y.return=b,y):(y=i(y,x.children||[]),y.return=b,y)}function c(b,y,x,A,C){return y===null||y.tag!==7?(y=Ml(x,b.mode,A,C),y.return=b,y):(y=i(y,x),y.return=b,y)}function f(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=w_(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rm:return x=fg(y.type,y.key,y.props,null,b.mode,x),x.ref=ad(b,null,y),x.return=b,x;case Uu:return y=__(y,b.mode,x),y.return=b,y;case Rs:var A=y._init;return f(b,A(y._payload),x)}if(bd(y)||nd(y))return y=Ml(y,b.mode,x,null),y.return=b,y;pm(b,y)}return null}function d(b,y,x,A){var C=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(b,y,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rm:return x.key===C?l(b,y,x,A):null;case Uu:return x.key===C?u(b,y,x,A):null;case Rs:return C=x._init,d(b,y,C(x._payload),A)}if(bd(x)||nd(x))return C!==null?null:c(b,y,x,A,null);pm(b,x)}return null}function p(b,y,x,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(x)||null,a(y,b,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case rm:return b=b.get(A.key===null?x:A.key)||null,l(y,b,A,C);case Uu:return b=b.get(A.key===null?x:A.key)||null,u(y,b,A,C);case Rs:var N=A._init;return p(b,y,x,N(A._payload),C)}if(bd(A)||nd(A))return b=b.get(x)||null,c(y,b,A,C,null);pm(y,A)}return null}function v(b,y,x,A){for(var C=null,N=null,S=y,T=y=0,I=null;S!==null&&T<x.length;T++){S.index>T?(I=S,S=null):I=S.sibling;var k=d(b,S,x[T],A);if(k===null){S===null&&(S=I);break}e&&S&&k.alternate===null&&t(b,S),y=o(k,y,T),N===null?C=k:N.sibling=k,N=k,S=I}if(T===x.length)return n(b,S),xt&&ul(b,T),C;if(S===null){for(;T<x.length;T++)S=f(b,x[T],A),S!==null&&(y=o(S,y,T),N===null?C=S:N.sibling=S,N=S);return xt&&ul(b,T),C}for(S=r(b,S);T<x.length;T++)I=p(S,b,T,x[T],A),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?T:I.key),y=o(I,y,T),N===null?C=I:N.sibling=I,N=I);return e&&S.forEach(function(O){return t(b,O)}),xt&&ul(b,T),C}function m(b,y,x,A){var C=nd(x);if(typeof C!="function")throw Error(te(150));if(x=C.call(x),x==null)throw Error(te(151));for(var N=C=null,S=y,T=y=0,I=null,k=x.next();S!==null&&!k.done;T++,k=x.next()){S.index>T?(I=S,S=null):I=S.sibling;var O=d(b,S,k.value,A);if(O===null){S===null&&(S=I);break}e&&S&&O.alternate===null&&t(b,S),y=o(O,y,T),N===null?C=O:N.sibling=O,N=O,S=I}if(k.done)return n(b,S),xt&&ul(b,T),C;if(S===null){for(;!k.done;T++,k=x.next())k=f(b,k.value,A),k!==null&&(y=o(k,y,T),N===null?C=k:N.sibling=k,N=k);return xt&&ul(b,T),C}for(S=r(b,S);!k.done;T++,k=x.next())k=p(S,b,T,k.value,A),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?T:k.key),y=o(k,y,T),N===null?C=k:N.sibling=k,N=k);return e&&S.forEach(function(D){return t(b,D)}),xt&&ul(b,T),C}function _(b,y,x,A){if(typeof x=="object"&&x!==null&&x.type===zu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rm:e:{for(var C=x.key,N=y;N!==null;){if(N.key===C){if(C=x.type,C===zu){if(N.tag===7){n(b,N.sibling),y=i(N,x.props.children),y.return=b,b=y;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Rs&&rI(C)===N.type){n(b,N.sibling),y=i(N,x.props),y.ref=ad(b,N,x),y.return=b,b=y;break e}n(b,N);break}else t(b,N);N=N.sibling}x.type===zu?(y=Ml(x.props.children,b.mode,A,x.key),y.return=b,b=y):(A=fg(x.type,x.key,x.props,null,b.mode,A),A.ref=ad(b,y,x),A.return=b,b=A)}return s(b);case Uu:e:{for(N=x.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(b,y.sibling),y=i(y,x.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=__(x,b.mode,A),y.return=b,b=y}return s(b);case Rs:return N=x._init,_(b,y,N(x._payload),A)}if(bd(x))return v(b,y,x,A);if(nd(x))return m(b,y,x,A);pm(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,x),y.return=b,b=y):(n(b,y),y=w_(x,b.mode,A),y.return=b,b=y),s(b)):n(b,y)}return _}var Mc=H2(!0),K2=H2(!1),Gg=$a(null),Yg=null,Zu=null,RS=null;function NS(){RS=Zu=Yg=null}function DS(e){var t=Gg.current;wt(Gg),e._currentValue=t}function qb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ac(e,t){Yg=e,RS=Zu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function mi(e){var t=e._currentValue;if(RS!==e)if(e={context:e,memoizedValue:t,next:null},Zu===null){if(Yg===null)throw Error(te(308));Zu=e,Yg.dependencies={lanes:0,firstContext:e}}else Zu=Zu.next=e;return t}var gl=null;function MS(e){gl===null?gl=[e]:gl.push(e)}function q2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,MS(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xo(e,r)}function Xo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ns=!1;function jS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xo(e,n)}return i=r.interleaved,i===null?(t.next=t,MS(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xo(e,n)}function og(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bS(e,n)}}function iI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zg(e,t,n,r){var i=e.updateQueue;Ns=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,m=a;switch(d=t,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=Ot({},f,d);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wl|=s,e.lanes=s,e.memoizedState=f}}function oI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var ep={},ho=$a(ep),ch=$a(ep),fh=$a(ep);function vl(e){if(e===ep)throw Error(te(174));return e}function LS(e,t){switch(dt(fh,t),dt(ch,e),dt(ho,ep),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pb(t,e)}wt(ho),dt(ho,t)}function jc(){wt(ho),wt(ch),wt(fh)}function Y2(e){vl(fh.current);var t=vl(ho.current),n=Pb(t,e.type);t!==n&&(dt(ch,e),dt(ho,n))}function $S(e){ch.current===e&&(wt(ho),wt(ch))}var Pt=$a(0);function Qg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var h_=[];function FS(){for(var e=0;e<h_.length;e++)h_[e]._workInProgressVersionPrimary=null;h_.length=0}var sg=ds.ReactCurrentDispatcher,p_=ds.ReactCurrentBatchConfig,Bl=0,Ct=null,ln=null,_n=null,Xg=!1,$d=!1,dh=0,c8=0;function Vn(){throw Error(te(321))}function VS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fi(e[n],t[n]))return!1;return!0}function US(e,t,n,r,i,o){if(Bl=o,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sg.current=e===null||e.memoizedState===null?p8:m8,e=n(r,i),$d){o=0;do{if($d=!1,dh=0,25<=o)throw Error(te(301));o+=1,_n=ln=null,t.updateQueue=null,sg.current=g8,e=n(r,i)}while($d)}if(sg.current=Jg,t=ln!==null&&ln.next!==null,Bl=0,_n=ln=Ct=null,Xg=!1,t)throw Error(te(300));return e}function zS(){var e=dh!==0;return dh=0,e}function to(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Ct.memoizedState=_n=e:_n=_n.next=e,_n}function gi(){if(ln===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ln.next;var t=_n===null?Ct.memoizedState:_n.next;if(t!==null)_n=t,ln=e;else{if(e===null)throw Error(te(310));ln=e,e={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},_n===null?Ct.memoizedState=_n=e:_n=_n.next=e}return _n}function hh(e,t){return typeof t=="function"?t(e):t}function m_(e){var t=gi(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=ln,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Bl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ct.lanes|=c,Wl|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fi(r,t.memoizedState)||(xr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ct.lanes|=o,Wl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function g_(e){var t=gi(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Fi(o,t.memoizedState)||(xr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Z2(){}function Q2(e,t){var n=Ct,r=gi(),i=t(),o=!Fi(r.memoizedState,i);if(o&&(r.memoizedState=i,xr=!0),r=r.queue,BS(ej.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,ph(9,J2.bind(null,n,r,i,t),void 0,null),Sn===null)throw Error(te(349));Bl&30||X2(n,t,i)}return i}function X2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function J2(e,t,n,r){t.value=n,t.getSnapshot=r,tj(t)&&nj(e)}function ej(e,t,n){return n(function(){tj(t)&&nj(e)})}function tj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fi(e,n)}catch{return!0}}function nj(e){var t=Xo(e,1);t!==null&&$i(t,e,1,-1)}function sI(e){var t=to();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:e},t.queue=e,e=e.dispatch=h8.bind(null,Ct,e),[t.memoizedState,e]}function ph(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rj(){return gi().memoizedState}function ag(e,t,n,r){var i=to();Ct.flags|=e,i.memoizedState=ph(1|t,n,void 0,r===void 0?null:r)}function Ny(e,t,n,r){var i=gi();r=r===void 0?null:r;var o=void 0;if(ln!==null){var s=ln.memoizedState;if(o=s.destroy,r!==null&&VS(r,s.deps)){i.memoizedState=ph(t,n,o,r);return}}Ct.flags|=e,i.memoizedState=ph(1|t,n,o,r)}function aI(e,t){return ag(8390656,8,e,t)}function BS(e,t){return Ny(2048,8,e,t)}function ij(e,t){return Ny(4,2,e,t)}function oj(e,t){return Ny(4,4,e,t)}function sj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aj(e,t,n){return n=n!=null?n.concat([e]):null,Ny(4,4,sj.bind(null,t,e),n)}function WS(){}function lj(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uj(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cj(e,t,n){return Bl&21?(Fi(n,t)||(n=m2(),Ct.lanes|=n,Wl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=n)}function f8(e,t){var n=rt;rt=n!==0&&4>n?n:4,e(!0);var r=p_.transition;p_.transition={};try{e(!1),t()}finally{rt=n,p_.transition=r}}function fj(){return gi().memoizedState}function d8(e,t,n){var r=fa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dj(e))hj(t,n);else if(n=q2(e,t,n,r),n!==null){var i=ur();$i(n,e,r,i),pj(n,t,r)}}function h8(e,t,n){var r=fa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dj(e))hj(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fi(a,s)){var l=t.interleaved;l===null?(i.next=i,MS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=q2(e,t,i,r),n!==null&&(i=ur(),$i(n,e,r,i),pj(n,t,r))}}function dj(e){var t=e.alternate;return e===Ct||t!==null&&t===Ct}function hj(e,t){$d=Xg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bS(e,n)}}var Jg={readContext:mi,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},p8={readContext:mi,useCallback:function(e,t){return to().memoizedState=[e,t===void 0?null:t],e},useContext:mi,useEffect:aI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ag(4194308,4,sj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ag(4194308,4,e,t)},useInsertionEffect:function(e,t){return ag(4,2,e,t)},useMemo:function(e,t){var n=to();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=to();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d8.bind(null,Ct,e),[r.memoizedState,e]},useRef:function(e){var t=to();return e={current:e},t.memoizedState=e},useState:sI,useDebugValue:WS,useDeferredValue:function(e){return to().memoizedState=e},useTransition:function(){var e=sI(!1),t=e[0];return e=f8.bind(null,e[1]),to().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ct,i=to();if(xt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Sn===null)throw Error(te(349));Bl&30||X2(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,aI(ej.bind(null,r,o,e),[e]),r.flags|=2048,ph(9,J2.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=to(),t=Sn.identifierPrefix;if(xt){var n=Vo,r=Fo;n=(r&~(1<<32-Li(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m8={readContext:mi,useCallback:lj,useContext:mi,useEffect:BS,useImperativeHandle:aj,useInsertionEffect:ij,useLayoutEffect:oj,useMemo:uj,useReducer:m_,useRef:rj,useState:function(){return m_(hh)},useDebugValue:WS,useDeferredValue:function(e){var t=gi();return cj(t,ln.memoizedState,e)},useTransition:function(){var e=m_(hh)[0],t=gi().memoizedState;return[e,t]},useMutableSource:Z2,useSyncExternalStore:Q2,useId:fj,unstable_isNewReconciler:!1},g8={readContext:mi,useCallback:lj,useContext:mi,useEffect:BS,useImperativeHandle:aj,useInsertionEffect:ij,useLayoutEffect:oj,useMemo:uj,useReducer:g_,useRef:rj,useState:function(){return g_(hh)},useDebugValue:WS,useDeferredValue:function(e){var t=gi();return ln===null?t.memoizedState=e:cj(t,ln.memoizedState,e)},useTransition:function(){var e=g_(hh)[0],t=gi().memoizedState;return[e,t]},useMutableSource:Z2,useSyncExternalStore:Q2,useId:fj,unstable_isNewReconciler:!1};function Ti(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dy={isMounted:function(e){return(e=e._reactInternals)?mu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ur(),i=fa(e),o=Ho(r,i);o.payload=t,n!=null&&(o.callback=n),t=ua(e,o,i),t!==null&&($i(t,e,i,r),og(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ur(),i=fa(e),o=Ho(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ua(e,o,i),t!==null&&($i(t,e,i,r),og(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ur(),r=fa(e),i=Ho(n,r);i.tag=2,t!=null&&(i.callback=t),t=ua(e,i,r),t!==null&&($i(t,e,r,n),og(t,e,r))}};function lI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!sh(n,r)||!sh(i,o):!0}function mj(e,t,n){var r=!1,i=Sa,o=t.contextType;return typeof o=="object"&&o!==null?o=mi(o):(i=Tr(t)?Ul:Zn.current,r=t.contextTypes,o=(r=r!=null)?Nc(e,i):Sa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function uI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dy.enqueueReplaceState(t,t.state,null)}function Yb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},jS(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=mi(o):(o=Tr(t)?Ul:Zn.current,i.context=Nc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Gb(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dy.enqueueReplaceState(i,i.state,null),Zg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lc(e,t){try{var n="",r=t;do n+=W5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function v_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v8=typeof WeakMap=="function"?WeakMap:Map;function gj(e,t,n){n=Ho(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tv||(tv=!0,sx=r),Zb(e,t)},n}function vj(e,t,n){n=Ho(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Zb(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zb(e,t),typeof r!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v8;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=k8.bind(null,e,t,n),t.then(e,e))}function fI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ho(-1,1),t.tag=2,ua(n,t,1))),n.lanes|=1),e)}var y8=ds.ReactCurrentOwner,xr=!1;function nr(e,t,n,r){t.child=e===null?K2(t,null,n,r):Mc(t,e.child,n,r)}function hI(e,t,n,r,i){n=n.render;var o=t.ref;return ac(t,i),r=US(e,t,n,r,o,i),n=zS(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jo(e,t,i)):(xt&&n&&IS(t),t.flags|=1,nr(e,t,r,i),t.child)}function pI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!XS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,yj(e,t,o,r,i)):(e=fg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:sh,n(s,r)&&e.ref===t.ref)return Jo(e,t,i)}return t.flags|=1,e=da(o,r),e.ref=t.ref,e.return=t,t.child=e}function yj(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(sh(o,r)&&e.ref===t.ref)if(xr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,Jo(e,t,i)}return Qb(e,t,n,r,i)}function wj(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Xu,jr),jr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(Xu,jr),jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(Xu,jr),jr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,dt(Xu,jr),jr|=r;return nr(e,t,i,n),t.child}function _j(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qb(e,t,n,r,i){var o=Tr(n)?Ul:Zn.current;return o=Nc(t,o),ac(t,i),n=US(e,t,n,r,o,i),r=zS(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jo(e,t,i)):(xt&&r&&IS(t),t.flags|=1,nr(e,t,n,i),t.child)}function mI(e,t,n,r,i){if(Tr(n)){var o=!0;Hg(t)}else o=!1;if(ac(t,i),t.stateNode===null)lg(e,t),mj(t,n,r),Yb(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=mi(u):(u=Tr(n)?Ul:Zn.current,u=Nc(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&uI(t,s,r,u),Ns=!1;var d=t.memoizedState;s.state=d,Zg(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ar.current||Ns?(typeof c=="function"&&(Gb(t,n,c,r),l=t.memoizedState),(a=Ns||lI(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,G2(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ti(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=mi(l):(l=Tr(n)?Ul:Zn.current,l=Nc(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&uI(t,s,r,l),Ns=!1,d=t.memoizedState,s.state=d,Zg(t,r,s,i);var v=t.memoizedState;a!==f||d!==v||Ar.current||Ns?(typeof p=="function"&&(Gb(t,n,p,r),v=t.memoizedState),(u=Ns||lI(t,n,u,r,d,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Xb(e,t,n,r,o,i)}function Xb(e,t,n,r,i,o){_j(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&eI(t,n,!1),Jo(e,t,o);r=t.stateNode,y8.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mc(t,e.child,null,o),t.child=Mc(t,null,a,o)):nr(e,t,a,o),t.memoizedState=r.state,i&&eI(t,n,!0),t.child}function bj(e){var t=e.stateNode;t.pendingContext?JC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JC(e,t.context,!1),LS(e,t.containerInfo)}function gI(e,t,n,r,i){return Dc(),kS(i),t.flags|=256,nr(e,t,n,r),t.child}var Jb={dehydrated:null,treeContext:null,retryLane:0};function ex(e){return{baseLanes:e,cachePool:null,transitions:null}}function xj(e,t,n){var r=t.pendingProps,i=Pt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),dt(Pt,i&1),e===null)return Kb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ly(s,r,0,null),e=Ml(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ex(n),t.memoizedState=Jb,e):HS(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return w8(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=da(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=da(a,o):(o=Ml(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?ex(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Jb,r}return o=e.child,e=o.sibling,r=da(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function HS(e,t){return t=Ly({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mm(e,t,n,r){return r!==null&&kS(r),Mc(t,e.child,null,n),e=HS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w8(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=v_(Error(te(422))),mm(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ly({mode:"visible",children:r.children},i,0,null),o=Ml(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Mc(t,e.child,null,s),t.child.memoizedState=ex(s),t.memoizedState=Jb,o);if(!(t.mode&1))return mm(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=v_(o,r,void 0),mm(e,t,s,r)}if(a=(s&e.childLanes)!==0,xr||a){if(r=Sn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xo(e,i),$i(r,e,i,-1))}return QS(),r=v_(Error(te(421))),mm(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R8.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Br=la(i.nextSibling),Kr=t,xt=!0,Oi=null,e!==null&&(ui[ci++]=Fo,ui[ci++]=Vo,ui[ci++]=zl,Fo=e.id,Vo=e.overflow,zl=t),t=HS(t,r.children),t.flags|=4096,t)}function vI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qb(e.return,t,n)}function y_(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ej(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(nr(e,t,r.children,n),r=Pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vI(e,n,t);else if(e.tag===19)vI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dt(Pt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),y_(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}y_(t,!0,n,null,o);break;case"together":y_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=da(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=da(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _8(e,t,n){switch(t.tag){case 3:bj(t),Dc();break;case 5:Y2(t);break;case 1:Tr(t.type)&&Hg(t);break;case 4:LS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;dt(Gg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dt(Pt,Pt.current&1),t.flags|=128,null):n&t.child.childLanes?xj(e,t,n):(dt(Pt,Pt.current&1),e=Jo(e,t,n),e!==null?e.sibling:null);dt(Pt,Pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ej(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(Pt,Pt.current),r)break;return null;case 22:case 23:return t.lanes=0,wj(e,t,n)}return Jo(e,t,n)}var Sj,tx,Aj,Tj;Sj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tx=function(){};Aj=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vl(ho.current);var o=null;switch(n){case"input":i=Eb(e,i),r=Eb(e,r),o=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),o=[];break;case"textarea":i=Tb(e,i),r=Tb(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bg)}Cb(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Tj=function(e,t,n,r){n!==r&&(t.flags|=4)};function ld(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function b8(e,t,n){var r=t.pendingProps;switch(OS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(t),null;case 1:return Tr(t.type)&&Wg(),Un(t),null;case 3:return r=t.stateNode,jc(),wt(Ar),wt(Zn),FS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oi!==null&&(ux(Oi),Oi=null))),tx(e,t),Un(t),null;case 5:$S(t);var i=vl(fh.current);if(n=t.type,e!==null&&t.stateNode!=null)Aj(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Un(t),null}if(e=vl(ho.current),hm(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ao]=t,r[uh]=o,e=(t.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<Ed.length;i++)gt(Ed[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":TC(r,o),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gt("invalid",r);break;case"textarea":CC(r,o),gt("invalid",r)}Cb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dm(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dm(r.textContent,a,e),i=["children",""+a]):Jd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&gt("scroll",r)}switch(n){case"input":im(r),PC(r,o,!0);break;case"textarea":im(r),IC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ao]=t,e[uh]=r,Sj(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ib(n,r),n){case"dialog":gt("cancel",e),gt("close",e),i=r;break;case"iframe":case"object":case"embed":gt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ed.length;i++)gt(Ed[i],e);i=r;break;case"source":gt("error",e),i=r;break;case"img":case"image":case"link":gt("error",e),gt("load",e),i=r;break;case"details":gt("toggle",e),i=r;break;case"input":TC(e,r),i=Eb(e,r),gt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),gt("invalid",e);break;case"textarea":CC(e,r),i=Tb(e,r),gt("invalid",e);break;default:i=r}Cb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?r2(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&t2(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&eh(e,l):typeof l=="number"&&eh(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gt("scroll",e):l!=null&&mS(e,o,l,s))}switch(n){case"input":im(e),PC(e,r,!1);break;case"textarea":im(e),IC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ea(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rc(e,!!r.multiple,o,!1):r.defaultValue!=null&&rc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Un(t),null;case 6:if(e&&t.stateNode!=null)Tj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=vl(fh.current),vl(ho.current),hm(t)){if(r=t.stateNode,n=t.memoizedProps,r[ao]=t,(o=r.nodeValue!==n)&&(e=Kr,e!==null))switch(e.tag){case 3:dm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dm(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ao]=t,t.stateNode=r}return Un(t),null;case 13:if(wt(Pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Br!==null&&t.mode&1&&!(t.flags&128))W2(),Dc(),t.flags|=98560,o=!1;else if(o=hm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[ao]=t}else Dc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Un(t),o=!1}else Oi!==null&&(ux(Oi),Oi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?fn===0&&(fn=3):QS())),t.updateQueue!==null&&(t.flags|=4),Un(t),null);case 4:return jc(),tx(e,t),e===null&&ah(t.stateNode.containerInfo),Un(t),null;case 10:return DS(t.type._context),Un(t),null;case 17:return Tr(t.type)&&Wg(),Un(t),null;case 19:if(wt(Pt),o=t.memoizedState,o===null)return Un(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ld(o,!1);else{if(fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Qg(e),s!==null){for(t.flags|=128,ld(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(Pt,Pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ut()>$c&&(t.flags|=128,r=!0,ld(o,!1),t.lanes=4194304)}else{if(!r)if(e=Qg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ld(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xt)return Un(t),null}else 2*Ut()-o.renderingStartTime>$c&&n!==1073741824&&(t.flags|=128,r=!0,ld(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ut(),t.sibling=null,n=Pt.current,dt(Pt,r?n&1|2:n&1),t):(Un(t),null);case 22:case 23:return ZS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jr&1073741824&&(Un(t),t.subtreeFlags&6&&(t.flags|=8192)):Un(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function x8(e,t){switch(OS(t),t.tag){case 1:return Tr(t.type)&&Wg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jc(),wt(Ar),wt(Zn),FS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $S(t),null;case 13:if(wt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Dc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Pt),null;case 4:return jc(),null;case 10:return DS(t.type._context),null;case 22:case 23:return ZS(),null;case 24:return null;default:return null}}var gm=!1,Kn=!1,E8=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Qu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(e,t,r)}else n.current=null}function nx(e,t,n){try{n()}catch(r){Mt(e,t,r)}}var yI=!1;function S8(e,t){if(Fb=Vg,e=k2(),CS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vb={focusedElem:e,selectionRange:n},Vg=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,_=v.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ti(t.type,m),_);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(A){Mt(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return v=yI,yI=!1,v}function Fd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&nx(t,n,o)}i=i.next}while(i!==r)}}function My(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pj(e){var t=e.alternate;t!==null&&(e.alternate=null,Pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ao],delete t[uh],delete t[Bb],delete t[s8],delete t[a8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cj(e){return e.tag===5||e.tag===3||e.tag===4}function wI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ix(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bg));else if(r!==4&&(e=e.child,e!==null))for(ix(e,t,n),e=e.sibling;e!==null;)ix(e,t,n),e=e.sibling}function ox(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ox(e,t,n),e=e.sibling;e!==null;)ox(e,t,n),e=e.sibling}var kn=null,Ii=!1;function Cs(e,t,n){for(n=n.child;n!==null;)Ij(e,t,n),n=n.sibling}function Ij(e,t,n){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(Py,n)}catch{}switch(n.tag){case 5:Kn||Qu(n,t);case 6:var r=kn,i=Ii;kn=null,Cs(e,t,n),kn=r,Ii=i,kn!==null&&(Ii?(e=kn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(Ii?(e=kn,n=n.stateNode,e.nodeType===8?f_(e.parentNode,n):e.nodeType===1&&f_(e,n),ih(e)):f_(kn,n.stateNode));break;case 4:r=kn,i=Ii,kn=n.stateNode.containerInfo,Ii=!0,Cs(e,t,n),kn=r,Ii=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&nx(n,t,s),i=i.next}while(i!==r)}Cs(e,t,n);break;case 1:if(!Kn&&(Qu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,t,a)}Cs(e,t,n);break;case 21:Cs(e,t,n);break;case 22:n.mode&1?(Kn=(r=Kn)||n.memoizedState!==null,Cs(e,t,n),Kn=r):Cs(e,t,n);break;default:Cs(e,t,n)}}function _I(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E8),t.forEach(function(r){var i=N8.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:kn=a.stateNode,Ii=!1;break e;case 3:kn=a.stateNode.containerInfo,Ii=!0;break e;case 4:kn=a.stateNode.containerInfo,Ii=!0;break e}a=a.return}if(kn===null)throw Error(te(160));Ij(o,s,i),kn=null,Ii=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Mt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oj(t,e),t=t.sibling}function Oj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Si(t,e),eo(e),r&4){try{Fd(3,e,e.return),My(3,e)}catch(m){Mt(e,e.return,m)}try{Fd(5,e,e.return)}catch(m){Mt(e,e.return,m)}}break;case 1:Si(t,e),eo(e),r&512&&n!==null&&Qu(n,n.return);break;case 5:if(Si(t,e),eo(e),r&512&&n!==null&&Qu(n,n.return),e.flags&32){var i=e.stateNode;try{eh(i,"")}catch(m){Mt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&XM(i,o),Ib(a,s);var u=Ib(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?r2(i,f):c==="dangerouslySetInnerHTML"?t2(i,f):c==="children"?eh(i,f):mS(i,c,f,u)}switch(a){case"input":Sb(i,o);break;case"textarea":JM(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rc(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?rc(i,!!o.multiple,o.defaultValue,!0):rc(i,!!o.multiple,o.multiple?[]:"",!1))}i[uh]=o}catch(m){Mt(e,e.return,m)}}break;case 6:if(Si(t,e),eo(e),r&4){if(e.stateNode===null)throw Error(te(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Mt(e,e.return,m)}}break;case 3:if(Si(t,e),eo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ih(t.containerInfo)}catch(m){Mt(e,e.return,m)}break;case 4:Si(t,e),eo(e);break;case 13:Si(t,e),eo(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(GS=Ut())),r&4&&_I(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Kn=(u=Kn)||c,Si(t,e),Kn=u):Si(t,e),eo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(pe=e,c=e.child;c!==null;){for(f=pe=c;pe!==null;){switch(d=pe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Fd(4,d,d.return);break;case 1:Qu(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Mt(r,n,m)}}break;case 5:Qu(d,d.return);break;case 22:if(d.memoizedState!==null){xI(f);continue}}p!==null?(p.return=d,pe=p):xI(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=n2("display",s))}catch(m){Mt(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Mt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Si(t,e),eo(e),r&4&&_I(e);break;case 21:break;default:Si(t,e),eo(e)}}function eo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cj(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(eh(i,""),r.flags&=-33);var o=wI(e);ox(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=wI(e);ix(e,a,s);break;default:throw Error(te(161))}}catch(l){Mt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A8(e,t,n){pe=e,kj(e)}function kj(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kn;a=gm;var u=Kn;if(gm=s,(Kn=l)&&!u)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?EI(i):l!==null?(l.return=s,pe=l):EI(i);for(;o!==null;)pe=o,kj(o),o=o.sibling;pe=i,gm=a,Kn=u}bI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):bI(e)}}function bI(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kn||My(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ti(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&oI(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oI(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ih(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Kn||t.flags&512&&rx(t)}catch(d){Mt(t,t.return,d)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function xI(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function EI(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{My(4,t)}catch(l){Mt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Mt(t,i,l)}}var o=t.return;try{rx(t)}catch(l){Mt(t,o,l)}break;case 5:var s=t.return;try{rx(t)}catch(l){Mt(t,s,l)}}}catch(l){Mt(t,t.return,l)}if(t===e){pe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,pe=a;break}pe=t.return}}var T8=Math.ceil,ev=ds.ReactCurrentDispatcher,KS=ds.ReactCurrentOwner,pi=ds.ReactCurrentBatchConfig,qe=0,Sn=null,Qt=null,Ln=0,jr=0,Xu=$a(0),fn=0,mh=null,Wl=0,jy=0,qS=0,Vd=null,br=null,GS=0,$c=1/0,ko=null,tv=!1,sx=null,ca=null,vm=!1,ea=null,nv=0,Ud=0,ax=null,ug=-1,cg=0;function ur(){return qe&6?Ut():ug!==-1?ug:ug=Ut()}function fa(e){return e.mode&1?qe&2&&Ln!==0?Ln&-Ln:u8.transition!==null?(cg===0&&(cg=m2()),cg):(e=rt,e!==0||(e=window.event,e=e===void 0?16:x2(e.type)),e):1}function $i(e,t,n,r){if(50<Ud)throw Ud=0,ax=null,Error(te(185));Qh(e,n,r),(!(qe&2)||e!==Sn)&&(e===Sn&&(!(qe&2)&&(jy|=n),fn===4&&Ls(e,Ln)),Pr(e,r),n===1&&qe===0&&!(t.mode&1)&&($c=Ut()+500,Ry&&Fa()))}function Pr(e,t){var n=e.callbackNode;uW(e,t);var r=Fg(e,e===Sn?Ln:0);if(r===0)n!==null&&RC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&RC(n),t===1)e.tag===0?l8(SI.bind(null,e)):U2(SI.bind(null,e)),i8(function(){!(qe&6)&&Fa()}),n=null;else{switch(g2(r)){case 1:n=_S;break;case 4:n=h2;break;case 16:n=$g;break;case 536870912:n=p2;break;default:n=$g}n=Fj(n,Rj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rj(e,t){if(ug=-1,cg=0,qe&6)throw Error(te(327));var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=Fg(e,e===Sn?Ln:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rv(e,r);else{t=r;var i=qe;qe|=2;var o=Dj();(Sn!==e||Ln!==t)&&(ko=null,$c=Ut()+500,Dl(e,t));do try{I8();break}catch(a){Nj(e,a)}while(!0);NS(),ev.current=o,qe=i,Qt!==null?t=0:(Sn=null,Ln=0,t=fn)}if(t!==0){if(t===2&&(i=Db(e),i!==0&&(r=i,t=lx(e,i))),t===1)throw n=mh,Dl(e,0),Ls(e,r),Pr(e,Ut()),n;if(t===6)Ls(e,r);else{if(i=e.current.alternate,!(r&30)&&!P8(i)&&(t=rv(e,r),t===2&&(o=Db(e),o!==0&&(r=o,t=lx(e,o))),t===1))throw n=mh,Dl(e,0),Ls(e,r),Pr(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:cl(e,br,ko);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=GS+500-Ut(),10<t)){if(Fg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ur(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zb(cl.bind(null,e,br,ko),t);break}cl(e,br,ko);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Li(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T8(r/1960))-r,10<r){e.timeoutHandle=zb(cl.bind(null,e,br,ko),r);break}cl(e,br,ko);break;case 5:cl(e,br,ko);break;default:throw Error(te(329))}}}return Pr(e,Ut()),e.callbackNode===n?Rj.bind(null,e):null}function lx(e,t){var n=Vd;return e.current.memoizedState.isDehydrated&&(Dl(e,t).flags|=256),e=rv(e,t),e!==2&&(t=br,br=n,t!==null&&ux(t)),e}function ux(e){br===null?br=e:br.push.apply(br,e)}function P8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~qS,t&=~jy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Li(t),r=1<<n;e[n]=-1,t&=~r}}function SI(e){if(qe&6)throw Error(te(327));lc();var t=Fg(e,0);if(!(t&1))return Pr(e,Ut()),null;var n=rv(e,t);if(e.tag!==0&&n===2){var r=Db(e);r!==0&&(t=r,n=lx(e,r))}if(n===1)throw n=mh,Dl(e,0),Ls(e,t),Pr(e,Ut()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,br,ko),Pr(e,Ut()),null}function YS(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&($c=Ut()+500,Ry&&Fa())}}function Hl(e){ea!==null&&ea.tag===0&&!(qe&6)&&lc();var t=qe;qe|=1;var n=pi.transition,r=rt;try{if(pi.transition=null,rt=1,e)return e()}finally{rt=r,pi.transition=n,qe=t,!(qe&6)&&Fa()}}function ZS(){jr=Xu.current,wt(Xu)}function Dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r8(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(OS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wg();break;case 3:jc(),wt(Ar),wt(Zn),FS();break;case 5:$S(r);break;case 4:jc();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:DS(r.type._context);break;case 22:case 23:ZS()}n=n.return}if(Sn=e,Qt=e=da(e.current,null),Ln=jr=t,fn=0,mh=null,qS=jy=Wl=0,br=Vd=null,gl!==null){for(t=0;t<gl.length;t++)if(n=gl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}gl=null}return e}function Nj(e,t){do{var n=Qt;try{if(NS(),sg.current=Jg,Xg){for(var r=Ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xg=!1}if(Bl=0,_n=ln=Ct=null,$d=!1,dh=0,KS.current=null,n===null||n.return===null){fn=1,mh=t,Qt=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=fI(s);if(p!==null){p.flags&=-257,dI(p,s,a,o,t),p.mode&1&&cI(o,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){cI(o,u,t),QS();break e}l=Error(te(426))}}else if(xt&&a.mode&1){var _=fI(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dI(_,s,a,o,t),kS(Lc(l,a));break e}}o=l=Lc(l,a),fn!==4&&(fn=2),Vd===null?Vd=[o]:Vd.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=gj(o,l,t);iI(o,b);break e;case 1:a=l;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ca===null||!ca.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var A=vj(o,a,t);iI(o,A);break e}}o=o.return}while(o!==null)}jj(n)}catch(C){t=C,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function Dj(){var e=ev.current;return ev.current=Jg,e===null?Jg:e}function QS(){(fn===0||fn===3||fn===2)&&(fn=4),Sn===null||!(Wl&268435455)&&!(jy&268435455)||Ls(Sn,Ln)}function rv(e,t){var n=qe;qe|=2;var r=Dj();(Sn!==e||Ln!==t)&&(ko=null,Dl(e,t));do try{C8();break}catch(i){Nj(e,i)}while(!0);if(NS(),qe=n,ev.current=r,Qt!==null)throw Error(te(261));return Sn=null,Ln=0,fn}function C8(){for(;Qt!==null;)Mj(Qt)}function I8(){for(;Qt!==null&&!eW();)Mj(Qt)}function Mj(e){var t=$j(e.alternate,e,jr);e.memoizedProps=e.pendingProps,t===null?jj(e):Qt=t,KS.current=null}function jj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x8(n,t),n!==null){n.flags&=32767,Qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fn=6,Qt=null;return}}else if(n=b8(n,t,jr),n!==null){Qt=n;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);fn===0&&(fn=5)}function cl(e,t,n){var r=rt,i=pi.transition;try{pi.transition=null,rt=1,O8(e,t,n,r)}finally{pi.transition=i,rt=r}return null}function O8(e,t,n,r){do lc();while(ea!==null);if(qe&6)throw Error(te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(cW(e,o),e===Sn&&(Qt=Sn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vm||(vm=!0,Fj($g,function(){return lc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pi.transition,pi.transition=null;var s=rt;rt=1;var a=qe;qe|=4,KS.current=null,S8(e,n),Oj(n,e),ZW(Vb),Vg=!!Fb,Vb=Fb=null,e.current=n,A8(n),tW(),qe=a,rt=s,pi.transition=o}else e.current=n;if(vm&&(vm=!1,ea=e,nv=i),o=e.pendingLanes,o===0&&(ca=null),iW(n.stateNode),Pr(e,Ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tv)throw tv=!1,e=sx,sx=null,e;return nv&1&&e.tag!==0&&lc(),o=e.pendingLanes,o&1?e===ax?Ud++:(Ud=0,ax=e):Ud=0,Fa(),null}function lc(){if(ea!==null){var e=g2(nv),t=pi.transition,n=rt;try{if(pi.transition=null,rt=16>e?16:e,ea===null)var r=!1;else{if(e=ea,ea=null,nv=0,qe&6)throw Error(te(331));var i=qe;for(qe|=4,pe=e.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(pe=u;pe!==null;){var c=pe;switch(c.tag){case 0:case 11:case 15:Fd(8,c,o)}var f=c.child;if(f!==null)f.return=c,pe=f;else for(;pe!==null;){c=pe;var d=c.sibling,p=c.return;if(Pj(c),c===u){pe=null;break}if(d!==null){d.return=p,pe=d;break}pe=p}}}var v=o.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fd(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,pe=b;break e}pe=o.return}}var y=e.current;for(pe=y;pe!==null;){s=pe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,pe=x;else e:for(s=y;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:My(9,a)}}catch(C){Mt(a,a.return,C)}if(a===s){pe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,pe=A;break e}pe=a.return}}if(qe=i,Fa(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(Py,e)}catch{}r=!0}return r}finally{rt=n,pi.transition=t}}return!1}function AI(e,t,n){t=Lc(n,t),t=gj(e,t,1),e=ua(e,t,1),t=ur(),e!==null&&(Qh(e,1,t),Pr(e,t))}function Mt(e,t,n){if(e.tag===3)AI(e,e,n);else for(;t!==null;){if(t.tag===3){AI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ca===null||!ca.has(r))){e=Lc(n,e),e=vj(t,e,1),t=ua(t,e,1),e=ur(),t!==null&&(Qh(t,1,e),Pr(t,e));break}}t=t.return}}function k8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ur(),e.pingedLanes|=e.suspendedLanes&n,Sn===e&&(Ln&n)===n&&(fn===4||fn===3&&(Ln&130023424)===Ln&&500>Ut()-GS?Dl(e,0):qS|=n),Pr(e,t)}function Lj(e,t){t===0&&(e.mode&1?(t=am,am<<=1,!(am&130023424)&&(am=4194304)):t=1);var n=ur();e=Xo(e,t),e!==null&&(Qh(e,t,n),Pr(e,n))}function R8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lj(e,n)}function N8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),Lj(e,n)}var $j;$j=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xr=!1,_8(e,t,n);xr=!!(e.flags&131072)}else xr=!1,xt&&t.flags&1048576&&z2(t,qg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lg(e,t),e=t.pendingProps;var i=Nc(t,Zn.current);ac(t,n),i=US(null,t,r,e,i,n);var o=zS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(r)?(o=!0,Hg(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jS(t),i.updater=Dy,t.stateNode=i,i._reactInternals=t,Yb(t,r,e,n),t=Xb(null,t,r,!0,o,n)):(t.tag=0,xt&&o&&IS(t),nr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=M8(r),e=Ti(r,e),i){case 0:t=Qb(null,t,r,e,n);break e;case 1:t=mI(null,t,r,e,n);break e;case 11:t=hI(null,t,r,e,n);break e;case 14:t=pI(null,t,r,Ti(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),Qb(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),mI(e,t,r,i,n);case 3:e:{if(bj(t),e===null)throw Error(te(387));r=t.pendingProps,o=t.memoizedState,i=o.element,G2(e,t),Zg(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Lc(Error(te(423)),t),t=gI(e,t,r,n,i);break e}else if(r!==i){i=Lc(Error(te(424)),t),t=gI(e,t,r,n,i);break e}else for(Br=la(t.stateNode.containerInfo.firstChild),Kr=t,xt=!0,Oi=null,n=K2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===i){t=Jo(e,t,n);break e}nr(e,t,r,n)}t=t.child}return t;case 5:return Y2(t),e===null&&Kb(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ub(r,i)?s=null:o!==null&&Ub(r,o)&&(t.flags|=32),_j(e,t),nr(e,t,s,n),t.child;case 6:return e===null&&Kb(t),null;case 13:return xj(e,t,n);case 4:return LS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mc(t,null,r,n):nr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),hI(e,t,r,i,n);case 7:return nr(e,t,t.pendingProps,n),t.child;case 8:return nr(e,t,t.pendingProps.children,n),t.child;case 12:return nr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,dt(Gg,r._currentValue),r._currentValue=s,o!==null)if(Fi(o.value,s)){if(o.children===i.children&&!Ar.current){t=Jo(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ho(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),qb(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),qb(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ac(t,n),i=mi(i),r=r(i),t.flags|=1,nr(e,t,r,n),t.child;case 14:return r=t.type,i=Ti(r,t.pendingProps),i=Ti(r.type,i),pI(e,t,r,i,n);case 15:return yj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ti(r,i),lg(e,t),t.tag=1,Tr(r)?(e=!0,Hg(t)):e=!1,ac(t,n),mj(t,r,i),Yb(t,r,i,n),Xb(null,t,r,!0,e,n);case 19:return Ej(e,t,n);case 22:return wj(e,t,n)}throw Error(te(156,t.tag))};function Fj(e,t){return d2(e,t)}function D8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,n,r){return new D8(e,t,n,r)}function XS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M8(e){if(typeof e=="function")return XS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vS)return 11;if(e===yS)return 14}return 2}function da(e,t){var n=e.alternate;return n===null?(n=di(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")XS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zu:return Ml(n.children,i,o,t);case gS:s=8,i|=8;break;case wb:return e=di(12,n,t,i|2),e.elementType=wb,e.lanes=o,e;case _b:return e=di(13,n,t,i),e.elementType=_b,e.lanes=o,e;case bb:return e=di(19,n,t,i),e.elementType=bb,e.lanes=o,e;case YM:return Ly(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qM:s=10;break e;case GM:s=9;break e;case vS:s=11;break e;case yS:s=14;break e;case Rs:s=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=di(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return e=di(7,e,r,t),e.lanes=n,e}function Ly(e,t,n,r){return e=di(22,e,r,t),e.elementType=YM,e.lanes=n,e.stateNode={isHidden:!1},e}function w_(e,t,n){return e=di(6,e,null,t),e.lanes=n,e}function __(e,t,n){return t=di(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j8(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e_(0),this.expirationTimes=e_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function JS(e,t,n,r,i,o,s,a,l){return e=new j8(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=di(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jS(o),e}function L8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vj(e){if(!e)return Sa;e=e._reactInternals;e:{if(mu(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(Tr(n))return V2(e,n,t)}return t}function Uj(e,t,n,r,i,o,s,a,l){return e=JS(n,r,!0,e,i,o,s,a,l),e.context=Vj(null),n=e.current,r=ur(),i=fa(n),o=Ho(r,i),o.callback=t??null,ua(n,o,i),e.current.lanes=i,Qh(e,i,r),Pr(e,r),e}function $y(e,t,n,r){var i=t.current,o=ur(),s=fa(i);return n=Vj(n),t.context===null?t.context=n:t.pendingContext=n,t=Ho(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ua(i,t,s),e!==null&&($i(e,i,s,o),og(e,i,s)),s}function iv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function e1(e,t){TI(e,t),(e=e.alternate)&&TI(e,t)}function $8(){return null}var zj=typeof reportError=="function"?reportError:function(e){console.error(e)};function t1(e){this._internalRoot=e}Fy.prototype.render=t1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));$y(e,t,null,null)};Fy.prototype.unmount=t1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hl(function(){$y(null,e,null,null)}),t[Qo]=null}};function Fy(e){this._internalRoot=e}Fy.prototype.unstable_scheduleHydration=function(e){if(e){var t=w2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<js.length&&t!==0&&t<js[n].priority;n++);js.splice(n,0,e),n===0&&b2(e)}};function n1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function PI(){}function F8(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=iv(s);o.call(u)}}var s=Uj(t,r,e,0,null,!1,!1,"",PI);return e._reactRootContainer=s,e[Qo]=s.current,ah(e.nodeType===8?e.parentNode:e),Hl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=iv(l);a.call(u)}}var l=JS(e,0,!1,null,null,!1,!1,"",PI);return e._reactRootContainer=l,e[Qo]=l.current,ah(e.nodeType===8?e.parentNode:e),Hl(function(){$y(t,l,n,r)}),l}function Uy(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=iv(s);a.call(l)}}$y(t,s,e,i)}else s=F8(n,t,e,i,r);return iv(s)}v2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xd(t.pendingLanes);n!==0&&(bS(t,n|1),Pr(t,Ut()),!(qe&6)&&($c=Ut()+500,Fa()))}break;case 13:Hl(function(){var r=Xo(e,1);if(r!==null){var i=ur();$i(r,e,1,i)}}),e1(e,1)}};xS=function(e){if(e.tag===13){var t=Xo(e,134217728);if(t!==null){var n=ur();$i(t,e,134217728,n)}e1(e,134217728)}};y2=function(e){if(e.tag===13){var t=fa(e),n=Xo(e,t);if(n!==null){var r=ur();$i(n,e,t,r)}e1(e,t)}};w2=function(){return rt};_2=function(e,t){var n=rt;try{return rt=e,t()}finally{rt=n}};kb=function(e,t,n){switch(t){case"input":if(Sb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ky(r);if(!i)throw Error(te(90));QM(r),Sb(r,i)}}}break;case"textarea":JM(e,n);break;case"select":t=n.value,t!=null&&rc(e,!!n.multiple,t,!1)}};s2=YS;a2=Hl;var V8={usingClientEntryPoint:!1,Events:[Jh,Ku,ky,i2,o2,YS]},ud={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U8={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=c2(e),e===null?null:e.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||$8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{Py=ym.inject(U8),fo=ym}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V8;ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(t))throw Error(te(200));return L8(e,t,null,n)};ti.createRoot=function(e,t){if(!n1(e))throw Error(te(299));var n=!1,r="",i=zj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=JS(e,1,!1,null,null,n,!1,r,i),e[Qo]=t.current,ah(e.nodeType===8?e.parentNode:e),new t1(t)};ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=c2(t),e=e===null?null:e.stateNode,e};ti.flushSync=function(e){return Hl(e)};ti.hydrate=function(e,t,n){if(!Vy(t))throw Error(te(200));return Uy(null,e,t,!0,n)};ti.hydrateRoot=function(e,t,n){if(!n1(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=zj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Uj(t,null,e,1,n??null,i,!1,o,s),e[Qo]=t.current,ah(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fy(t)};ti.render=function(e,t,n){if(!Vy(t))throw Error(te(200));return Uy(null,e,t,!1,n)};ti.unmountComponentAtNode=function(e){if(!Vy(e))throw Error(te(40));return e._reactRootContainer?(Hl(function(){Uy(null,null,e,!1,function(){e._reactRootContainer=null,e[Qo]=null})}),!0):!1};ti.unstable_batchedUpdates=YS;ti.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vy(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Uy(e,t,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function Bj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bj)}catch(e){console.error(e)}}Bj(),BM.exports=ti;var gu=BM.exports;const z8=wi(gu);var CI=gu;vb.createRoot=CI.createRoot,vb.hydrateRoot=CI.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var II="popstate";function B8(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return cx("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gh(i)}return H8(t,n,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W8(){return Math.random().toString(36).substring(2,10)}function OI(e,t){return{usr:e.state,key:e.key,idx:t}}function cx(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?df(t):t,state:n,key:t&&t.key||r||W8()}}function gh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function df(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function H8(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){a="POP";let _=c(),b=_==null?null:_-u;u=_,l&&l({action:a,location:m.location,delta:b})}function d(_,b){a="PUSH";let y=cx(m.location,_,b);u=c()+1;let x=OI(y,u),A=m.createHref(y);try{s.pushState(x,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}o&&l&&l({action:a,location:m.location,delta:1})}function p(_,b){a="REPLACE";let y=cx(m.location,_,b);u=c();let x=OI(y,u),A=m.createHref(y);s.replaceState(x,"",A),o&&l&&l({action:a,location:m.location,delta:0})}function v(_){return K8(_)}let m={get action(){return a},get location(){return e(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(II,f),l=_,()=>{i.removeEventListener(II,f),l=null}},createHref(_){return t(i,_)},createURL:v,encodeLocation(_){let b=v(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(_){return s.go(_)}};return m}function K8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:gh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Wj(e,t,n="/"){return q8(e,t,n,!1)}function q8(e,t,n,r){let i=typeof t=="string"?df(t):t,o=es(i.pathname||"/",n);if(o==null)return null;let s=Hj(e);G8(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=oH(o);a=rH(s[l],u,r)}return a}function Hj(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;St(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=Ko([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(St(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Hj(s.children,t,d,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:tH(f,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let u of Kj(s.path))o(s,a,!0,u)}),t}function Kj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Kj(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function G8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Y8=/^:[\w-]+$/,Z8=3,Q8=2,X8=1,J8=10,eH=-2,kI=e=>e==="*";function tH(e,t){let n=e.split("/"),r=n.length;return n.some(kI)&&(r+=eH),t&&(r+=Q8),n.filter(i=>!kI(i)).reduce((i,o)=>i+(Y8.test(o)?Z8:o===""?X8:J8),r)}function nH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rH(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=ov({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ov({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ko([o,f.pathname]),pathnameBase:uH(Ko([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Ko([o,f.pathnameBase]))}return s}function ov(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iH(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function iH(e,t=!1,n=!0){Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function es(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sH(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?df(e):e;return{pathname:n?n.startsWith("/")?n:aH(n,t):t,search:cH(r),hash:fH(i)}}function aH(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function b_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function r1(e){let t=lH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function i1(e,t,n,r=!1){let i;typeof e=="string"?i=df(e):(i={...e},St(!i.pathname||!i.pathname.includes("?"),b_("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),b_("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),b_("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=sH(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Ko=e=>e.join("/").replace(/\/\/+/g,"/"),uH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var qj=["POST","PUT","PATCH","DELETE"];new Set(qj);var hH=["GET",...qj];new Set(hH);var hf=g.createContext(null);hf.displayName="DataRouter";var zy=g.createContext(null);zy.displayName="DataRouterState";g.createContext(!1);var Gj=g.createContext({isTransitioning:!1});Gj.displayName="ViewTransition";var pH=g.createContext(new Map);pH.displayName="Fetchers";var mH=g.createContext(null);mH.displayName="Await";var qi=g.createContext(null);qi.displayName="Navigation";var tp=g.createContext(null);tp.displayName="Location";var Gi=g.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var o1=g.createContext(null);o1.displayName="RouteError";function gH(e,{relative:t}={}){St(pf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(qi),{hash:i,pathname:o,search:s}=np(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Ko([n,o])),r.createHref({pathname:a,search:s,hash:i})}function pf(){return g.useContext(tp)!=null}function Va(){return St(pf(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(tp).location}var Yj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zj(e){g.useContext(qi).static||g.useLayoutEffect(e)}function Qj(){let{isDataRoute:e}=g.useContext(Gi);return e?kH():vH()}function vH(){St(pf(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(hf),{basename:t,navigator:n}=g.useContext(qi),{matches:r}=g.useContext(Gi),{pathname:i}=Va(),o=JSON.stringify(r1(r)),s=g.useRef(!1);return Zj(()=>{s.current=!0}),g.useCallback((l,u={})=>{if(Vi(s.current,Yj),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=i1(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Ko([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var yH=g.createContext(null);function wH(e){let t=g.useContext(Gi).outlet;return g.useMemo(()=>t&&g.createElement(yH.Provider,{value:e},t),[t,e])}function np(e,{relative:t}={}){let{matches:n}=g.useContext(Gi),{pathname:r}=Va(),i=JSON.stringify(r1(n));return g.useMemo(()=>i1(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function _H(e,t){return Xj(e,t)}function Xj(e,t,n,r,i){var y;St(pf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=g.useContext(qi),{matches:s}=g.useContext(Gi),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let x=f&&f.path||"";Jj(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let d=Va(),p;if(t){let x=typeof t=="string"?df(t):t;St(c==="/"||((y=x.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=d;let v=p.pathname||"/",m=v;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=Wj(e,{pathname:m});Vi(f||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Vi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=AH(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ko([c,o.encodeLocation?o.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ko([c,o.encodeLocation?o.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),s,n,r,i);return t&&b?g.createElement(tp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function bH(){let e=OH(),t=dH(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"ErrorBoundary")," or"," ",g.createElement("code",{style:o},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:i},n):null,s)}var xH=g.createElement(bH,null),EH=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(Gi.Provider,{value:this.props.routeContext},g.createElement(o1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SH({routeContext:e,match:t,children:n}){let r=g.useContext(hf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Gi.Provider,{value:e},n)}function AH(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n==null?void 0:n.errors;if(s!=null){let u=o.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);St(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<o.length;u++){let c=o[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:d}=n,p=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||p){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,c,f)=>{let d,p=!1,v=null,m=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,v=c.route.errorElement||xH,a&&(l<0&&f===0?(Jj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):l===f&&(p=!0,m=c.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,f+1)),b=()=>{let y;return d?y=v:p?y=m:c.route.Component?y=g.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,g.createElement(SH,{match:c,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?g.createElement(EH,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):b()},null)}function s1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TH(e){let t=g.useContext(hf);return St(t,s1(e)),t}function PH(e){let t=g.useContext(zy);return St(t,s1(e)),t}function CH(e){let t=g.useContext(Gi);return St(t,s1(e)),t}function a1(e){let t=CH(e),n=t.matches[t.matches.length-1];return St(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function IH(){return a1("useRouteId")}function OH(){var r;let e=g.useContext(o1),t=PH("useRouteError"),n=a1("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function kH(){let{router:e}=TH("useNavigate"),t=a1("useNavigate"),n=g.useRef(!1);return Zj(()=>{n.current=!0}),g.useCallback(async(i,o={})=>{Vi(n.current,Yj),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var RI={};function Jj(e,t,n){!t&&!RI[e]&&(RI[e]=!0,Vi(!1,n))}g.memo(RH);function RH({routes:e,future:t,state:n,unstable_onError:r}){return Xj(e,void 0,n,r,t)}function uc({to:e,replace:t,state:n,relative:r}){St(pf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=g.useContext(qi);Vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=g.useContext(Gi),{pathname:s}=Va(),a=Qj(),l=i1(e,r1(o),s,r==="path"),u=JSON.stringify(l);return g.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function eL(e){return wH(e.context)}function pr(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NH({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){St(!pf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=g.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=df(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=n,p=g.useMemo(()=>{let v=es(l,s);return v==null?null:{location:{pathname:v,search:u,hash:c,state:f,key:d},navigationType:r}},[s,l,u,c,f,d,r]);return Vi(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(qi.Provider,{value:a},g.createElement(tp.Provider,{children:t,value:p}))}function DH({children:e,location:t}){return _H(fx(e),t)}function fx(e,t=[]){let n=[];return g.Children.forEach(e,(r,i)=>{if(!g.isValidElement(r))return;let o=[...t,i];if(r.type===g.Fragment){n.push.apply(n,fx(r.props.children,o));return}St(r.type===pr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=fx(r.props.children,o)),n.push(s)}),n}var dg="get",hg="application/x-www-form-urlencoded";function By(e){return e!=null&&typeof e.tagName=="string"}function MH(e){return By(e)&&e.tagName.toLowerCase()==="button"}function jH(e){return By(e)&&e.tagName.toLowerCase()==="form"}function LH(e){return By(e)&&e.tagName.toLowerCase()==="input"}function $H(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FH(e,t){return e.button===0&&(!t||t==="_self")&&!$H(e)}var wm=null;function VH(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var UH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function x_(e){return e!=null&&!UH.has(e)?(Vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hg}"`),null):e}function zH(e,t){let n,r,i,o,s;if(jH(e)){let a=e.getAttribute("action");r=a?es(a,t):null,n=e.getAttribute("method")||dg,i=x_(e.getAttribute("enctype"))||hg,o=new FormData(e)}else if(MH(e)||LH(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?es(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||dg,i=x_(e.getAttribute("formenctype"))||x_(a.getAttribute("enctype"))||hg,o=new FormData(a,e),!VH()){let{name:u,type:c,value:f}=e;if(c==="image"){let d=u?`${u}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else u&&o.append(u,f)}}else{if(By(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dg,r=null,i=hg,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BH(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&es(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function WH(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HH(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KH(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await WH(o,n);return s.links?s.links():[]}return[]}));return ZH(r.flat(1).filter(HH).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NI(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function qH(e,t,{includeHydrateFallback:n}={}){return GH(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function GH(e){return[...new Set(e)]}function YH(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ZH(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(YH(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function tL(){let e=g.useContext(hf);return l1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function QH(){let e=g.useContext(zy);return l1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var u1=g.createContext(void 0);u1.displayName="FrameworkContext";function nL(){let e=g.useContext(u1);return l1(e,"You must render this element inside a <HydratedRouter> element"),e}function XH(e,t){let n=g.useContext(u1),[r,i]=g.useState(!1),[o,s]=g.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=g.useRef(null);g.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let m=b=>{b.forEach(y=>{s(y.isIntersecting)})},_=new IntersectionObserver(m,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[e]),g.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,d,{}]:[o,d,{onFocus:cd(a,p),onBlur:cd(l,v),onMouseEnter:cd(u,p),onMouseLeave:cd(c,v),onTouchStart:cd(f,p)}]:[!1,d,{}]}function cd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function JH({page:e,...t}){let{router:n}=tL(),r=g.useMemo(()=>Wj(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(tK,{page:e,matches:r,...t}):null}function eK(e){let{manifest:t,routeModules:n}=nL(),[r,i]=g.useState([]);return g.useEffect(()=>{let o=!1;return KH(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function tK({page:e,matches:t,...n}){let r=Va(),{manifest:i,routeModules:o}=nL(),{basename:s}=tL(),{loaderData:a,matches:l}=QH(),u=g.useMemo(()=>NI(e,t,l,i,r,"data"),[e,t,l,i,r]),c=g.useMemo(()=>NI(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,m=!1;if(t.forEach(b=>{var x;let y=i.routes[b.route.id];!y||!y.hasLoader||(!u.some(A=>A.route.id===b.route.id)&&b.route.id in a&&((x=o[b.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?m=!0:v.add(b.route.id))}),v.size===0)return[];let _=BH(e,s,"data");return m&&v.size>0&&_.searchParams.set("_routes",t.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[_.pathname+_.search]},[s,a,r,i,u,t,e,o]),d=g.useMemo(()=>qH(c,i),[c,i]),p=eK(c);return g.createElement(g.Fragment,null,f.map(v=>g.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),d.map(v=>g.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:m})=>g.createElement("link",{key:v,nonce:n.nonce,...m})))}function nK(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var rL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rL&&(window.__reactRouterVersion="7.9.3")}catch{}function rK({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=B8({window:n,v5Compat:!0}));let i=r.current,[o,s]=g.useState({action:i.action,location:i.location}),a=g.useCallback(l=>{g.startTransition(()=>s(l))},[s]);return g.useLayoutEffect(()=>i.listen(a),[i,a]),g.createElement(NH,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var iL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},p){let{basename:v}=g.useContext(qi),m=typeof u=="string"&&iL.test(u),_,b=!1;if(typeof u=="string"&&m&&(_=u,rL))try{let I=new URL(window.location.href),k=u.startsWith("//")?new URL(I.protocol+u):new URL(u),O=es(k.pathname,v);k.origin===I.origin&&O!=null?u=O+k.search+k.hash:b=!0}catch{Vi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=gH(u,{relative:i}),[x,A,C]=XH(r,d),N=sK(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:f});function S(I){t&&t(I),I.defaultPrevented||N(I)}let T=g.createElement("a",{...d,...C,href:_||y,onClick:b||o?t:S,ref:nK(p,A),target:l,"data-discover":!m&&n==="render"?"true":void 0});return x&&!m?g.createElement(g.Fragment,null,T,g.createElement(JH,{page:y})):T});c1.displayName="Link";var oL=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let f=np(s,{relative:u.relative}),d=Va(),p=g.useContext(zy),{navigator:v,basename:m}=g.useContext(qi),_=p!=null&&fK(f)&&a===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=d.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&m&&(x=es(x,m)||x);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=y===b||!i&&y.startsWith(b)&&y.charAt(A)==="/",N=x!=null&&(x===b||!i&&x.startsWith(b)&&x.charAt(b.length)==="/"),S={isActive:C,isPending:N,isTransitioning:_},T=C?t:void 0,I;typeof r=="function"?I=r(S):I=[r,C?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(S):o;return g.createElement(c1,{...u,"aria-current":T,className:I,ref:c,style:k,to:s,viewTransition:a},typeof l=="function"?l(S):l)});oL.displayName="NavLink";var iK=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=dg,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},p)=>{let v=uK(),m=cK(a,{relative:u}),_=s.toLowerCase()==="get"?"get":"post",b=typeof a=="string"&&iL.test(a),y=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let A=x.nativeEvent.submitter,C=(A==null?void 0:A.getAttribute("formmethod"))||s;v(A||x.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return g.createElement("form",{ref:p,method:_,action:m,onSubmit:r?l:y,...d,"data-discover":!b&&e==="render"?"true":void 0})});iK.displayName="Form";function oK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sL(e){let t=g.useContext(hf);return St(t,oK(e)),t}function sK(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Qj(),l=Va(),u=np(e,{relative:o});return g.useCallback(c=>{if(FH(c,t)){c.preventDefault();let f=n!==void 0?n:gh(l)===gh(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}var aK=0,lK=()=>`__${String(++aK)}__`;function uK(){let{router:e}=sL("useSubmit"),{basename:t}=g.useContext(qi),n=IH();return g.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=zH(r,t);if(i.navigate===!1){let c=i.fetcherKey||lK();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function cK(e,{relative:t}={}){let{basename:n}=g.useContext(qi),r=g.useContext(Gi);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...np(e||".",{relative:t})},s=Va();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ko([n,o.pathname])),gh(o)}function fK(e,{relative:t}={}){let n=g.useContext(Gj);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sL("useViewTransitionState"),i=np(e,{relative:t});if(!n.isTransitioning)return!1;let o=es(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=es(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ov(i.pathname,s)!=null||ov(i.pathname,o)!=null}var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ws,aS,_M,hK=(_M=class{constructor(){we(this,Ws,dK);we(this,aS,!1)}setTimeoutProvider(e){ue(this,Ws,e)}setTimeout(e,t){return L(this,Ws).setTimeout(e,t)}clearTimeout(e){L(this,Ws).clearTimeout(e)}setInterval(e,t){return L(this,Ws).setInterval(e,t)}clearInterval(e){L(this,Ws).clearInterval(e)}},Ws=new WeakMap,aS=new WeakMap,_M),yl=new hK;function pK(e){setTimeout(e,0)}var Kl=typeof window>"u"||"Deno"in globalThis;function rr(){}function mK(e,t){return typeof e=="function"?e(t):e}function dx(e){return typeof e=="number"&&e>=0&&e!==1/0}function aL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ha(e,t){return typeof e=="function"?e(t):e}function li(e,t){return typeof e=="function"?e(t):e}function DI(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(r){if(t.queryHash!==f1(s,t.options))return!1}else if(!vh(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function MI(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ql(t.options.mutationKey)!==ql(o))return!1}else if(!vh(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function f1(e,t){return((t==null?void 0:t.queryKeyHashFn)||ql)(e)}function ql(e){return JSON.stringify(e,(t,n)=>hx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function vh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vh(e[n],t[n])):!1}var gK=Object.prototype.hasOwnProperty;function lL(e,t){if(e===t)return e;const n=jI(e)&&jI(t);if(!n&&!(hx(e)&&hx(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),s=o.length,a=n?new Array(s):{};let l=0;for(let u=0;u<s;u++){const c=n?u:o[u],f=e[c],d=t[c];if(f===d){a[c]=f,(n?u<i:gK.call(e,c))&&l++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){a[c]=d;continue}const p=lL(f,d);a[c]=p,p===f&&l++}return i===s&&l===i?e:a}function sv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hx(e){if(!LI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!LI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function LI(e){return Object.prototype.toString.call(e)==="[object Object]"}function vK(e){return new Promise(t=>{yl.setTimeout(t,e)})}function px(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lL(e,t):t}function yK(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wK(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var d1=Symbol();function uL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===d1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cL(e,t){return typeof e=="function"?e(...t):!!e}var Al,Hs,_c,bM,_K=(bM=class extends mf{constructor(){super();we(this,Al);we(this,Hs);we(this,_c);ue(this,_c,t=>{if(!Kl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,Hs)||this.setEventListener(L(this,_c))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Hs))==null||t.call(this),ue(this,Hs,void 0))}setEventListener(t){var n;ue(this,_c,t),(n=L(this,Hs))==null||n.call(this),ue(this,Hs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){L(this,Al)!==t&&(ue(this,Al,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof L(this,Al)=="boolean"?L(this,Al):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Al=new WeakMap,Hs=new WeakMap,_c=new WeakMap,bM),h1=new _K;function mx(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var bK=pK;function xK(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=bK;const o=a=>{t?e.push(a):i(()=>{n(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var cn=xK(),bc,Ks,xc,xM,EK=(xM=class extends mf{constructor(){super();we(this,bc,!0);we(this,Ks);we(this,xc);ue(this,xc,t=>{if(!Kl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Ks)||this.setEventListener(L(this,xc))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,Ks))==null||t.call(this),ue(this,Ks,void 0))}setEventListener(t){var n;ue(this,xc,t),(n=L(this,Ks))==null||n.call(this),ue(this,Ks,t(this.setOnline.bind(this)))}setOnline(t){L(this,bc)!==t&&(ue(this,bc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return L(this,bc)}},bc=new WeakMap,Ks=new WeakMap,xc=new WeakMap,xM),av=new EK;function SK(e){return Math.min(1e3*2**e,3e4)}function fL(e){return(e??"online")==="online"?av.isOnline():!0}var gx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dL(e){let t=!1,n=0,r;const i=mx(),o=()=>i.status!=="pending",s=m=>{var _;if(!o()){const b=new gx(m);d(b),(_=e.onCancel)==null||_.call(e,b)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>h1.isFocused()&&(e.networkMode==="always"||av.isOnline())&&e.canRun(),c=()=>fL(e.networkMode)&&e.canRun(),f=m=>{o()||(r==null||r(),i.resolve(m))},d=m=>{o()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var _;r=b=>{(o()||u())&&m(b)},(_=e.onPause)==null||_.call(e)}).then(()=>{var m;r=void 0,o()||(m=e.onContinue)==null||m.call(e)}),v=()=>{if(o())return;let m;const _=n===0?e.initialPromise:void 0;try{m=_??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var N;if(o())return;const y=e.retry??(Kl?0:3),x=e.retryDelay??SK,A=typeof x=="function"?x(n,b):x,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(t||!C){d(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),vK(A).then(()=>u()?void 0:p()).then(()=>{t?d(b):v()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?v():p().then(v),i)}}var Tl,EM,hL=(EM=class{constructor(){we(this,Tl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dx(this.gcTime)&&ue(this,Tl,yl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kl?1/0:5*60*1e3))}clearGcTimeout(){L(this,Tl)&&(yl.clearTimeout(L(this,Tl)),ue(this,Tl,void 0))}},Tl=new WeakMap,EM),Pl,Ec,ai,Cl,vn,Hh,Il,Pi,Oo,SM,AK=(SM=class extends hL{constructor(n){super();we(this,Pi);we(this,Pl);we(this,Ec);we(this,ai);we(this,Cl);we(this,vn);we(this,Hh);we(this,Il);ue(this,Il,!1),ue(this,Hh,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,Cl,n.client),ue(this,ai,L(this,Cl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,Pl,$I(this.options)),this.state=n.state??L(this,Pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=L(this,vn))==null?void 0:n.promise}setOptions(n){if(this.options={...L(this,Hh),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$I(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ue(this,Pl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,ai).remove(this)}setData(n,r){const i=px(this.state.data,n,this.options);return Ne(this,Pi,Oo).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ne(this,Pi,Oo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=L(this,vn))==null?void 0:i.promise;return(o=L(this,vn))==null||o.cancel(n),r?r.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,Pl))}isActive(){return this.observers.some(n=>li(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ha(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!aL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,vn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=L(this,vn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),L(this,ai).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(L(this,vn)&&(L(this,Il)?L(this,vn).cancel({revert:!0}):L(this,vn).cancelRetry()),this.scheduleGc()),L(this,ai).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ne(this,Pi,Oo).call(this,{type:"invalidate"})}async fetch(n,r){var u,c,f,d,p,v,m,_,b,y,x,A;if(this.state.fetchStatus!=="idle"&&((u=L(this,vn))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,vn))return L(this,vn).continueRetry(),L(this,vn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const C=this.observers.find(N=>N.options.queryFn);C&&this.setOptions(C.options)}const i=new AbortController,o=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(ue(this,Il,!0),i.signal)})},s=()=>{const C=uL(this.options,r),S=(()=>{const T={client:L(this,Cl),queryKey:this.queryKey,meta:this.meta};return o(T),T})();return ue(this,Il,!1),this.options.persister?this.options.persister(C,S,this):C(S)},l=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:L(this,Cl),state:this.state,fetchFn:s};return o(C),C})();(c=this.options.behavior)==null||c.onFetch(l,this),ue(this,Ec,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ne(this,Pi,Oo).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),ue(this,vn,dL({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof gx&&C.revert&&this.setState({...L(this,Ec),fetchStatus:"idle"}),i.abort()},onFail:(C,N)=>{Ne(this,Pi,Oo).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Ne(this,Pi,Oo).call(this,{type:"pause"})},onContinue:()=>{Ne(this,Pi,Oo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await L(this,vn).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(p=L(this,ai).config).onSuccess)==null||v.call(p,C,this),(_=(m=L(this,ai).config).onSettled)==null||_.call(m,C,this.state.error,this),C}catch(C){if(C instanceof gx){if(C.silent)return L(this,vn).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Ne(this,Pi,Oo).call(this,{type:"error",error:C}),(y=(b=L(this,ai).config).onError)==null||y.call(b,C,this),(A=(x=L(this,ai).config).onSettled)==null||A.call(x,this.state.data,C,this),C}finally{this.scheduleGc()}}},Pl=new WeakMap,Ec=new WeakMap,ai=new WeakMap,Cl=new WeakMap,vn=new WeakMap,Hh=new WeakMap,Il=new WeakMap,Pi=new WeakSet,Oo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...pL(i.data,this.options),fetchMeta:n.meta??null};case"success":const o={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ue(this,Ec,n.manual?o:void 0),o;case"error":const s=n.error;return{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),L(this,ai).notify({query:this,type:"updated",action:n})})},SM);function pL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $I(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gr,Ue,Kh,er,Ol,Sc,No,qs,qh,Ac,Tc,kl,Rl,Gs,Pc,et,Sd,vx,yx,wx,_x,bx,xx,Ex,mL,AM,TK=(AM=class extends mf{constructor(t,n){super();we(this,et);we(this,gr);we(this,Ue);we(this,Kh);we(this,er);we(this,Ol);we(this,Sc);we(this,No);we(this,qs);we(this,qh);we(this,Ac);we(this,Tc);we(this,kl);we(this,Rl);we(this,Gs);we(this,Pc,new Set);this.options=n,ue(this,gr,t),ue(this,qs,null),ue(this,No,mx()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,Ue).addObserver(this),FI(L(this,Ue),this.options)?Ne(this,et,Sd).call(this):this.updateResult(),Ne(this,et,_x).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sx(L(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sx(L(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ne(this,et,bx).call(this),Ne(this,et,xx).call(this),L(this,Ue).removeObserver(this)}setOptions(t){const n=this.options,r=L(this,Ue);if(this.options=L(this,gr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof li(this.options.enabled,L(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ne(this,et,Ex).call(this),L(this,Ue).setOptions(this.options),n._defaulted&&!sv(this.options,n)&&L(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,Ue),observer:this});const i=this.hasListeners();i&&VI(L(this,Ue),r,this.options,n)&&Ne(this,et,Sd).call(this),this.updateResult(),i&&(L(this,Ue)!==r||li(this.options.enabled,L(this,Ue))!==li(n.enabled,L(this,Ue))||ha(this.options.staleTime,L(this,Ue))!==ha(n.staleTime,L(this,Ue)))&&Ne(this,et,vx).call(this);const o=Ne(this,et,yx).call(this);i&&(L(this,Ue)!==r||li(this.options.enabled,L(this,Ue))!==li(n.enabled,L(this,Ue))||o!==L(this,Gs))&&Ne(this,et,wx).call(this,o)}getOptimisticResult(t){const n=L(this,gr).getQueryCache().build(L(this,gr),t),r=this.createResult(n,t);return CK(this,r)&&(ue(this,er,r),ue(this,Sc,this.options),ue(this,Ol,L(this,Ue).state)),r}getCurrentResult(){return L(this,er)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&L(this,No).status==="pending"&&L(this,No).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){L(this,Pc).add(t)}getCurrentQuery(){return L(this,Ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=L(this,gr).defaultQueryOptions(t),r=L(this,gr).getQueryCache().build(L(this,gr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ne(this,et,Sd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,er)))}createResult(t,n){var I;const r=L(this,Ue),i=this.options,o=L(this,er),s=L(this,Ol),a=L(this,Sc),u=t!==r?t.state:L(this,Kh),{state:c}=t;let f={...c},d=!1,p;if(n._optimisticResults){const k=this.hasListeners(),O=!k&&FI(t,n),D=k&&VI(t,r,n,i);(O||D)&&(f={...f,...pL(c.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:m,status:_}=f;p=f.data;let b=!1;if(n.placeholderData!==void 0&&p===void 0&&_==="pending"){let k;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(k=o.data,b=!0):k=typeof n.placeholderData=="function"?n.placeholderData((I=L(this,Tc))==null?void 0:I.state.data,L(this,Tc)):n.placeholderData,k!==void 0&&(_="success",p=px(o==null?void 0:o.data,k,n),d=!0)}if(n.select&&p!==void 0&&!b)if(o&&p===(s==null?void 0:s.data)&&n.select===L(this,qh))p=L(this,Ac);else try{ue(this,qh,n.select),p=n.select(p),p=px(o==null?void 0:o.data,p,n),ue(this,Ac,p),ue(this,qs,null)}catch(k){ue(this,qs,k)}L(this,qs)&&(v=L(this,qs),p=L(this,Ac),m=Date.now(),_="error");const y=f.fetchStatus==="fetching",x=_==="pending",A=_==="error",C=x&&y,N=p!==void 0,T={status:_,fetchStatus:f.fetchStatus,isPending:x,isSuccess:_==="success",isError:A,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:A&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:A&&N,isStale:p1(t,n),refetch:this.refetch,promise:L(this,No),isEnabled:li(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=R=>{T.status==="error"?R.reject(T.error):T.data!==void 0&&R.resolve(T.data)},O=()=>{const R=ue(this,No,T.promise=mx());k(R)},D=L(this,No);switch(D.status){case"pending":t.queryHash===r.queryHash&&k(D);break;case"fulfilled":(T.status==="error"||T.data!==D.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==D.reason)&&O();break}}return T}updateResult(){const t=L(this,er),n=this.createResult(L(this,Ue),this.options);if(ue(this,Ol,L(this,Ue).state),ue(this,Sc,this.options),L(this,Ol).data!==void 0&&ue(this,Tc,L(this,Ue)),sv(n,t))return;ue(this,er,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!L(this,Pc).size)return!0;const s=new Set(o??L(this,Pc));return this.options.throwOnError&&s.add("error"),Object.keys(L(this,er)).some(a=>{const l=a;return L(this,er)[l]!==t[l]&&s.has(l)})};Ne(this,et,mL).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ne(this,et,_x).call(this)}},gr=new WeakMap,Ue=new WeakMap,Kh=new WeakMap,er=new WeakMap,Ol=new WeakMap,Sc=new WeakMap,No=new WeakMap,qs=new WeakMap,qh=new WeakMap,Ac=new WeakMap,Tc=new WeakMap,kl=new WeakMap,Rl=new WeakMap,Gs=new WeakMap,Pc=new WeakMap,et=new WeakSet,Sd=function(t){Ne(this,et,Ex).call(this);let n=L(this,Ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rr)),n},vx=function(){Ne(this,et,bx).call(this);const t=ha(this.options.staleTime,L(this,Ue));if(Kl||L(this,er).isStale||!dx(t))return;const r=aL(L(this,er).dataUpdatedAt,t)+1;ue(this,kl,yl.setTimeout(()=>{L(this,er).isStale||this.updateResult()},r))},yx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,Ue)):this.options.refetchInterval)??!1},wx=function(t){Ne(this,et,xx).call(this),ue(this,Gs,t),!(Kl||li(this.options.enabled,L(this,Ue))===!1||!dx(L(this,Gs))||L(this,Gs)===0)&&ue(this,Rl,yl.setInterval(()=>{(this.options.refetchIntervalInBackground||h1.isFocused())&&Ne(this,et,Sd).call(this)},L(this,Gs)))},_x=function(){Ne(this,et,vx).call(this),Ne(this,et,wx).call(this,Ne(this,et,yx).call(this))},bx=function(){L(this,kl)&&(yl.clearTimeout(L(this,kl)),ue(this,kl,void 0))},xx=function(){L(this,Rl)&&(yl.clearInterval(L(this,Rl)),ue(this,Rl,void 0))},Ex=function(){const t=L(this,gr).getQueryCache().build(L(this,gr),this.options);if(t===L(this,Ue))return;const n=L(this,Ue);ue(this,Ue,t),ue(this,Kh,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},mL=function(t){cn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(L(this,er))}),L(this,gr).getQueryCache().notify({query:L(this,Ue),type:"observerResultsUpdated"})})},AM);function PK(e,t){return li(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function FI(e,t){return PK(e,t)||e.state.data!==void 0&&Sx(e,t,t.refetchOnMount)}function Sx(e,t,n){if(li(t.enabled,e)!==!1&&ha(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&p1(e,t)}return!1}function VI(e,t,n,r){return(e!==t||li(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&p1(e,n)}function p1(e,t){return li(t.enabled,e)!==!1&&e.isStaleByTime(ha(t.staleTime,e))}function CK(e,t){return!sv(e.getCurrentResult(),t)}function UI(e){return{onFetch:(t,n)=>{var c,f,d,p,v;const r=t.options,i=(d=(f=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],s=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=uL(t.options,t.fetchOptions),y=async(x,A,C)=>{if(m)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:A,direction:C?"backward":"forward",meta:t.options.meta};return _(O),O})(),T=await b(S),{maxPages:I}=t.options,k=C?wK:yK;return{pages:k(x.pages,T,I),pageParams:k(x.pageParams,A,I)}};if(i&&o.length){const x=i==="backward",A=x?IK:zI,C={pages:o,pageParams:s},N=A(r,C);a=await y(C,N,x)}else{const x=e??o.length;do{const A=l===0?s[0]??r.initialPageParam:zI(r,a);if(l>0&&A==null)break;a=await y(a,A),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var m,_;return(_=(m=t.options).persister)==null?void 0:_.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function zI(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IK(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Gh,io,tr,Nl,oo,Os,TM,OK=(TM=class extends hL{constructor(n){super();we(this,oo);we(this,Gh);we(this,io);we(this,tr);we(this,Nl);ue(this,Gh,n.client),this.mutationId=n.mutationId,ue(this,tr,n.mutationCache),ue(this,io,[]),this.state=n.state||gL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){L(this,io).includes(n)||(L(this,io).push(n),this.clearGcTimeout(),L(this,tr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,io,L(this,io).filter(r=>r!==n)),this.scheduleGc(),L(this,tr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){L(this,io).length||(this.state.status==="pending"?this.scheduleGc():L(this,tr).remove(this))}continue(){var n;return((n=L(this,Nl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,c,f,d,p,v,m,_,b,y,x,A,C,N,S,T,I,k;const r=()=>{Ne(this,oo,Os).call(this,{type:"continue"})},i={client:L(this,Gh),meta:this.options.meta,mutationKey:this.options.mutationKey};ue(this,Nl,dL({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{Ne(this,oo,Os).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{Ne(this,oo,Os).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,tr).canRun(this)}));const o=this.state.status==="pending",s=!L(this,Nl).canStart();try{if(o)r();else{Ne(this,oo,Os).call(this,{type:"pending",variables:n,isPaused:s}),await((l=(a=L(this,tr).config).onMutate)==null?void 0:l.call(a,n,this,i));const D=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n,i));D!==this.state.context&&Ne(this,oo,Os).call(this,{type:"pending",context:D,variables:n,isPaused:s})}const O=await L(this,Nl).start();return await((d=(f=L(this,tr).config).onSuccess)==null?void 0:d.call(f,O,n,this.state.context,this,i)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,O,n,this.state.context,i)),await((_=(m=L(this,tr).config).onSettled)==null?void 0:_.call(m,O,null,this.state.variables,this.state.context,this,i)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,O,null,n,this.state.context,i)),Ne(this,oo,Os).call(this,{type:"success",data:O}),O}catch(O){try{throw await((A=(x=L(this,tr).config).onError)==null?void 0:A.call(x,O,n,this.state.context,this,i)),await((N=(C=this.options).onError)==null?void 0:N.call(C,O,n,this.state.context,i)),await((T=(S=L(this,tr).config).onSettled)==null?void 0:T.call(S,void 0,O,this.state.variables,this.state.context,this,i)),await((k=(I=this.options).onSettled)==null?void 0:k.call(I,void 0,O,n,this.state.context,i)),O}finally{Ne(this,oo,Os).call(this,{type:"error",error:O})}}finally{L(this,tr).runNext(this)}}},Gh=new WeakMap,io=new WeakMap,tr=new WeakMap,Nl=new WeakMap,oo=new WeakSet,Os=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cn.batch(()=>{L(this,io).forEach(i=>{i.onMutationUpdate(n)}),L(this,tr).notify({mutation:this,type:"updated",action:n})})},TM);function gL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Do,Ci,Yh,PM,kK=(PM=class extends mf{constructor(t={}){super();we(this,Do);we(this,Ci);we(this,Yh);this.config=t,ue(this,Do,new Set),ue(this,Ci,new Map),ue(this,Yh,0)}build(t,n,r){const i=new OK({client:t,mutationCache:this,mutationId:++tm(this,Yh)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){L(this,Do).add(t);const n=_m(t);if(typeof n=="string"){const r=L(this,Ci).get(n);r?r.push(t):L(this,Ci).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(L(this,Do).delete(t)){const n=_m(t);if(typeof n=="string"){const r=L(this,Ci).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&L(this,Ci).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=_m(t);if(typeof n=="string"){const r=L(this,Ci).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=_m(t);if(typeof n=="string"){const i=(r=L(this,Ci).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{L(this,Do).forEach(t=>{this.notify({type:"removed",mutation:t})}),L(this,Do).clear(),L(this,Ci).clear()})}getAll(){return Array.from(L(this,Do))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>MI(n,r))}findAll(t={}){return this.getAll().filter(n=>MI(t,n))}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(t.map(n=>n.continue().catch(rr))))}},Do=new WeakMap,Ci=new WeakMap,Yh=new WeakMap,PM);function _m(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Mo,Ys,vr,jo,Yo,pg,Ax,CM,RK=(CM=class extends mf{constructor(n,r){super();we(this,Yo);we(this,Mo);we(this,Ys);we(this,vr);we(this,jo);ue(this,Mo,n),this.setOptions(r),this.bindMethods(),Ne(this,Yo,pg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=L(this,Mo).defaultMutationOptions(n),sv(this.options,r)||L(this,Mo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:L(this,vr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ql(r.mutationKey)!==ql(this.options.mutationKey)?this.reset():((i=L(this,vr))==null?void 0:i.state.status)==="pending"&&L(this,vr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=L(this,vr))==null||n.removeObserver(this)}onMutationUpdate(n){Ne(this,Yo,pg).call(this),Ne(this,Yo,Ax).call(this,n)}getCurrentResult(){return L(this,Ys)}reset(){var n;(n=L(this,vr))==null||n.removeObserver(this),ue(this,vr,void 0),Ne(this,Yo,pg).call(this),Ne(this,Yo,Ax).call(this)}mutate(n,r){var i;return ue(this,jo,r),(i=L(this,vr))==null||i.removeObserver(this),ue(this,vr,L(this,Mo).getMutationCache().build(L(this,Mo),this.options)),L(this,vr).addObserver(this),L(this,vr).execute(n)}},Mo=new WeakMap,Ys=new WeakMap,vr=new WeakMap,jo=new WeakMap,Yo=new WeakSet,pg=function(){var r;const n=((r=L(this,vr))==null?void 0:r.state)??gL();ue(this,Ys,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ax=function(n){cn.batch(()=>{var r,i,o,s,a,l,u,c;if(L(this,jo)&&this.hasListeners()){const f=L(this,Ys).variables,d=L(this,Ys).context,p={client:L(this,Mo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=L(this,jo)).onSuccess)==null||i.call(r,n.data,f,d,p),(s=(o=L(this,jo)).onSettled)==null||s.call(o,n.data,null,f,d,p)):(n==null?void 0:n.type)==="error"&&((l=(a=L(this,jo)).onError)==null||l.call(a,n.error,f,d,p),(c=(u=L(this,jo)).onSettled)==null||c.call(u,void 0,n.error,f,d,p))}this.listeners.forEach(f=>{f(L(this,Ys))})})},CM),so,IM,NK=(IM=class extends mf{constructor(t={}){super();we(this,so);this.config=t,ue(this,so,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??f1(i,n);let s=this.get(o);return s||(s=new AK({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){L(this,so).has(t.queryHash)||(L(this,so).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=L(this,so).get(t.queryHash);n&&(t.destroy(),n===t&&L(this,so).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,so).get(t)}getAll(){return[...L(this,so).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>DI(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>DI(t,r)):n}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},so=new WeakMap,IM),Dt,Zs,Qs,Cc,Ic,Xs,Oc,kc,OM,DK=(OM=class{constructor(e={}){we(this,Dt);we(this,Zs);we(this,Qs);we(this,Cc);we(this,Ic);we(this,Xs);we(this,Oc);we(this,kc);ue(this,Dt,e.queryCache||new NK),ue(this,Zs,e.mutationCache||new kK),ue(this,Qs,e.defaultOptions||{}),ue(this,Cc,new Map),ue(this,Ic,new Map),ue(this,Xs,0)}mount(){tm(this,Xs)._++,L(this,Xs)===1&&(ue(this,Oc,h1.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Dt).onFocus())})),ue(this,kc,av.subscribe(async e=>{e&&(await this.resumePausedMutations(),L(this,Dt).onOnline())})))}unmount(){var e,t;tm(this,Xs)._--,L(this,Xs)===0&&((e=L(this,Oc))==null||e.call(this),ue(this,Oc,void 0),(t=L(this,kc))==null||t.call(this),ue(this,kc,void 0))}isFetching(e){return L(this,Dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,Zs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Dt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=L(this,Dt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ha(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return L(this,Dt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=L(this,Dt).get(r.queryHash),o=i==null?void 0:i.state.data,s=mK(t,o);if(s!==void 0)return L(this,Dt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return cn.batch(()=>L(this,Dt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=L(this,Dt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=L(this,Dt);cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=L(this,Dt);return cn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=cn.batch(()=>L(this,Dt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(rr).catch(rr)}invalidateQueries(e,t={}){return cn.batch(()=>(L(this,Dt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=cn.batch(()=>L(this,Dt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(rr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(rr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=L(this,Dt).build(this,t);return n.isStaleByTime(ha(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rr).catch(rr)}fetchInfiniteQuery(e){return e.behavior=UI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rr).catch(rr)}ensureInfiniteQueryData(e){return e.behavior=UI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return av.isOnline()?L(this,Zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Dt)}getMutationCache(){return L(this,Zs)}getDefaultOptions(){return L(this,Qs)}setDefaultOptions(e){ue(this,Qs,e)}setQueryDefaults(e,t){L(this,Cc).set(ql(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,Cc).values()],n={};return t.forEach(r=>{vh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){L(this,Ic).set(ql(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,Ic).values()],n={};return t.forEach(r=>{vh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...L(this,Qs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=f1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,Qs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,Dt).clear(),L(this,Zs).clear()}},Dt=new WeakMap,Zs=new WeakMap,Qs=new WeakMap,Cc=new WeakMap,Ic=new WeakMap,Xs=new WeakMap,Oc=new WeakMap,kc=new WeakMap,OM),vL=g.createContext(void 0),To=e=>{const t=g.useContext(vL);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MK=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(vL.Provider,{value:e,children:t})),yL=g.createContext(!1),jK=()=>g.useContext(yL);yL.Provider;function LK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $K=g.createContext(LK()),FK=()=>g.useContext($K),VK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},UK=e=>{g.useEffect(()=>{e.clearReset()},[e])},zK=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||cL(n,[e.error,r])),BK=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WK=(e,t)=>e.isLoading&&e.isFetching&&!t,HK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,BI=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function KK(e,t,n){var f,d,p,v,m;const r=jK(),i=FK(),o=To(),s=o.defaultQueryOptions(e);(d=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,s),s._optimisticResults=r?"isRestoring":"optimistic",BK(s),VK(s,i),UK(i);const a=!o.getQueryCache().get(s.queryHash),[l]=g.useState(()=>new t(o,s)),u=l.getOptimisticResult(s),c=!r&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(_=>{const b=c?l.subscribe(cn.batchCalls(_)):rr;return l.updateResult(),b},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),g.useEffect(()=>{l.setOptions(s)},[s,l]),HK(s,u))throw BI(s,l,i);if(zK({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:o.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,s,u),s.experimental_prefetchInRender&&!Kl&&WK(u,r)){const _=a?BI(s,l,i):(m=o.getQueryCache().get(s.queryHash))==null?void 0:m.promise;_==null||_.catch(rr).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?u:l.trackResult(u)}function gf(e,t){return KK(e,TK)}function Ua(e,t){const n=To(),[r]=g.useState(()=>new RK(n,e));g.useEffect(()=>{r.setOptions(e)},[r,e]);const i=g.useSyncExternalStore(g.useCallback(s=>r.subscribe(cn.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=g.useCallback((s,a)=>{r.mutate(s,a).catch(rr)},[r]);if(i.error&&cL(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}var rp=e=>e.type==="checkbox",wl=e=>e instanceof Date,ir=e=>e==null;const wL=e=>typeof e=="object";var tn=e=>!ir(e)&&!Array.isArray(e)&&wL(e)&&!wl(e),qK=e=>tn(e)&&e.target?rp(e.target)?e.target.checked:e.target.value:e,GK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YK=(e,t)=>e.has(GK(t)),ZK=e=>{const t=e.constructor&&e.constructor.prototype;return tn(t)&&t.hasOwnProperty("isPrototypeOf")},m1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(m1&&(e instanceof Blob||r))&&(n||tn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!ZK(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=gn(e[i]));else return e;return t}var Wy=e=>/^\w*$/.test(e),Yt=e=>e===void 0,g1=e=>Array.isArray(e)?e.filter(Boolean):[],v1=e=>g1(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(e,t,n)=>{if(!t||!tn(e))return n;const r=(Wy(t)?[t]:v1(t)).reduce((i,o)=>ir(i)?i:i[o],e);return Yt(r)||r===e?Yt(e[t])?n:e[t]:r},no=e=>typeof e=="boolean",st=(e,t,n)=>{let r=-1;const i=Wy(t)?[t]:v1(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=e[a];l=tn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const WI={BLUR:"blur",FOCUS_OUT:"focusout"},ki={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Io={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QK=ft.createContext(null);QK.displayName="HookFormContext";var XK=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==ki.all&&(t._proxyFormState[s]=!r||ki.all),e[s]}});return i};const JK=typeof window<"u"?ft.useLayoutEffect:ft.useEffect;var Vr=e=>typeof e=="string",e7=(e,t,n,r,i)=>Vr(e)?(r&&t.watch.add(e),ge(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),ge(n,o))):(r&&(t.watchAll=!0),n),Tx=e=>ir(e)||!wL(e);function $s(e,t,n=new WeakSet){if(Tx(e)||Tx(t))return e===t;if(wl(e)&&wl(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const s=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const a=t[o];if(wl(s)&&wl(a)||tn(s)&&tn(a)||Array.isArray(s)&&Array.isArray(a)?!$s(s,a,n):s!==a)return!1}}return!0}var y1=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},zd=e=>Array.isArray(e)?e:[e],HI=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function _L(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&tn(i)&&o){const s=_L(i,o);tn(s)&&(n[r]=s)}else e[r]&&(n[r]=o)}return n}var yr=e=>tn(e)&&!Object.keys(e).length,w1=e=>e.type==="file",Ri=e=>typeof e=="function",lv=e=>{if(!m1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bL=e=>e.type==="select-multiple",_1=e=>e.type==="radio",t7=e=>_1(e)||rp(e),E_=e=>lv(e)&&e.isConnected;function n7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Yt(e)?r++:e[t[r++]];return e}function r7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yt(e[t]))return!1;return!0}function qt(e,t){const n=Array.isArray(t)?t:Wy(t)?[t]:v1(t),r=n.length===1?e:n7(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(tn(r)&&yr(r)||Array.isArray(r)&&r7(r))&&qt(e,n.slice(0,-1)),e}var i7=e=>{for(const t in e)if(Ri(e[t]))return!0;return!1};function xL(e){return Array.isArray(e)||tn(e)&&!i7(e)}function Px(e,t={}){for(const n in e)xL(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Px(e[n],t[n])):ir(e[n])||(t[n]=!0);return t}function ju(e,t,n){n||(n=Px(t));for(const r in e)xL(e[r])?Yt(t)||Tx(n[r])?n[r]=Px(e[r],Array.isArray(e[r])?[]:{}):ju(e[r],ir(t)?{}:t[r],n[r]):n[r]=!$s(e[r],t[r]);return n}const KI={value:!1,isValid:!1},qI={value:!0,isValid:!0};var EL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yt(e[0].attributes.value)?Yt(e[0].value)||e[0].value===""?qI:{value:e[0].value,isValid:!0}:qI:KI}return KI},SL=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Yt(e)?e:t?e===""?NaN:e&&+e:n&&Vr(e)?new Date(e):r?r(e):e;const GI={isValid:!1,value:null};var AL=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,GI):GI;function YI(e){const t=e.ref;return w1(t)?t.files:_1(t)?AL(e.refs).value:bL(t)?[...t.selectedOptions].map(({value:n})=>n):rp(t)?EL(e.refs).value:SL(Yt(t.value)?e.ref.value:t.value,e)}var o7=(e,t,n,r)=>{const i={};for(const o of e){const s=ge(t,o);s&&st(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},uv=e=>e instanceof RegExp,fd=e=>Yt(e)?e:uv(e)?e.source:tn(e)?uv(e.value)?e.value.source:e.value:e,ZI=e=>({isOnSubmit:!e||e===ki.onSubmit,isOnBlur:e===ki.onBlur,isOnChange:e===ki.onChange,isOnAll:e===ki.all,isOnTouch:e===ki.onTouched});const QI="AsyncFunction";var s7=e=>!!e&&!!e.validate&&!!(Ri(e.validate)&&e.validate.constructor.name===QI||tn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===QI)),a7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),XI=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Bd=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=ge(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Bd(a,t))break}else if(tn(a)&&Bd(a,t))break}}};function JI(e,t,n){const r=ge(e,n);if(r||Wy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ge(t,o),a=ge(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};i.pop()}return{name:n}}var l7=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return yr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||ki.all))},u7=(e,t,n)=>!e||!t||e===t||zd(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),c7=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,f7=(e,t)=>!g1(ge(e,t)).length&&qt(e,t),d7=(e,t,n)=>{const r=zd(ge(e,n));return st(r,"root",t[n]),st(e,n,r),e};function eO(e,t,n="validate"){if(Vr(e)||Array.isArray(e)&&e.every(Vr)||no(e)&&!e)return{type:n,message:Vr(e)?e:"",ref:t}}var ku=e=>tn(e)&&!uv(e)?e:{value:e,message:""},tO=async(e,t,n,r,i,o)=>{const{ref:s,refs:a,required:l,maxLength:u,minLength:c,min:f,max:d,pattern:p,validate:v,name:m,valueAsNumber:_,mount:b}=e._f,y=ge(n,m);if(!b||t.has(m))return{};const x=a?a[0]:s,A=D=>{i&&x.reportValidity&&(x.setCustomValidity(no(D)?"":D||""),x.reportValidity())},C={},N=_1(s),S=rp(s),T=N||S,I=(_||w1(s))&&Yt(s.value)&&Yt(y)||lv(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,k=y1.bind(null,m,r,C),O=(D,R,F,B=Io.maxLength,V=Io.minLength)=>{const K=D?R:F;C[m]={type:D?B:V,message:K,ref:s,...k(D?B:V,K)}};if(o?!Array.isArray(y)||!y.length:l&&(!T&&(I||ir(y))||no(y)&&!y||S&&!EL(a).isValid||N&&!AL(a).isValid)){const{value:D,message:R}=Vr(l)?{value:!!l,message:l}:ku(l);if(D&&(C[m]={type:Io.required,message:R,ref:x,...k(Io.required,R)},!r))return A(R),C}if(!I&&(!ir(f)||!ir(d))){let D,R;const F=ku(d),B=ku(f);if(!ir(y)&&!isNaN(y)){const V=s.valueAsNumber||y&&+y;ir(F.value)||(D=V>F.value),ir(B.value)||(R=V<B.value)}else{const V=s.valueAsDate||new Date(y),K=Q=>new Date(new Date().toDateString()+" "+Q),$=s.type=="time",W=s.type=="week";Vr(F.value)&&y&&(D=$?K(y)>K(F.value):W?y>F.value:V>new Date(F.value)),Vr(B.value)&&y&&(R=$?K(y)<K(B.value):W?y<B.value:V<new Date(B.value))}if((D||R)&&(O(!!D,F.message,B.message,Io.max,Io.min),!r))return A(C[m].message),C}if((u||c)&&!I&&(Vr(y)||o&&Array.isArray(y))){const D=ku(u),R=ku(c),F=!ir(D.value)&&y.length>+D.value,B=!ir(R.value)&&y.length<+R.value;if((F||B)&&(O(F,D.message,R.message),!r))return A(C[m].message),C}if(p&&!I&&Vr(y)){const{value:D,message:R}=ku(p);if(uv(D)&&!y.match(D)&&(C[m]={type:Io.pattern,message:R,ref:s,...k(Io.pattern,R)},!r))return A(R),C}if(v){if(Ri(v)){const D=await v(y,n),R=eO(D,x);if(R&&(C[m]={...R,...k(Io.validate,R.message)},!r))return A(R.message),C}else if(tn(v)){let D={};for(const R in v){if(!yr(D)&&!r)break;const F=eO(await v[R](y,n),x,R);F&&(D={...F,...k(R,F.message)},A(F.message),r&&(C[m]=D))}if(!yr(D)&&(C[m]={ref:x,...D},!r))return C}}return A(!0),C};const h7={mode:ki.onSubmit,reValidateMode:ki.onChange,shouldFocusError:!0};function p7(e={}){let t={...h7,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ri(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=tn(t.defaultValues)||tn(t.values)?gn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:gn(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...c};const d={array:HI(),state:HI()},p=t.criteriaMode===ki.all,v=j=>z=>{clearTimeout(u),u=setTimeout(j,z)},m=async j=>{if(!t.disabled&&(c.isValid||f.isValid||j)){const z=t.resolver?yr((await S()).errors):await I(r,!0);z!==n.isValid&&d.state.next({isValid:z})}},_=(j,z)=>{!t.disabled&&(c.isValidating||c.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(a.mount)).forEach(Y=>{Y&&(z?st(n.validatingFields,Y,z):qt(n.validatingFields,Y))}),d.state.next({validatingFields:n.validatingFields,isValidating:!yr(n.validatingFields)}))},b=(j,z=[],Y,ce,se=!0,re=!0)=>{if(ce&&Y&&!t.disabled){if(s.action=!0,re&&Array.isArray(ge(r,j))){const ve=Y(ge(r,j),ce.argA,ce.argB);se&&st(r,j,ve)}if(re&&Array.isArray(ge(n.errors,j))){const ve=Y(ge(n.errors,j),ce.argA,ce.argB);se&&st(n.errors,j,ve),f7(n.errors,j)}if((c.touchedFields||f.touchedFields)&&re&&Array.isArray(ge(n.touchedFields,j))){const ve=Y(ge(n.touchedFields,j),ce.argA,ce.argB);se&&st(n.touchedFields,j,ve)}(c.dirtyFields||f.dirtyFields)&&(n.dirtyFields=ju(i,o)),d.state.next({name:j,isDirty:O(j,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else st(o,j,z)},y=(j,z)=>{st(n.errors,j,z),d.state.next({errors:n.errors})},x=j=>{n.errors=j,d.state.next({errors:n.errors,isValid:!1})},A=(j,z,Y,ce)=>{const se=ge(r,j);if(se){const re=ge(o,j,Yt(Y)?ge(i,j):Y);Yt(re)||ce&&ce.defaultChecked||z?st(o,j,z?re:YI(se._f)):F(j,re),s.mount&&m()}},C=(j,z,Y,ce,se)=>{let re=!1,ve=!1;const Ye={name:j};if(!t.disabled){if(!Y||ce){(c.isDirty||f.isDirty)&&(ve=n.isDirty,n.isDirty=Ye.isDirty=O(),re=ve!==Ye.isDirty);const Je=$s(ge(i,j),z);ve=!!ge(n.dirtyFields,j),Je?qt(n.dirtyFields,j):st(n.dirtyFields,j,!0),Ye.dirtyFields=n.dirtyFields,re=re||(c.dirtyFields||f.dirtyFields)&&ve!==!Je}if(Y){const Je=ge(n.touchedFields,j);Je||(st(n.touchedFields,j,Y),Ye.touchedFields=n.touchedFields,re=re||(c.touchedFields||f.touchedFields)&&Je!==Y)}re&&se&&d.state.next(Ye)}return re?Ye:{}},N=(j,z,Y,ce)=>{const se=ge(n.errors,j),re=(c.isValid||f.isValid)&&no(z)&&n.isValid!==z;if(t.delayError&&Y?(l=v(()=>y(j,Y)),l(t.delayError)):(clearTimeout(u),l=null,Y?st(n.errors,j,Y):qt(n.errors,j)),(Y?!$s(se,Y):se)||!yr(ce)||re){const ve={...ce,...re&&no(z)?{isValid:z}:{},errors:n.errors,name:j};n={...n,...ve},d.state.next(ve)}},S=async j=>{_(j,!0);const z=await t.resolver(o,t.context,o7(j||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return _(j),z},T=async j=>{const{errors:z}=await S(j);if(j)for(const Y of j){const ce=ge(z,Y);ce?st(n.errors,Y,ce):qt(n.errors,Y)}else n.errors=z;return z},I=async(j,z,Y={valid:!0})=>{for(const ce in j){const se=j[ce];if(se){const{_f:re,...ve}=se;if(re){const Ye=a.array.has(re.name),Je=se._f&&s7(se._f);Je&&c.validatingFields&&_([re.name],!0);const hr=await tO(se,a.disabled,o,p,t.shouldUseNativeValidation&&!z,Ye);if(Je&&c.validatingFields&&_([re.name]),hr[re.name]&&(Y.valid=!1,z))break;!z&&(ge(hr,re.name)?Ye?d7(n.errors,hr,re.name):st(n.errors,re.name,hr[re.name]):qt(n.errors,re.name))}!yr(ve)&&await I(ve,z,Y)}}return Y.valid},k=()=>{for(const j of a.unMount){const z=ge(r,j);z&&(z._f.refs?z._f.refs.every(Y=>!E_(Y)):!E_(z._f.ref))&&he(j)}a.unMount=new Set},O=(j,z)=>!t.disabled&&(j&&z&&st(o,j,z),!$s(Q(),i)),D=(j,z,Y)=>e7(j,a,{...s.mount?o:Yt(z)?i:Vr(j)?{[j]:z}:z},Y,z),R=j=>g1(ge(s.mount?o:i,j,t.shouldUnregister?ge(i,j,[]):[])),F=(j,z,Y={})=>{const ce=ge(r,j);let se=z;if(ce){const re=ce._f;re&&(!re.disabled&&st(o,j,SL(z,re)),se=lv(re.ref)&&ir(z)?"":z,bL(re.ref)?[...re.ref.options].forEach(ve=>ve.selected=se.includes(ve.value)):re.refs?rp(re.ref)?re.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(se)?ve.checked=!!se.find(Ye=>Ye===ve.value):ve.checked=se===ve.value||!!se)}):re.refs.forEach(ve=>ve.checked=ve.value===se):w1(re.ref)?re.ref.value="":(re.ref.value=se,re.ref.type||d.state.next({name:j,values:gn(o)})))}(Y.shouldDirty||Y.shouldTouch)&&C(j,se,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&W(j)},B=(j,z,Y)=>{for(const ce in z){if(!z.hasOwnProperty(ce))return;const se=z[ce],re=j+"."+ce,ve=ge(r,re);(a.array.has(j)||tn(se)||ve&&!ve._f)&&!wl(se)?B(re,se,Y):F(re,se,Y)}},V=(j,z,Y={})=>{const ce=ge(r,j),se=a.array.has(j),re=gn(z);st(o,j,re),se?(d.array.next({name:j,values:gn(o)}),(c.isDirty||c.dirtyFields||f.isDirty||f.dirtyFields)&&Y.shouldDirty&&d.state.next({name:j,dirtyFields:ju(i,o),isDirty:O(j,re)})):ce&&!ce._f&&!ir(re)?B(j,re,Y):F(j,re,Y),XI(j,a)&&d.state.next({...n,name:j}),d.state.next({name:s.mount?j:void 0,values:gn(o)})},K=async j=>{s.mount=!0;const z=j.target;let Y=z.name,ce=!0;const se=ge(r,Y),re=Je=>{ce=Number.isNaN(Je)||wl(Je)&&isNaN(Je.getTime())||$s(Je,ge(o,Y,Je))},ve=ZI(t.mode),Ye=ZI(t.reValidateMode);if(se){let Je,hr;const Tu=z.type?YI(se._f):qK(j),Ei=j.type===WI.BLUR||j.type===WI.FOCUS_OUT,Bp=!a7(se._f)&&!t.resolver&&!ge(n.errors,Y)&&!se._f.deps||c7(Ei,ge(n.touchedFields,Y),n.isSubmitted,Ye,ve),Co=XI(Y,a,Ei);st(o,Y,Tu),Ei?(!z||!z.readOnly)&&(se._f.onBlur&&se._f.onBlur(j),l&&l(0)):se._f.onChange&&se._f.onChange(j);const nl=C(Y,Tu,Ei),Uf=!yr(nl)||Co;if(!Ei&&d.state.next({name:Y,type:j.type,values:gn(o)}),Bp)return(c.isValid||f.isValid)&&(t.mode==="onBlur"?Ei&&m():Ei||m()),Uf&&d.state.next({name:Y,...Co?{}:nl});if(!Ei&&Co&&d.state.next({...n}),t.resolver){const{errors:Qi}=await S([Y]);if(re(Tu),ce){const Wp=JI(n.errors,r,Y),rl=JI(Qi,r,Wp.name||Y);Je=rl.error,Y=rl.name,hr=yr(Qi)}}else _([Y],!0),Je=(await tO(se,a.disabled,o,p,t.shouldUseNativeValidation))[Y],_([Y]),re(Tu),ce&&(Je?hr=!1:(c.isValid||f.isValid)&&(hr=await I(r,!0)));ce&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&W(se._f.deps),N(Y,hr,Je,nl))}},$=(j,z)=>{if(ge(n.errors,z)&&j.focus)return j.focus(),1},W=async(j,z={})=>{let Y,ce;const se=zd(j);if(t.resolver){const re=await T(Yt(j)?j:se);Y=yr(re),ce=j?!se.some(ve=>ge(re,ve)):Y}else j?(ce=(await Promise.all(se.map(async re=>{const ve=ge(r,re);return await I(ve&&ve._f?{[re]:ve}:ve)}))).every(Boolean),!(!ce&&!n.isValid)&&m()):ce=Y=await I(r);return d.state.next({...!Vr(j)||(c.isValid||f.isValid)&&Y!==n.isValid?{}:{name:j},...t.resolver||!j?{isValid:Y}:{},errors:n.errors}),z.shouldFocus&&!ce&&Bd(r,$,j?se:a.mount),ce},Q=(j,z)=>{let Y={...s.mount?o:i};return z&&(Y=_L(z.dirtyFields?n.dirtyFields:n.touchedFields,Y)),Yt(j)?Y:Vr(j)?ge(Y,j):j.map(ce=>ge(Y,ce))},fe=(j,z)=>({invalid:!!ge((z||n).errors,j),isDirty:!!ge((z||n).dirtyFields,j),error:ge((z||n).errors,j),isValidating:!!ge(n.validatingFields,j),isTouched:!!ge((z||n).touchedFields,j)}),ne=j=>{j&&zd(j).forEach(z=>qt(n.errors,z)),d.state.next({errors:j?n.errors:{}})},De=(j,z,Y)=>{const ce=(ge(r,j,{_f:{}})._f||{}).ref,se=ge(n.errors,j)||{},{ref:re,message:ve,type:Ye,...Je}=se;st(n.errors,j,{...Je,...z,ref:ce}),d.state.next({name:j,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&ce&&ce.focus&&ce.focus()},Ce=(j,z)=>Ri(j)?d.state.subscribe({next:Y=>"values"in Y&&j(D(void 0,z),Y)}):D(j,z,!0),Ie=j=>d.state.subscribe({next:z=>{u7(j.name,z.name,j.exact)&&l7(z,j.formState||c,sn,j.reRenderRoot)&&j.callback({values:{...o},...n,...z,defaultValues:i})}}).unsubscribe,Xe=j=>(s.mount=!0,f={...f,...j.formState},Ie({...j,formState:f})),he=(j,z={})=>{for(const Y of j?zd(j):a.mount)a.mount.delete(Y),a.array.delete(Y),z.keepValue||(qt(r,Y),qt(o,Y)),!z.keepError&&qt(n.errors,Y),!z.keepDirty&&qt(n.dirtyFields,Y),!z.keepTouched&&qt(n.touchedFields,Y),!z.keepIsValidating&&qt(n.validatingFields,Y),!t.shouldUnregister&&!z.keepDefaultValue&&qt(i,Y);d.state.next({values:gn(o)}),d.state.next({...n,...z.keepDirty?{isDirty:O()}:{}}),!z.keepIsValid&&m()},ke=({disabled:j,name:z})=>{(no(j)&&s.mount||j||a.disabled.has(z))&&(j?a.disabled.add(z):a.disabled.delete(z))},ee=(j,z={})=>{let Y=ge(r,j);const ce=no(z.disabled)||no(t.disabled);return st(r,j,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:j}},name:j,mount:!0,...z}}),a.mount.add(j),Y?ke({disabled:no(z.disabled)?z.disabled:t.disabled,name:j}):A(j,!0,z.value),{...ce?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:fd(z.min),max:fd(z.max),minLength:fd(z.minLength),maxLength:fd(z.maxLength),pattern:fd(z.pattern)}:{},name:j,onChange:K,onBlur:K,ref:se=>{if(se){ee(j,z),Y=ge(r,j);const re=Yt(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,ve=t7(re),Ye=Y._f.refs||[];if(ve?Ye.find(Je=>Je===re):re===Y._f.ref)return;st(r,j,{_f:{...Y._f,...ve?{refs:[...Ye.filter(E_),re,...Array.isArray(ge(i,j))?[{}]:[]],ref:{type:re.type,name:j}}:{ref:re}}}),A(j,!1,void 0,re)}else Y=ge(r,j,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(YK(a.array,j)&&s.action)&&a.unMount.add(j)}}},ie=()=>t.shouldFocusError&&Bd(r,$,a.mount),le=j=>{no(j)&&(d.state.next({disabled:j}),Bd(r,(z,Y)=>{const ce=ge(r,Y);ce&&(z.disabled=ce._f.disabled||j,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(se=>{se.disabled=ce._f.disabled||j}))},0,!1))},G=(j,z)=>async Y=>{let ce;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let se=gn(o);if(d.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:ve}=await S();n.errors=re,se=gn(ve)}else await I(r);if(a.disabled.size)for(const re of a.disabled)qt(se,re);if(qt(n.errors,"root"),yr(n.errors)){d.state.next({errors:{}});try{await j(se,Y)}catch(re){ce=re}}else z&&await z({...n.errors},Y),ie(),setTimeout(ie);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yr(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},Me=(j,z={})=>{ge(r,j)&&(Yt(z.defaultValue)?V(j,gn(ge(i,j))):(V(j,z.defaultValue),st(i,j,gn(z.defaultValue))),z.keepTouched||qt(n.touchedFields,j),z.keepDirty||(qt(n.dirtyFields,j),n.isDirty=z.defaultValue?O(j,gn(ge(i,j))):O()),z.keepError||(qt(n.errors,j),c.isValid&&m()),d.state.next({...n}))},Oe=(j,z={})=>{const Y=j?gn(j):i,ce=gn(Y),se=yr(j),re=se?i:ce;if(z.keepDefaultValues||(i=Y),!z.keepValues){if(z.keepDirtyValues){const ve=new Set([...a.mount,...Object.keys(ju(i,o))]);for(const Ye of Array.from(ve))ge(n.dirtyFields,Ye)?st(re,Ye,ge(o,Ye)):V(Ye,ge(re,Ye))}else{if(m1&&Yt(j))for(const ve of a.mount){const Ye=ge(r,ve);if(Ye&&Ye._f){const Je=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(lv(Je)){const hr=Je.closest("form");if(hr){hr.reset();break}}}}if(z.keepFieldsRef)for(const ve of a.mount)V(ve,ge(re,ve));else r={}}o=t.shouldUnregister?z.keepDefaultValues?gn(i):{}:gn(re),d.array.next({values:{...re}}),d.state.next({values:{...re}})}a={mount:z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!z.keepIsValid||!!z.keepDirtyValues,s.watch=!!t.shouldUnregister,d.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:se?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!$s(j,i)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:z.keepDirtyValues?z.keepDefaultValues&&o?ju(i,o):n.dirtyFields:z.keepDefaultValues&&j?ju(i,j):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_t=(j,z)=>Oe(Ri(j)?j(o):j,z),pt=(j,z={})=>{const Y=ge(r,j),ce=Y&&Y._f;if(ce){const se=ce.refs?ce.refs[0]:ce.ref;se.focus&&(se.focus(),z.shouldSelect&&Ri(se.select)&&se.select())}},sn=j=>{n={...n,...j}},bt={control:{register:ee,unregister:he,getFieldState:fe,handleSubmit:G,setError:De,_subscribe:Ie,_runSchema:S,_focusError:ie,_getWatch:D,_getDirty:O,_setValid:m,_setFieldArray:b,_setDisabledField:ke,_setErrors:x,_getFieldArray:R,_reset:Oe,_resetDefaultValues:()=>Ri(t.defaultValues)&&t.defaultValues().then(j=>{_t(j,t.resetOptions),d.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:le,_subjects:d,_proxyFormState:c,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(j){s=j},get _defaultValues(){return i},get _names(){return a},set _names(j){a=j},get _formState(){return n},get _options(){return t},set _options(j){t={...t,...j}}},subscribe:Xe,trigger:W,register:ee,handleSubmit:G,watch:Ce,setValue:V,getValues:Q,reset:_t,resetField:Me,clearErrors:ne,unregister:he,setError:De,setFocus:pt,getFieldState:fe};return{...bt,formControl:bt}}function b1(e={}){const t=ft.useRef(void 0),n=ft.useRef(void 0),[r,i]=ft.useState({isDirty:!1,isValidating:!1,isLoading:Ri(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ri(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ri(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...a}=p7(e);t.current={...a,formState:r}}const o=t.current.control;return o._options=e,JK(()=>{const s=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),o._formState.isReady=!0,s},[o]),ft.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ft.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),ft.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),ft.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),ft.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ft.useEffect(()=>{e.values&&!$s(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[o,e.values]),ft.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=XK(r,o),t.current}const nO=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ge(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Cx=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?nO(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>nO(i,n,e))}},rO=(e,t)=>{t.shouldUseNativeValidation&&Cx(e,t);const n={};for(const r in e){const i=ge(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(m7(t.names||Object.keys(e),r)){const s=Object.assign({},ge(n,r));st(s,"root",o),st(n,r,s)}else st(n,r,o)}return n},m7=(e,t)=>{const n=iO(t);return e.some(r=>iO(r).match(`^${n}\\.\\d+`))};function iO(e){return e.replace(/\]|\[/g,"")}function X(e,t,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in s.prototype)c in a||Object.defineProperty(a,c,{value:s.prototype[c].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const u=n!=null&&n.Parent?new o:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class cc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class TL extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const PL={};function Gl(e){return PL}function g7(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Ix(e,t){return typeof t=="bigint"?t.toString():t}function x1(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function E1(e){return e==null}function S1(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function v7(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(i=Number.parseInt(l[1]))}const o=n>i?n:i,s=Number.parseInt(e.toFixed(o).replace(".","")),a=Number.parseInt(t.toFixed(o).replace(".",""));return s%a/10**o}const oO=Symbol("evaluating");function ht(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==oO)return r===void 0&&(r=oO,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function vu(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yu(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function sO(e){return JSON.stringify(e)}const CL="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function cv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const y7=x1(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function yh(e){if(cv(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(cv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function IL(e){return yh(e)?{...e}:Array.isArray(e)?[...e]:e}const w7=new Set(["string","number","symbol"]);function Hy(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function za(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function xe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function _7(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const b7={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function x7(e,t){const n=e._zod.def,r=yu(e._zod.def,{get shape(){const i={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(i[o]=n.shape[o])}return vu(this,"shape",i),i},checks:[]});return za(e,r)}function E7(e,t){const n=e._zod.def,r=yu(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete i[o]}return vu(this,"shape",i),i},checks:[]});return za(e,r)}function S7(e,t){if(!yh(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=yu(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return vu(this,"shape",o),o},checks:[]});return za(e,i)}function A7(e,t){if(!yh(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return vu(this,"shape",r),r},checks:e._zod.def.checks};return za(e,n)}function T7(e,t){const n=yu(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return vu(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return za(e,n)}function P7(e,t,n){const r=yu(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=e?new e({type:"optional",innerType:i[s]}):i[s])}else for(const s in i)o[s]=e?new e({type:"optional",innerType:i[s]}):i[s];return vu(this,"shape",o),o},checks:[]});return za(t,r)}function C7(e,t,n){const r=yu(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)o[s]=new e({type:"nonoptional",innerType:i[s]});return vu(this,"shape",o),o},checks:[]});return za(t,r)}function Ju(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function OL(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function bm(e){return typeof e=="string"?e:e==null?void 0:e.message}function Yl(e,t,n){var i,o,s,a,l,u;const r={...e,path:e.path??[]};if(!e.message){const c=bm((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??bm((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??bm((l=n.customError)==null?void 0:l.call(n,e))??bm((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=c}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function A1(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function wh(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const kL=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ix,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},T1=X("$ZodError",kL),Ky=X("$ZodError",kL,{Parent:Error});function I7(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function O7(e,t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),r}const qy=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new cc;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Yl(l,o,Gl())));throw CL(a,i==null?void 0:i.callee),a}return s.value},k7=qy(Ky),Gy=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Yl(l,o,Gl())));throw CL(a,i==null?void 0:i.callee),a}return s.value},R7=Gy(Ky),Yy=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new cc;return o.issues.length?{success:!1,error:new(e??T1)(o.issues.map(s=>Yl(s,i,Gl())))}:{success:!0,data:o.value}},N7=Yy(Ky),Zy=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Yl(s,i,Gl())))}:{success:!0,data:o.value}},D7=Zy(Ky),M7=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qy(e)(t,n,i)},j7=e=>(t,n,r)=>qy(e)(t,n,r),L7=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gy(e)(t,n,i)},$7=e=>async(t,n,r)=>Gy(e)(t,n,r),F7=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Yy(e)(t,n,i)},V7=e=>(t,n,r)=>Yy(e)(t,n,r),U7=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Zy(e)(t,n,i)},z7=e=>async(t,n,r)=>Zy(e)(t,n,r),B7=/^[cC][^\s-]{8,}$/,W7=/^[0-9a-z]+$/,H7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,K7=/^[0-9a-vA-V]{20}$/,q7=/^[A-Za-z0-9]{27}$/,G7=/^[a-zA-Z0-9_-]{21}$/,Y7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Z7=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,aO=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Q7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,X7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function J7(){return new RegExp(X7,"u")}const eq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,nq=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,rq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iq=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,RL=/^[A-Za-z0-9_-]*$/,oq=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,sq=/^\+(?:[0-9]){6,14}[0-9]$/,NL="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",aq=new RegExp(`^${NL}$`);function DL(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lq(e){return new RegExp(`^${DL(e)}$`)}function uq(e){const t=DL({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${NL}T(?:${r})$`)}const cq=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},fq=/^-?\d+$/,dq=/^-?\d+(?:\.\d+)?/,hq=/^[^A-Z]*$/,pq=/^[^a-z]*$/,Ir=X("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),ML={number:"number",bigint:"bigint",object:"date"},jL=X("$ZodCheckLessThan",(e,t)=>{Ir.init(e,t);const n=ML[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),LL=X("$ZodCheckGreaterThan",(e,t)=>{Ir.init(e,t);const n=ML[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),mq=X("$ZodCheckMultipleOf",(e,t)=>{Ir.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):v7(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),gq=X("$ZodCheckNumberFormat",(e,t)=>{var s;Ir.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[i,o]=b7[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=i,l.maximum=o,n&&(l.pattern=fq)}),e._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),vq=X("$ZodCheckMaxLength",(e,t)=>{var n;Ir.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!E1(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=A1(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),yq=X("$ZodCheckMinLength",(e,t)=>{var n;Ir.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!E1(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=A1(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),wq=X("$ZodCheckLengthEquals",(e,t)=>{var n;Ir.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!E1(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,o=i.length;if(o===t.length)return;const s=A1(i),a=o>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Qy=X("$ZodCheckStringFormat",(e,t)=>{var n,r;Ir.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),_q=X("$ZodCheckRegex",(e,t)=>{Qy.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),bq=X("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=hq),Qy.init(e,t)}),xq=X("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=pq),Qy.init(e,t)}),Eq=X("$ZodCheckIncludes",(e,t)=>{Ir.init(e,t);const n=Hy(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Sq=X("$ZodCheckStartsWith",(e,t)=>{Ir.init(e,t);const n=new RegExp(`^${Hy(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Aq=X("$ZodCheckEndsWith",(e,t)=>{Ir.init(e,t);const n=new RegExp(`.*${Hy(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Tq=X("$ZodCheckOverwrite",(e,t)=>{Ir.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Pq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const Cq={major:4,minor:1,patch:11},Ht=X("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Cq;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(a,l,u)=>{let c=Ju(a),f;for(const d of l){if(d._zod.def.when){if(!d._zod.def.when(a))continue}else if(c)continue;const p=a.issues.length,v=d._zod.check(a);if(v instanceof Promise&&(u==null?void 0:u.async)===!1)throw new cc;if(f||v instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await v,a.issues.length!==p&&(c||(c=Ju(a,p)))});else{if(a.issues.length===p)continue;c||(c=Ju(a,p))}}return f?f.then(()=>a):a},s=(a,l,u)=>{if(Ju(a))return a.aborted=!0,a;const c=o(l,r,u);if(c instanceof Promise){if(u.async===!1)throw new cc;return c.then(f=>e._zod.parse(f,u))}return e._zod.parse(c,u)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const c=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return c instanceof Promise?c.then(f=>s(f,a,l)):s(c,a,l)}const u=e._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new cc;return u.then(c=>o(c,r,l))}return o(u,r,l)}}e["~standard"]={validate:o=>{var s;try{const a=N7(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return D7(e,o).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),P1=X("$ZodString",(e,t)=>{var n;Ht.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??cq(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Tt=X("$ZodStringFormat",(e,t)=>{Qy.init(e,t),P1.init(e,t)}),Iq=X("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Z7),Tt.init(e,t)}),Oq=X("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=aO(r))}else t.pattern??(t.pattern=aO());Tt.init(e,t)}),kq=X("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Q7),Tt.init(e,t)}),Rq=X("$ZodURL",(e,t)=>{Tt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:oq.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Nq=X("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=J7()),Tt.init(e,t)}),Dq=X("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=G7),Tt.init(e,t)}),Mq=X("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=B7),Tt.init(e,t)}),jq=X("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=W7),Tt.init(e,t)}),Lq=X("$ZodULID",(e,t)=>{t.pattern??(t.pattern=H7),Tt.init(e,t)}),$q=X("$ZodXID",(e,t)=>{t.pattern??(t.pattern=K7),Tt.init(e,t)}),Fq=X("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=q7),Tt.init(e,t)}),Vq=X("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=uq(t)),Tt.init(e,t)}),Uq=X("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=aq),Tt.init(e,t)}),zq=X("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=lq(t)),Tt.init(e,t)}),Bq=X("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Y7),Tt.init(e,t)}),Wq=X("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=eq),Tt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Hq=X("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=tq),Tt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Kq=X("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=nq),Tt.init(e,t)}),qq=X("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=rq),Tt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,o]=r;if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $L(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Gq=X("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=iq),Tt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{$L(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Yq(e){if(!RL.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $L(n)}const Zq=X("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=RL),Tt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Yq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Qq=X("$ZodE164",(e,t)=>{t.pattern??(t.pattern=sq),Tt.init(e,t)});function Xq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Jq=X("$ZodJWT",(e,t)=>{Tt.init(e,t),e._zod.check=n=>{Xq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),FL=X("$ZodNumber",(e,t)=>{Ht.init(e,t),e._zod.pattern=e._zod.bag.pattern??dq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),eG=X("$ZodNumber",(e,t)=>{gq.init(e,t),FL.init(e,t)}),tG=X("$ZodUnknown",(e,t)=>{Ht.init(e,t),e._zod.parse=n=>n}),nG=X("$ZodNever",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),rG=X("$ZodDate",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function lO(e,t,n){e.issues.length&&t.issues.push(...OL(n,e.issues)),t.value[n]=e.value}const iG=X("$ZodArray",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(u=>lO(u,n,s))):lO(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function fv(e,t,n,r){e.issues.length&&t.issues.push(...OL(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function VL(e){var r,i,o,s;const t=Object.keys(e.shape);for(const a of t)if(!((s=(o=(i=(r=e.shape)==null?void 0:r[a])==null?void 0:i._zod)==null?void 0:o.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=_7(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function UL(e,t,n,r,i,o){const s=[],a=i.keySet,l=i.catchall._zod,u=l.def.type;for(const c of Object.keys(t)){if(a.has(c))continue;if(u==="never"){s.push(c);continue}const f=l.run({value:t[c],issues:[]},r);f instanceof Promise?e.push(f.then(d=>fv(d,n,c,t))):fv(f,n,c,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const oG=X("$ZodObject",(e,t)=>{Ht.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...a};return Object.defineProperty(t,"shape",{value:l}),l}})}const r=x1(()=>VL(t));ht(e._zod,"propValues",()=>{const a=t.shape,l={};for(const u in a){const c=a[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(const f of c.values)l[u].add(f)}}return l});const i=cv,o=t.catchall;let s;e._zod.parse=(a,l)=>{s??(s=r.value);const u=a.value;if(!i(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};const c=[],f=s.shape;for(const d of s.keys){const v=f[d]._zod.run({value:u[d],issues:[]},l);v instanceof Promise?c.push(v.then(m=>fv(m,a,d,u))):fv(v,a,d,u)}return o?UL(c,u,a,l,r.value,e):c.length?Promise.all(c).then(()=>a):a}}),sG=X("$ZodObjectJIT",(e,t)=>{oG.init(e,t);const n=e._zod.parse,r=x1(()=>VL(t)),i=d=>{const p=new Pq(["shape","payload","ctx"]),v=r.value,m=x=>{const A=sO(x);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};p.write("const input = payload.value;");const _=Object.create(null);let b=0;for(const x of v.keys)_[x]=`key_${b++}`;p.write("const newResult = {};");for(const x of v.keys){const A=_[x],C=sO(x);p.write(`const ${A} = ${m(x)};`),p.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        
        if (${A}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${A}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const y=p.compile();return(x,A)=>y(d,x,A)};let o;const s=cv,a=!PL.jitless,u=a&&y7.value,c=t.catchall;let f;e._zod.parse=(d,p)=>{f??(f=r.value);const v=d.value;return s(v)?a&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(o||(o=i(t.shape)),d=o(d,p),c?UL([],v,d,p,f,e):d):n(d,p):(d.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),d)}});function uO(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!Ju(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(s=>Yl(s,r,Gl())))}),t)}const aG=X("$ZodUnion",(e,t)=>{Ht.init(e,t),ht(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ht(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ht(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),ht(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>S1(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const l of t.options){const u=l._zod.run({value:i.value,issues:[]},o);if(u instanceof Promise)a.push(u),s=!0;else{if(u.issues.length===0)return u;a.push(u)}}return s?Promise.all(a).then(l=>uO(l,i,e,o)):uO(a,i,e,o)}}),lG=X("$ZodIntersection",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,o=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>cO(n,l,u)):cO(n,o,s)}});function Ox(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(yh(e)&&yh(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),i={...e,...t};for(const o of r){const s=Ox(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=t[r],s=Ox(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function cO(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ju(e))return e;const r=Ox(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const uG=X("$ZodEnum",(e,t)=>{Ht.init(e,t);const n=g7(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>w7.has(typeof i)).map(i=>typeof i=="string"?Hy(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{const s=i.value;return r.has(s)||i.issues.push({code:"invalid_value",values:n,input:s,inst:e}),i}}),cG=X("$ZodTransform",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new TL(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new cc;return n.value=i,n}});function fO(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const fG=X("$ZodOptional",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ht(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ht(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${S1(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>fO(o,n.value)):fO(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),dG=X("$ZodNullable",(e,t)=>{Ht.init(e,t),ht(e._zod,"optin",()=>t.innerType._zod.optin),ht(e._zod,"optout",()=>t.innerType._zod.optout),ht(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${S1(n.source)}|null)$`):void 0}),ht(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),hG=X("$ZodDefault",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",ht(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>dO(o,t)):dO(i,t)}});function dO(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const pG=X("$ZodPrefault",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",ht(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),mG=X("$ZodNonOptional",(e,t)=>{Ht.init(e,t),ht(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>hO(o,e)):hO(i,e)}});function hO(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const gG=X("$ZodCatch",(e,t)=>{Ht.init(e,t),ht(e._zod,"optin",()=>t.innerType._zod.optin),ht(e._zod,"optout",()=>t.innerType._zod.optout),ht(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Yl(s,r,Gl()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>Yl(o,r,Gl()))},input:n.value}),n.issues=[]),n)}}),vG=X("$ZodPipe",(e,t)=>{Ht.init(e,t),ht(e._zod,"values",()=>t.in._zod.values),ht(e._zod,"optin",()=>t.in._zod.optin),ht(e._zod,"optout",()=>t.out._zod.optout),ht(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(s=>xm(s,t.in,r)):xm(o,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>xm(o,t.out,r)):xm(i,t.out,r)}});function xm(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const yG=X("$ZodReadonly",(e,t)=>{Ht.init(e,t),ht(e._zod,"propValues",()=>t.innerType._zod.propValues),ht(e._zod,"values",()=>t.innerType._zod.values),ht(e._zod,"optin",()=>t.innerType._zod.optin),ht(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(pO):pO(i)}});function pO(e){return e.value=Object.freeze(e.value),e}const wG=X("$ZodCustom",(e,t)=>{Ir.init(e,t),Ht.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>mO(o,n,r,e));mO(i,n,r,e)}});function mO(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(wh(i))}}class _G{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function bG(){return new _G}const Em=bG();function xG(e,t){return new e({type:"string",...xe(t)})}function EG(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xe(t)})}function gO(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xe(t)})}function SG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xe(t)})}function AG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xe(t)})}function TG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xe(t)})}function PG(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xe(t)})}function CG(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xe(t)})}function IG(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xe(t)})}function OG(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xe(t)})}function kG(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xe(t)})}function RG(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xe(t)})}function NG(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xe(t)})}function DG(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xe(t)})}function MG(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xe(t)})}function jG(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xe(t)})}function LG(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xe(t)})}function $G(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xe(t)})}function FG(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xe(t)})}function VG(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xe(t)})}function UG(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xe(t)})}function zG(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xe(t)})}function BG(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xe(t)})}function WG(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xe(t)})}function HG(e,t){return new e({type:"string",format:"date",check:"string_format",...xe(t)})}function KG(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xe(t)})}function qG(e,t){return new e({type:"string",format:"duration",check:"string_format",...xe(t)})}function GG(e,t){return new e({type:"number",coerce:!0,checks:[],...xe(t)})}function YG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xe(t)})}function ZG(e){return new e({type:"unknown"})}function QG(e,t){return new e({type:"never",...xe(t)})}function XG(e,t){return new e({type:"date",...xe(t)})}function vO(e,t){return new jL({check:"less_than",...xe(t),value:e,inclusive:!1})}function mg(e,t){return new jL({check:"less_than",...xe(t),value:e,inclusive:!0})}function yO(e,t){return new LL({check:"greater_than",...xe(t),value:e,inclusive:!1})}function gg(e,t){return new LL({check:"greater_than",...xe(t),value:e,inclusive:!0})}function wO(e,t){return new mq({check:"multiple_of",...xe(t),value:e})}function zL(e,t){return new vq({check:"max_length",...xe(t),maximum:e})}function dv(e,t){return new yq({check:"min_length",...xe(t),minimum:e})}function BL(e,t){return new wq({check:"length_equals",...xe(t),length:e})}function JG(e,t){return new _q({check:"string_format",format:"regex",...xe(t),pattern:e})}function eY(e){return new bq({check:"string_format",format:"lowercase",...xe(e)})}function tY(e){return new xq({check:"string_format",format:"uppercase",...xe(e)})}function nY(e,t){return new Eq({check:"string_format",format:"includes",...xe(t),includes:e})}function rY(e,t){return new Sq({check:"string_format",format:"starts_with",...xe(t),prefix:e})}function iY(e,t){return new Aq({check:"string_format",format:"ends_with",...xe(t),suffix:e})}function ip(e){return new Tq({check:"overwrite",tx:e})}function oY(e){return ip(t=>t.normalize(e))}function sY(){return ip(e=>e.trim())}function aY(){return ip(e=>e.toLowerCase())}function lY(){return ip(e=>e.toUpperCase())}function uY(e,t,n){return new e({type:"array",element:t,...xe(n)})}function cY(e,t,n){return new e({type:"custom",check:"custom",fn:t,...xe(n)})}function fY(e){const t=dY(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(wh(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(wh(i))}},e(n.value,n)));return t}function dY(e,t){const n=new Ir({check:"custom",...xe(t)});return n._zod.check=e,n}function _O(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function hY(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(f){return e.push(f)})}),t){var l=n[s].types,u=l&&l[r.code];n[s]=y1(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function pY(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if(r.code==="invalid_union"&&r.errors.length>0){var a=r.errors[0][0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(c){return c.forEach(function(f){return e.push(f)})}),t){var l=n[s].types,u=l&&l[r.code];n[s]=y1(s,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function C1(e,t,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(e))return function(r,i,o){try{return Promise.resolve(_O(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(s){return o.shouldUseNativeValidation&&Cx({},o),{errors:{},values:n.raw?Object.assign({},r):s}})},function(s){if(function(a){return Array.isArray(a==null?void 0:a.issues)}(s))return{values:{},errors:rO(hY(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(e))return function(r,i,o){try{return Promise.resolve(_O(function(){return Promise.resolve((n.mode==="sync"?k7:R7)(e,r,t)).then(function(s){return o.shouldUseNativeValidation&&Cx({},o),{errors:{},values:n.raw?Object.assign({},r):s}})},function(s){if(function(a){return a instanceof T1}(s))return{values:{},errors:rO(pY(s.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}const mY=X("ZodISODateTime",(e,t)=>{Vq.init(e,t),Rt.init(e,t)});function gY(e){return WG(mY,e)}const vY=X("ZodISODate",(e,t)=>{Uq.init(e,t),Rt.init(e,t)});function yY(e){return HG(vY,e)}const wY=X("ZodISOTime",(e,t)=>{zq.init(e,t),Rt.init(e,t)});function _Y(e){return KG(wY,e)}const bY=X("ZodISODuration",(e,t)=>{Bq.init(e,t),Rt.init(e,t)});function xY(e){return qG(bY,e)}const EY=(e,t)=>{T1.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>O7(e,n)},flatten:{value:n=>I7(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ix,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ix,2)}},isEmpty:{get(){return e.issues.length===0}}})},_i=X("ZodError",EY,{Parent:Error}),SY=qy(_i),AY=Gy(_i),TY=Yy(_i),PY=Zy(_i),CY=M7(_i),IY=j7(_i),OY=L7(_i),kY=$7(_i),RY=F7(_i),NY=V7(_i),DY=U7(_i),MY=z7(_i),rn=X("ZodType",(e,t)=>(Ht.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(yu(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>za(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>SY(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>TY(e,n,r),e.parseAsync=async(n,r)=>AY(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>PY(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>CY(e,n,r),e.decode=(n,r)=>IY(e,n,r),e.encodeAsync=async(n,r)=>OY(e,n,r),e.decodeAsync=async(n,r)=>kY(e,n,r),e.safeEncode=(n,r)=>RY(e,n,r),e.safeDecode=(n,r)=>NY(e,n,r),e.safeEncodeAsync=async(n,r)=>DY(e,n,r),e.safeDecodeAsync=async(n,r)=>MY(e,n,r),e.refine=(n,r)=>e.check(AZ(n,r)),e.superRefine=n=>e.check(TZ(n)),e.overwrite=n=>e.check(ip(n)),e.optional=()=>SO(e),e.nullable=()=>AO(e),e.nullish=()=>SO(AO(e)),e.nonoptional=n=>yZ(e,n),e.array=()=>I1(e),e.or=n=>lZ([e,n]),e.and=n=>cZ(e,n),e.transform=n=>TO(e,dZ(n)),e.default=n=>mZ(e,n),e.prefault=n=>vZ(e,n),e.catch=n=>_Z(e,n),e.pipe=n=>TO(e,n),e.readonly=()=>EZ(e),e.describe=n=>{const r=e.clone();return Em.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Em.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Em.get(e);const r=e.clone();return Em.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),WL=X("_ZodString",(e,t)=>{P1.init(e,t),rn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(JG(...r)),e.includes=(...r)=>e.check(nY(...r)),e.startsWith=(...r)=>e.check(rY(...r)),e.endsWith=(...r)=>e.check(iY(...r)),e.min=(...r)=>e.check(dv(...r)),e.max=(...r)=>e.check(zL(...r)),e.length=(...r)=>e.check(BL(...r)),e.nonempty=(...r)=>e.check(dv(1,...r)),e.lowercase=r=>e.check(eY(r)),e.uppercase=r=>e.check(tY(r)),e.trim=()=>e.check(sY()),e.normalize=(...r)=>e.check(oY(...r)),e.toLowerCase=()=>e.check(aY()),e.toUpperCase=()=>e.check(lY())}),jY=X("ZodString",(e,t)=>{P1.init(e,t),WL.init(e,t),e.email=n=>e.check(EG(LY,n)),e.url=n=>e.check(CG($Y,n)),e.jwt=n=>e.check(BG(JY,n)),e.emoji=n=>e.check(IG(FY,n)),e.guid=n=>e.check(gO(bO,n)),e.uuid=n=>e.check(SG(Sm,n)),e.uuidv4=n=>e.check(AG(Sm,n)),e.uuidv6=n=>e.check(TG(Sm,n)),e.uuidv7=n=>e.check(PG(Sm,n)),e.nanoid=n=>e.check(OG(VY,n)),e.guid=n=>e.check(gO(bO,n)),e.cuid=n=>e.check(kG(UY,n)),e.cuid2=n=>e.check(RG(zY,n)),e.ulid=n=>e.check(NG(BY,n)),e.base64=n=>e.check(VG(ZY,n)),e.base64url=n=>e.check(UG(QY,n)),e.xid=n=>e.check(DG(WY,n)),e.ksuid=n=>e.check(MG(HY,n)),e.ipv4=n=>e.check(jG(KY,n)),e.ipv6=n=>e.check(LG(qY,n)),e.cidrv4=n=>e.check($G(GY,n)),e.cidrv6=n=>e.check(FG(YY,n)),e.e164=n=>e.check(zG(XY,n)),e.datetime=n=>e.check(gY(n)),e.date=n=>e.check(yY(n)),e.time=n=>e.check(_Y(n)),e.duration=n=>e.check(xY(n))});function at(e){return xG(jY,e)}const Rt=X("ZodStringFormat",(e,t)=>{Tt.init(e,t),WL.init(e,t)}),LY=X("ZodEmail",(e,t)=>{kq.init(e,t),Rt.init(e,t)}),bO=X("ZodGUID",(e,t)=>{Iq.init(e,t),Rt.init(e,t)}),Sm=X("ZodUUID",(e,t)=>{Oq.init(e,t),Rt.init(e,t)}),$Y=X("ZodURL",(e,t)=>{Rq.init(e,t),Rt.init(e,t)}),FY=X("ZodEmoji",(e,t)=>{Nq.init(e,t),Rt.init(e,t)}),VY=X("ZodNanoID",(e,t)=>{Dq.init(e,t),Rt.init(e,t)}),UY=X("ZodCUID",(e,t)=>{Mq.init(e,t),Rt.init(e,t)}),zY=X("ZodCUID2",(e,t)=>{jq.init(e,t),Rt.init(e,t)}),BY=X("ZodULID",(e,t)=>{Lq.init(e,t),Rt.init(e,t)}),WY=X("ZodXID",(e,t)=>{$q.init(e,t),Rt.init(e,t)}),HY=X("ZodKSUID",(e,t)=>{Fq.init(e,t),Rt.init(e,t)}),KY=X("ZodIPv4",(e,t)=>{Wq.init(e,t),Rt.init(e,t)}),qY=X("ZodIPv6",(e,t)=>{Hq.init(e,t),Rt.init(e,t)}),GY=X("ZodCIDRv4",(e,t)=>{Kq.init(e,t),Rt.init(e,t)}),YY=X("ZodCIDRv6",(e,t)=>{qq.init(e,t),Rt.init(e,t)}),ZY=X("ZodBase64",(e,t)=>{Gq.init(e,t),Rt.init(e,t)}),QY=X("ZodBase64URL",(e,t)=>{Zq.init(e,t),Rt.init(e,t)}),XY=X("ZodE164",(e,t)=>{Qq.init(e,t),Rt.init(e,t)}),JY=X("ZodJWT",(e,t)=>{Jq.init(e,t),Rt.init(e,t)}),HL=X("ZodNumber",(e,t)=>{FL.init(e,t),rn.init(e,t),e.gt=(r,i)=>e.check(yO(r,i)),e.gte=(r,i)=>e.check(gg(r,i)),e.min=(r,i)=>e.check(gg(r,i)),e.lt=(r,i)=>e.check(vO(r,i)),e.lte=(r,i)=>e.check(mg(r,i)),e.max=(r,i)=>e.check(mg(r,i)),e.int=r=>e.check(xO(r)),e.safe=r=>e.check(xO(r)),e.positive=r=>e.check(yO(0,r)),e.nonnegative=r=>e.check(gg(0,r)),e.negative=r=>e.check(vO(0,r)),e.nonpositive=r=>e.check(mg(0,r)),e.multipleOf=(r,i)=>e.check(wO(r,i)),e.step=(r,i)=>e.check(wO(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null}),eZ=X("ZodNumberFormat",(e,t)=>{eG.init(e,t),HL.init(e,t)});function xO(e){return YG(eZ,e)}const tZ=X("ZodUnknown",(e,t)=>{tG.init(e,t),rn.init(e,t)});function EO(){return ZG(tZ)}const nZ=X("ZodNever",(e,t)=>{nG.init(e,t),rn.init(e,t)});function rZ(e){return QG(nZ,e)}const iZ=X("ZodDate",(e,t)=>{rG.init(e,t),rn.init(e,t),e.min=(r,i)=>e.check(gg(r,i)),e.max=(r,i)=>e.check(mg(r,i));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function hv(e){return XG(iZ,e)}const oZ=X("ZodArray",(e,t)=>{iG.init(e,t),rn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(dv(n,r)),e.nonempty=n=>e.check(dv(1,n)),e.max=(n,r)=>e.check(zL(n,r)),e.length=(n,r)=>e.check(BL(n,r)),e.unwrap=()=>e.element});function I1(e,t){return uY(oZ,e,t)}const sZ=X("ZodObject",(e,t)=>{sG.init(e,t),rn.init(e,t),ht(e,"shape",()=>t.shape),e.keyof=()=>Zl(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:EO()}),e.loose=()=>e.clone({...e._zod.def,catchall:EO()}),e.strict=()=>e.clone({...e._zod.def,catchall:rZ()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>S7(e,n),e.safeExtend=n=>A7(e,n),e.merge=n=>T7(e,n),e.pick=n=>x7(e,n),e.omit=n=>E7(e,n),e.partial=(...n)=>P7(KL,e,n[0]),e.required=(...n)=>C7(qL,e,n[0])});function Ba(e,t){const n={type:"object",shape:e??{},...xe(t)};return new sZ(n)}const aZ=X("ZodUnion",(e,t)=>{aG.init(e,t),rn.init(e,t),e.options=t.options});function lZ(e,t){return new aZ({type:"union",options:e,...xe(t)})}const uZ=X("ZodIntersection",(e,t)=>{lG.init(e,t),rn.init(e,t)});function cZ(e,t){return new uZ({type:"intersection",left:e,right:t})}const kx=X("ZodEnum",(e,t)=>{uG.init(e,t),rn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new kx({...t,checks:[],...xe(i),entries:o})},e.exclude=(r,i)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new kx({...t,checks:[],...xe(i),entries:o})}});function Zl(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new kx({type:"enum",entries:n,...xe(t)})}const fZ=X("ZodTransform",(e,t)=>{cG.init(e,t),rn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new TL(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(wh(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(wh(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function dZ(e){return new fZ({type:"transform",transform:e})}const KL=X("ZodOptional",(e,t)=>{fG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function SO(e){return new KL({type:"optional",innerType:e})}const hZ=X("ZodNullable",(e,t)=>{dG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function AO(e){return new hZ({type:"nullable",innerType:e})}const pZ=X("ZodDefault",(e,t)=>{hG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function mZ(e,t){return new pZ({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():IL(t)}})}const gZ=X("ZodPrefault",(e,t)=>{pG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vZ(e,t){return new gZ({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():IL(t)}})}const qL=X("ZodNonOptional",(e,t)=>{mG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yZ(e,t){return new qL({type:"nonoptional",innerType:e,...xe(t)})}const wZ=X("ZodCatch",(e,t)=>{gG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function _Z(e,t){return new wZ({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const bZ=X("ZodPipe",(e,t)=>{vG.init(e,t),rn.init(e,t),e.in=t.in,e.out=t.out});function TO(e,t){return new bZ({type:"pipe",in:e,out:t})}const xZ=X("ZodReadonly",(e,t)=>{yG.init(e,t),rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function EZ(e){return new xZ({type:"readonly",innerType:e})}const SZ=X("ZodCustom",(e,t)=>{wG.init(e,t),rn.init(e,t)});function AZ(e,t={}){return cY(SZ,e,t)}function TZ(e){return fY(e)}function zt(e){return GG(HL,e)}const PZ=()=>{};var PO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},CZ=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},YL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GL(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new IZ;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class IZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OZ=function(e){const t=GL(e);return YL.encodeByteArray(t,!0)},pv=function(e){return OZ(e).replace(/\./g,"")},ZL=function(e){try{return YL.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=()=>kZ().__FIREBASE_DEFAULTS__,NZ=()=>{if(typeof process>"u"||typeof PO>"u")return;const e=PO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},DZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZL(e[1]);return t&&JSON.parse(t)},Xy=()=>{try{return PZ()||RZ()||NZ()||DZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},QL=e=>{var t,n;return(n=(t=Xy())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},MZ=e=>{const t=QL(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},XL=()=>{var e;return(e=Xy())==null?void 0:e.config},JL=e=>{var t;return(t=Xy())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e$(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[pv(JSON.stringify(n)),pv(JSON.stringify(s)),""].join(".")}const Wd={};function $Z(){const e={prod:[],emulator:[]};for(const t of Object.keys(Wd))Wd[t]?e.emulator.push(t):e.prod.push(t);return e}function FZ(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let CO=!1;function t$(e,t){if(typeof window>"u"||typeof document>"u"||!vf(window.location.host)||Wd[e]===t||Wd[e]||CO)return;Wd[e]=t;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=$Z().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{CO=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=FZ(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),_=document.getElementById(m)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;a(x),c(_,m);const A=u();l(y,b),x.append(y,v,_,A),document.body.appendChild(x)}o?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function UZ(){var t;const e=(t=Xy())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BZ(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function WZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HZ(){const e=Qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function KZ(){return!UZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qZ(){try{return typeof indexedDB=="object"}catch{return!1}}function GZ(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)==null?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ="FirebaseError";class hs extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=YZ,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,op.prototype.create)}}class op{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?ZZ(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hs(i,a,r)}}function ZZ(e,t){return e.replace(QZ,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const QZ=/\{\$([^}]+)}/g;function XZ(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ql(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(IO(o)&&IO(s)){if(!Ql(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ad(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Td(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function JZ(e,t){const n=new eQ(e,t);return n.subscribe.bind(n)}class eQ{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tQ(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=S_),i.error===void 0&&(i.error=S_),i.complete===void 0&&(i.complete=S_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tQ(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function S_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e){return e&&e._delegate?e._delegate:e}class Xl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nQ=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new jZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iQ(t))try{this.getOrInitializeService({instanceIdentifier:fl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=fl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fl){return this.instances.has(t)}getOptions(t=fl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rQ(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=fl){return this.component?this.component.multipleInstances?t:fl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rQ(e){return e===fl?void 0:e}function iQ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nQ(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($e||($e={}));const sQ={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},aQ=$e.INFO,lQ={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},uQ=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=lQ[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O1{constructor(t){this.name=t,this._logLevel=aQ,this._logHandler=uQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sQ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...t),this._logHandler(this,$e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...t),this._logHandler(this,$e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...t),this._logHandler(this,$e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...t),this._logHandler(this,$e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...t),this._logHandler(this,$e.ERROR,...t)}}const cQ=(e,t)=>t.some(n=>e instanceof n);let OO,kO;function fQ(){return OO||(OO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dQ(){return kO||(kO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n$=new WeakMap,Rx=new WeakMap,r$=new WeakMap,A_=new WeakMap,k1=new WeakMap;function hQ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(pa(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&n$.set(n,e)}).catch(()=>{}),k1.set(t,e),t}function pQ(e){if(Rx.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Rx.set(e,t)}let Nx={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||r$.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mQ(e){Nx=e(Nx)}function gQ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(T_(this),t,...n);return r$.set(r,t.sort?t.sort():[t]),pa(r)}:dQ().includes(e)?function(...t){return e.apply(T_(this),t),pa(n$.get(this))}:function(...t){return pa(e.apply(T_(this),t))}}function vQ(e){return typeof e=="function"?gQ(e):(e instanceof IDBTransaction&&pQ(e),cQ(e,fQ())?new Proxy(e,Nx):e)}function pa(e){if(e instanceof IDBRequest)return hQ(e);if(A_.has(e))return A_.get(e);const t=vQ(e);return t!==e&&(A_.set(e,t),k1.set(t,e)),t}const T_=e=>k1.get(e);function yQ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=pa(s);return r&&s.addEventListener("upgradeneeded",l=>{r(pa(s.result),l.oldVersion,l.newVersion,pa(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wQ=["get","getKey","getAll","getAllKeys","count"],_Q=["put","add","delete","clear"],P_=new Map;function RO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(P_.get(t))return P_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_Q.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wQ.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return P_.set(t,o),o}mQ(e=>({...e,get:(t,n,r)=>RO(t,n)||e.get(t,n,r),has:(t,n)=>!!RO(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xQ(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dx="@firebase/app",NO="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new O1("@firebase/app"),EQ="@firebase/app-compat",SQ="@firebase/analytics-compat",AQ="@firebase/analytics",TQ="@firebase/app-check-compat",PQ="@firebase/app-check",CQ="@firebase/auth",IQ="@firebase/auth-compat",OQ="@firebase/database",kQ="@firebase/data-connect",RQ="@firebase/database-compat",NQ="@firebase/functions",DQ="@firebase/functions-compat",MQ="@firebase/installations",jQ="@firebase/installations-compat",LQ="@firebase/messaging",$Q="@firebase/messaging-compat",FQ="@firebase/performance",VQ="@firebase/performance-compat",UQ="@firebase/remote-config",zQ="@firebase/remote-config-compat",BQ="@firebase/storage",WQ="@firebase/storage-compat",HQ="@firebase/firestore",KQ="@firebase/ai",qQ="@firebase/firestore-compat",GQ="firebase",YQ="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="[DEFAULT]",ZQ={[Dx]:"fire-core",[EQ]:"fire-core-compat",[AQ]:"fire-analytics",[SQ]:"fire-analytics-compat",[PQ]:"fire-app-check",[TQ]:"fire-app-check-compat",[CQ]:"fire-auth",[IQ]:"fire-auth-compat",[OQ]:"fire-rtdb",[kQ]:"fire-data-connect",[RQ]:"fire-rtdb-compat",[NQ]:"fire-fn",[DQ]:"fire-fn-compat",[MQ]:"fire-iid",[jQ]:"fire-iid-compat",[LQ]:"fire-fcm",[$Q]:"fire-fcm-compat",[FQ]:"fire-perf",[VQ]:"fire-perf-compat",[UQ]:"fire-rc",[zQ]:"fire-rc-compat",[BQ]:"fire-gcs",[WQ]:"fire-gcs-compat",[HQ]:"fire-fst",[qQ]:"fire-fst-compat",[KQ]:"fire-vertex","fire-js":"fire-js",[GQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map,QQ=new Map,jx=new Map;function DO(e,t){try{e.container.addComponent(t)}catch(n){ts.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fc(e){const t=e.name;if(jx.has(t))return ts.debug(`There were multiple attempts to register component ${t}.`),!1;jx.set(t,e);for(const n of mv.values())DO(n,e);for(const n of QQ.values())DO(n,e);return!0}function R1(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ni(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new op("app","Firebase",XQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=YQ;function i$(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Mx,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw ma.create("bad-app-name",{appName:String(i)});if(n||(n=XL()),!n)throw ma.create("no-options");const o=mv.get(i);if(o){if(Ql(n,o.options)&&Ql(r,o.config))return o;throw ma.create("duplicate-app",{appName:i})}const s=new oQ(i);for(const l of jx.values())s.addComponent(l);const a=new JQ(n,r,s);return mv.set(i,a),a}function o$(e=Mx){const t=mv.get(e);if(!t&&e===Mx&&XL())return i$();if(!t)throw ma.create("no-app",{appName:e});return t}function ga(e,t,n){let r=ZQ[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ts.warn(s.join(" "));return}Fc(new Xl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eX="firebase-heartbeat-database",tX=1,_h="firebase-heartbeat-store";let C_=null;function s$(){return C_||(C_=yQ(eX,tX,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_h)}catch(n){console.warn(n)}}}}).catch(e=>{throw ma.create("idb-open",{originalErrorMessage:e.message})})),C_}async function nX(e){try{const n=(await s$()).transaction(_h),r=await n.objectStore(_h).get(a$(e));return await n.done,r}catch(t){if(t instanceof hs)ts.warn(t.message);else{const n=ma.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ts.warn(n.message)}}}async function MO(e,t){try{const r=(await s$()).transaction(_h,"readwrite");await r.objectStore(_h).put(t,a$(e)),await r.done}catch(n){if(n instanceof hs)ts.warn(n.message);else{const r=ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function a$(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=1024,iX=30;class oX{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jO();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>iX){const s=lX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jO(),{heartbeatsToSend:r,unsentEntries:i}=sX(this._heartbeatsCache.heartbeats),o=pv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ts.warn(n),""}}}function jO(){return new Date().toISOString().substring(0,10)}function sX(e,t=rX){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LO(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LO(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aX{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qZ()?GZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return MO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return MO(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function LO(e){return pv(JSON.stringify({version:2,heartbeats:e})).length}function lX(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(e){Fc(new Xl("platform-logger",t=>new bQ(t),"PRIVATE")),Fc(new Xl("heartbeat",t=>new oX(t),"PRIVATE")),ga(Dx,NO,e),ga(Dx,NO,"esm2020"),ga("fire-js","")}uX("");function l$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cX=l$,u$=new op("auth","Firebase",l$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new O1("@firebase/auth");function fX(e,...t){gv.logLevel<=$e.WARN&&gv.warn(`Auth (${yf}): ${e}`,...t)}function vg(e,...t){gv.logLevel<=$e.ERROR&&gv.error(`Auth (${yf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,...t){throw N1(e,...t)}function po(e,...t){return N1(e,...t)}function c$(e,t,n){const r={...cX(),[t]:n};return new op("auth","Firebase",r).create(t,{appName:e.name})}function va(e){return c$(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N1(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u$.create(e,...t)}function Te(e,t,...n){if(!e)throw N1(t,...n)}function Uo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vg(t),new Error(t)}function ns(e,t){e||Uo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function dX(){return $O()==="http:"||$O()==="https:"}function $O(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dX()||BZ()||"connection"in navigator)?navigator.onLine:!0}function pX(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){this.shortDelay=t,this.longDelay=n,ns(n>t,"Short delay should be less than long delay!"),this.isMobile=VZ()||WZ()}get(){return hX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e,t){ns(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vX=new ap(3e4,6e4);function wu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wa(e,t,n,r,i={}){return d$(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=sp({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...o};return zZ()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&vf(e.emulatorConfig.host)&&(u.credentials="include"),f$.fetch()(await h$(e,e.config.apiHost,n,a),u)})}async function d$(e,t,n){e._canInitEmulator=!1;const r={...mX,...t};try{const i=new wX(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Am(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Am(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Am(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Am(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw c$(e,c,u);Ui(e,c)}}catch(i){if(i instanceof hs)throw i;Ui(e,"network-request-failed",{message:String(i)})}}async function Jy(e,t,n,r,i={}){const o=await Wa(e,t,n,r,i);return"mfaPendingCredential"in o&&Ui(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function h$(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?D1(e.config,i):`${e.config.apiScheme}://${i}`;return gX.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function yX(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),vX.get())})}}function Am(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=po(e,t,r);return i.customData._tokenResponse=n,i}function FO(e){return e!==void 0&&e.enterprise!==void 0}class _X{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return yX(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bX(e,t){return Wa(e,"GET","/v2/recaptchaConfig",wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(e,t){return Wa(e,"POST","/v1/accounts:delete",t)}async function vv(e,t){return Wa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EX(e,t=!1){const n=Bt(e),r=await n.getIdToken(t),i=M1(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Hd(I_(i.auth_time)),issuedAtTime:Hd(I_(i.iat)),expirationTime:Hd(I_(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function I_(e){return Number(e)*1e3}function M1(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZL(n);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VO(e){const t=M1(e);return Te(t,"internal-error"),Te(typeof t.exp<"u","internal-error"),Te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof hs&&SX(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function SX({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hd(this.lastLoginAt),this.creationTime=Hd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(e){var f;const t=e.auth,n=await e.getIdToken(),r=await bh(e,vv(t,{idToken:n}));Te(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?p$(i.providerUserInfo):[],s=PX(e.providerData,o),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $x(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function TX(e){const t=Bt(e);await yv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PX(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function p$(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CX(e,t){const n=await d$(e,{},async()=>{const r=sp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await h$(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&vf(e.emulatorConfig.host)&&(l.credentials="include"),f$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IX(e,t){return Wa(e,"POST","/v2/accounts:revokeToken",wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Te(t.idToken,"internal-error"),Te(typeof t.idToken<"u","internal-error"),Te(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Te(t.length!==0,"internal-error");const n=VO(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await CX(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new fc;return r&&(Te(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Uo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(e,t){Te(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ji{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new AX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $x(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await bh(this,this.stsTokenManager.getToken(this.auth,t));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return EX(this,t)}reload(){return TX(this)}_assign(t){this!==t&&(Te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ji({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await yv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(va(this.auth));const t=await this.getIdToken();return await bh(this,xX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:v,stsTokenManager:m}=n;Te(f&&m,t,"internal-error");const _=fc.fromJSON(this.name,m);Te(typeof f=="string",t,"internal-error"),Is(r,t.name),Is(i,t.name),Te(typeof d=="boolean",t,"internal-error"),Te(typeof p=="boolean",t,"internal-error"),Is(o,t.name),Is(s,t.name),Is(a,t.name),Is(l,t.name),Is(u,t.name),Is(c,t.name);const b=new ji({uid:f,auth:t,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:_,createdAt:u,lastLoginAt:c});return v&&Array.isArray(v)&&(b.providerData=v.map(y=>({...y}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(t,n,r=!1){const i=new fc;i.updateFromServerResponse(n);const o=new ji({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await yv(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?p$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new fc;a.updateFromIdToken(r);const l=new ji({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $x(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Map;function zo(e){ns(e instanceof Function,"Expected a class definition");let t=UO.get(e);return t?(ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,UO.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}m$.type="NONE";const zO=m$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e,t,n){return`firebase:${e}:${t}:${n}`}class dc{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=yg(this.userKey,i.apiKey,o),this.fullPersistenceKey=yg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await vv(this.auth,{idToken:t}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,t):null}return ji._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new dc(zo(zO),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||zo(zO);const s=yg(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const d=await vv(t,{idToken:c}).catch(()=>{});if(!d)break;f=await ji._fromGetAccountInfoResponse(t,d,c)}else f=ji._fromJSON(t,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new dc(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new dc(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(w$(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g$(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b$(t))return"Blackberry";if(x$(t))return"Webos";if(v$(t))return"Safari";if((t.includes("chrome/")||y$(t))&&!t.includes("edge/"))return"Chrome";if(_$(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function g$(e=Qn()){return/firefox\//i.test(e)}function v$(e=Qn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y$(e=Qn()){return/crios\//i.test(e)}function w$(e=Qn()){return/iemobile/i.test(e)}function _$(e=Qn()){return/android/i.test(e)}function b$(e=Qn()){return/blackberry/i.test(e)}function x$(e=Qn()){return/webos/i.test(e)}function j1(e=Qn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OX(e=Qn()){var t;return j1(e)&&!!((t=window.navigator)!=null&&t.standalone)}function kX(){return HZ()&&document.documentMode===10}function E$(e=Qn()){return j1(e)||_$(e)||x$(e)||b$(e)||/windows phone/i.test(e)||w$(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(e,t=[]){let n;switch(e){case"Browser":n=BO(Qn());break;case"Worker":n=`${BO(Qn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NX(e,t={}){return Wa(e,"GET","/v2/passwordPolicy",wu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX=6;class MX{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DX,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WO(this),this.idTokenSubscription=new WO(this),this.beforeStateQueue=new RX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await dc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vv(this,{idToken:t}),r=await ji._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var o;if(Ni(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yv(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pX()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ni(this.app))return Promise.reject(va(this));const n=t?Bt(t):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ni(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await NX(this),n=new MX(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new op("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await IX(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zo(t)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=S$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&fX(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wf(e){return Bt(e)}class WO{constructor(t){this.auth=t,this.observer=null,this.addObserver=JZ(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LX(e){e0=e}function A$(e){return e0.loadJS(e)}function $X(){return e0.recaptchaEnterpriseScript}function FX(){return e0.gapiScript}function VX(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class UX{constructor(){this.enterprise=new zX}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class zX{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const BX="recaptcha-enterprise",T$="NO_RECAPTCHA";class WX{constructor(t){this.type=BX,this.auth=wf(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{bX(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _X(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;FO(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(T$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UX().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&FO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$X();l.length!==0&&(l+=a),A$(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function HO(e,t,n,r=!1,i=!1){const o=new WX(e);let s;if(i)s=T$;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function KO(e,t,n,r,i){var o;if((o=e._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await HO(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await HO(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(e,t){const n=R1(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ql(o,t??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:t})}function KX(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function qX(e,t,n){const r=wf(e);Te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=P$(t),{host:s,port:a}=GX(t),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Ql(u,r.config.emulator)&&Ql(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,vf(s)?(e$(`${o}//${s}${l}`),t$("Auth",!0)):YX()}function P$(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GX(e){const t=P$(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:qO(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:qO(s)}}}function qO(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function YX(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Uo("not implemented")}_getIdTokenResponse(t){return Uo("not implemented")}_linkToIdToken(t,n){return Uo("not implemented")}_getReauthenticationResolver(t){return Uo("not implemented")}}async function ZX(e,t){return Wa(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QX(e,t){return Jy(e,"POST","/v1/accounts:signInWithPassword",wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XX(e,t){return Jy(e,"POST","/v1/accounts:signInWithEmailLink",wu(e,t))}async function JX(e,t){return Jy(e,"POST","/v1/accounts:signInWithEmailLink",wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends L1{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new xh(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new xh(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KO(t,n,"signInWithPassword",QX);case"emailLink":return XX(t,{email:this._email,oobCode:this._password});default:Ui(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return KO(t,r,"signUpPassword",ZX);case"emailLink":return JX(t,{idToken:n,email:this._email,oobCode:this._password});default:Ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(e,t){return Jy(e,"POST","/v1/accounts:signInWithIdp",wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ="http://localhost";class Jl extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Jl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Jl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return hc(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,hc(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hc(t,n)}buildRequest(){const t={requestUri:eJ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=sp(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nJ(e){const t=Ad(Td(e)).link,n=t?Ad(Td(t)).deep_link_id:null,r=Ad(Td(e)).deep_link_id;return(r?Ad(Td(r)).link:null)||r||n||t||e}class $1{constructor(t){const n=Ad(Td(t)),r=n.apiKey??null,i=n.oobCode??null,o=tJ(n.mode??null);Te(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=nJ(t);try{return new $1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this.providerId=_f.PROVIDER_ID}static credential(t,n){return xh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=$1.parseLink(n);return Te(r,"argument-error"),xh._fromEmailAndCode(t,r.code,r.tenantId)}}_f.PROVIDER_ID="password";_f.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends C${constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends lp{constructor(){super("facebook.com")}static credential(t){return Jl._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends lp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Jl._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends lp{constructor(){super("github.com")}static credential(t){return Jl._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends lp{constructor(){super("twitter.com")}static credential(t,n){return Jl._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ji._fromIdTokenResponse(t,r,i),s=GO(r);return new Vc({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=GO(r);return new Vc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function GO(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends hs{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wv.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new wv(t,n,r,i)}}function I$(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wv._fromErrorAndOperation(e,o,t,r):o})}async function rJ(e,t,n=!1){const r=await bh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iJ(e,t,n=!1){const{auth:r}=e;if(Ni(r.app))return Promise.reject(va(r));const i="reauthenticate";try{const o=await bh(e,I$(r,i,t,e),n);Te(o.idToken,r,"internal-error");const s=M1(o.idToken);Te(s,r,"internal-error");const{sub:a}=s;return Te(e.uid===a,r,"user-mismatch"),Vc._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(e,t,n=!1){if(Ni(e.app))return Promise.reject(va(e));const r="signIn",i=await I$(e,r,t),o=await Vc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function oJ(e,t){return O$(wf(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sJ(e){const t=wf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function aJ(e,t,n){return Ni(e.app)?Promise.reject(va(e)):oJ(Bt(e),_f.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sJ(e),r})}function lJ(e,t,n,r){return Bt(e).onIdTokenChanged(t,n,r)}function uJ(e,t,n){return Bt(e).beforeAuthStateChanged(t,n)}function cJ(e,t,n,r){return Bt(e).onAuthStateChanged(t,n,r)}function k$(e){return Bt(e).signOut()}const _v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ=1e3,dJ=10;class N$ extends R${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);kX()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,dJ):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},fJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}N$.type="LOCAL";const hJ=N$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D$ extends R${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}D$.type="SESSION";const M$=D$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new t0(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await pJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=F1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return window}function gJ(e){mo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){return typeof mo().WorkerGlobalScope<"u"&&typeof mo().importScripts=="function"}async function vJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yJ(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function wJ(){return j$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="firebaseLocalStorageDb",_J=1,bv="firebaseLocalStorage",$$="fbase_key";class up{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function n0(e,t){return e.transaction([bv],t?"readwrite":"readonly").objectStore(bv)}function bJ(){const e=indexedDB.deleteDatabase(L$);return new up(e).toPromise()}function Fx(){const e=indexedDB.open(L$,_J);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(bv,{keyPath:$$})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(bv)?t(r):(r.close(),await bJ(),t(await Fx()))})})}async function YO(e,t,n){const r=n0(e,!0).put({[$$]:t,value:n});return new up(r).toPromise()}async function xJ(e,t){const n=n0(e,!1).get(t),r=await new up(n).toPromise();return r===void 0?null:r.value}function ZO(e,t){const n=n0(e,!0).delete(t);return new up(n).toPromise()}const EJ=800,SJ=3;class F${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fx(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>SJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t0._getInstance(wJ()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vJ(),!this.activeServiceWorker)return;this.sender=new mJ(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fx();return await YO(t,_v,"1"),await ZO(t,_v),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YO(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>xJ(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZO(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=n0(i,!1).getAll();return new up(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F$.type="LOCAL";const AJ=F$;new ap(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(e,t){return t?zo(t):(Te(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends L1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function PJ(e){return O$(e.auth,new V1(e),e.bypassAuthState)}function CJ(e){const{auth:t,user:n}=e;return Te(n,t,"internal-error"),iJ(n,new V1(e),e.bypassAuthState)}async function IJ(e){const{auth:t,user:n}=e;return Te(n,t,"internal-error"),rJ(n,new V1(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PJ;case"linkViaPopup":case"linkViaRedirect":return IJ;case"reauthViaPopup":case"reauthViaRedirect":return CJ;default:Ui(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=new ap(2e3,1e4);class ec extends V${constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ec.currentPopupAction&&ec.currentPopupAction.cancel(),ec.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Te(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=F1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ec.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OJ.get())};t()}}ec.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ="pendingRedirect",wg=new Map;class RJ extends V${constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=wg.get(this.auth._key());if(!t){try{const r=await NJ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}wg.set(this.auth._key(),t)}return this.bypassAuthState||wg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NJ(e,t){const n=jJ(t),r=MJ(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DJ(e,t){wg.set(e._key(),t)}function MJ(e){return zo(e._redirectPersistence)}function jJ(e){return yg(kJ,e.config.apiKey,e.name)}async function LJ(e,t,n=!1){if(Ni(e.app))return Promise.reject(va(e));const r=wf(e),i=TJ(r,t),s=await new RJ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=10*60*1e3;class FJ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VJ(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!U$(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(po(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$J&&this.cachedEventUids.clear(),this.cachedEventUids.has(QO(t))}saveEventToCache(t){this.cachedEventUids.add(QO(t)),this.lastProcessedEventTime=Date.now()}}function QO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function U$({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VJ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U$(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(e,t={}){return Wa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BJ=/^https?/;async function WJ(e){if(e.config.emulator)return;const{authorizedDomains:t}=await UJ(e);for(const n of t)try{if(HJ(n))return}catch{}Ui(e,"unauthorized-domain")}function HJ(e){const t=Lx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BJ.test(n))return!1;if(zJ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ=new ap(3e4,6e4);function XO(){const e=mo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function qJ(e){return new Promise((t,n)=>{var i,o,s;function r(){XO(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XO(),n(po(e,"network-request-failed"))},timeout:KJ.get()})}if((o=(i=mo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)t(gapi.iframes.getContext());else if((s=mo().gapi)!=null&&s.load)r();else{const a=VX("iframefcb");return mo()[a]=()=>{gapi.load?r():n(po(e,"network-request-failed"))},A$(`${FX()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw _g=null,t})}let _g=null;function GJ(e){return _g=_g||qJ(e),_g}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new ap(5e3,15e3),ZJ="__/auth/iframe",QJ="emulator/auth/iframe",XJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eee(e){const t=e.config;Te(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?D1(t,QJ):`https://${e.config.authDomain}/${ZJ}`,r={apiKey:t.apiKey,appName:e.name,v:yf},i=JJ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sp(r).slice(1)}`}async function tee(e){const t=await GJ(e),n=mo().gapi;return Te(n,e,"internal-error"),t.open({where:document.body,url:eee(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XJ,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=po(e,"network-request-failed"),a=mo().setTimeout(()=>{o(s)},YJ.get());function l(){mo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ree=500,iee=600,oee="_blank",see="http://localhost";class JO{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aee(e,t,n,r=ree,i=iee){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...nee,width:r.toString(),height:i.toString(),top:o,left:s},u=Qn().toLowerCase();n&&(a=y$(u)?oee:n),g$(u)&&(t=t||see,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,v])=>`${d}${p}=${v},`,"");if(OX(u)&&a!=="_self")return lee(t||"",a),new JO(null);const f=window.open(t||"",a,c);Te(f,e,"popup-blocked");try{f.focus()}catch{}return new JO(f)}function lee(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee="__/auth/handler",cee="emulator/auth/handler",fee=encodeURIComponent("fac");async function ek(e,t,n,r,i,o){Te(e.config.authDomain,e,"auth-domain-config-required"),Te(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yf,eventId:i};if(t instanceof C$){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",XZ(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof lp){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${fee}=${encodeURIComponent(l)}`:"";return`${dee(e)}?${sp(a).slice(1)}${u}`}function dee({config:e}){return e.emulator?D1(e,cee):`https://${e.authDomain}/${uee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="webStorageSupport";class hee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M$,this._completeRedirectFn=LJ,this._overrideRedirectResult=DJ}async _openPopup(t,n,r,i){var s;ns((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ek(t,n,r,Lx(),i);return aee(t,o,F1())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await ek(t,n,r,Lx(),i);return gJ(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ns(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await tee(t),r=new FJ(t);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(O_,{type:O_},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[O_];o!==void 0&&n(!!o),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WJ(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E$()||v$()||j1()}}const pee=hee;var tk="@firebase/auth",nk="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gee(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vee(e){Fc(new Xl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S$(e)},u=new jX(r,i,o,l);return KX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Fc(new Xl("auth-internal",t=>{const n=wf(t.getProvider("auth").getImmediate());return(r=>new mee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(tk,nk,gee(e)),ga(tk,nk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=5*60,wee=JL("authIdTokenMaxAge")||yee;let rk=null;const _ee=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wee)return;const i=n==null?void 0:n.token;rk!==i&&(rk=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bee(e=o$()){const t=R1(e,"auth");if(t.isInitialized())return t.getImmediate();const n=HX(e,{popupRedirectResolver:pee,persistence:[AJ,hJ,M$]}),r=JL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=_ee(o.toString());uJ(n,s,()=>s(n.currentUser)),lJ(n,a=>s(a))}}const i=QL("auth");return i&&qX(n,`http://${i}`),n}function xee(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}LX({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=po("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vee("Browser");var Eee="firebase",See="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(Eee,See,"app");var ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,z$;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,T){function I(){}I.prototype=T.prototype,S.F=T.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(k,O,D){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return T.prototype[O].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,I){I||(I=0);const k=Array(16);if(typeof T=="string")for(var O=0;O<16;++O)k[O]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(O=0;O<16;++O)k[O]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=S.g[0],I=S.g[1],O=S.g[2];let D=S.g[3],R;R=T+(D^I&(O^D))+k[0]+3614090360&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(O^T&(I^O))+k[1]+3905402710&4294967295,D=T+(R<<12&4294967295|R>>>20),R=O+(I^D&(T^I))+k[2]+606105819&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(T^O&(D^T))+k[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(D^I&(O^D))+k[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(O^T&(I^O))+k[5]+1200080426&4294967295,D=T+(R<<12&4294967295|R>>>20),R=O+(I^D&(T^I))+k[6]+2821735955&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(T^O&(D^T))+k[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(D^I&(O^D))+k[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(O^T&(I^O))+k[9]+2336552879&4294967295,D=T+(R<<12&4294967295|R>>>20),R=O+(I^D&(T^I))+k[10]+4294925233&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(T^O&(D^T))+k[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(D^I&(O^D))+k[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=D+(O^T&(I^O))+k[13]+4254626195&4294967295,D=T+(R<<12&4294967295|R>>>20),R=O+(I^D&(T^I))+k[14]+2792965006&4294967295,O=D+(R<<17&4294967295|R>>>15),R=I+(T^O&(D^T))+k[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=T+(O^D&(I^O))+k[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(T^I))+k[6]+3225465664&4294967295,D=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(D^T))+k[11]+643717713&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(O^D))+k[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^D&(I^O))+k[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(T^I))+k[10]+38016083&4294967295,D=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(D^T))+k[15]+3634488961&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(O^D))+k[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^D&(I^O))+k[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(T^I))+k[14]+3275163606&4294967295,D=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(D^T))+k[3]+4107603335&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(O^D))+k[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(O^D&(I^O))+k[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=D+(I^O&(T^I))+k[2]+4243563512&4294967295,D=T+(R<<9&4294967295|R>>>23),R=O+(T^I&(D^T))+k[7]+1735328473&4294967295,O=D+(R<<14&4294967295|R>>>18),R=I+(D^T&(O^D))+k[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=T+(I^O^D)+k[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^O)+k[8]+2272392833&4294967295,D=T+(R<<11&4294967295|R>>>21),R=O+(D^T^I)+k[11]+1839030562&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^T)+k[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^D)+k[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^O)+k[4]+1272893353&4294967295,D=T+(R<<11&4294967295|R>>>21),R=O+(D^T^I)+k[7]+4139469664&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^T)+k[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^D)+k[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^O)+k[0]+3936430074&4294967295,D=T+(R<<11&4294967295|R>>>21),R=O+(D^T^I)+k[3]+3572445317&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^T)+k[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(I^O^D)+k[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=D+(T^I^O)+k[12]+3873151461&4294967295,D=T+(R<<11&4294967295|R>>>21),R=O+(D^T^I)+k[15]+530742520&4294967295,O=D+(R<<16&4294967295|R>>>16),R=I+(O^D^T)+k[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=T+(O^(I|~D))+k[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~O))+k[7]+1126891415&4294967295,D=T+(R<<10&4294967295|R>>>22),R=O+(T^(D|~I))+k[14]+2878612391&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~T))+k[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~D))+k[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~O))+k[3]+2399980690&4294967295,D=T+(R<<10&4294967295|R>>>22),R=O+(T^(D|~I))+k[10]+4293915773&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~T))+k[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~D))+k[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~O))+k[15]+4264355552&4294967295,D=T+(R<<10&4294967295|R>>>22),R=O+(T^(D|~I))+k[6]+2734768916&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~T))+k[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=T+(O^(I|~D))+k[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=D+(I^(T|~O))+k[11]+3174756917&4294967295,D=T+(R<<10&4294967295|R>>>22),R=O+(T^(D|~I))+k[2]+718787259&4294967295,O=D+(R<<15&4294967295|R>>>17),R=I+(D^(O|~T))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const I=T-this.blockSize,k=this.C;let O=this.h,D=0;for(;D<T;){if(O==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<T;)if(k[O++]=S.charCodeAt(D++),O==this.blockSize){i(this,k),O=0;break}}else for(;D<T;)if(k[O++]=S[D++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)S[T++]=this.g[I]>>>k&255;return S};function o(S,T){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=T(S)}function s(S,T){this.h=T;const I=[];let k=!0;for(let O=S.length-1;O>=0;O--){const D=S[O]|0;k&&D==T||(I[O]=D,k=!1)}this.g=I}var a={};function l(S){return-128<=S&&S<128?o(S,function(T){return new s([T|0],T<0?-1:0)}):new s([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return _(u(-S));const T=[];let I=1;for(let k=0;S>=I;k++)T[k]=S/I|0,I*=4294967296;return new s(T,0)}function c(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return _(c(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(T,8));let k=f;for(let D=0;D<S.length;D+=8){var O=Math.min(8,S.length-D);const R=parseInt(S.substring(D,D+O),T);O<8?(O=u(Math.pow(T,O)),k=k.j(O).add(u(R))):(k=k.j(I),k=k.add(u(R)))}return k}var f=l(0),d=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-_(this).m();let S=0,T=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);S+=(k>=0?k:4294967296+k)*T,T*=4294967296}return S},e.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(m(this))return"-"+_(this).toString(S);const T=u(Math.pow(S,6));var I=this;let k="";for(;;){const O=A(I,T).g;I=b(I,O.j(T));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=O,v(I))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},e.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function m(S){return S.h==-1}e.l=function(S){return S=b(this,S),m(S)?-1:v(S)?0:1};function _(S){const T=S.g.length,I=[];for(let k=0;k<T;k++)I[k]=~S.g[k];return new s(I,~S.h).add(d)}e.abs=function(){return m(this)?_(this):this},e.add=function(S){const T=Math.max(this.g.length,S.g.length),I=[];let k=0;for(let O=0;O<=T;O++){let D=k+(this.i(O)&65535)+(S.i(O)&65535),R=(D>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);k=R>>>16,D&=65535,R&=65535,I[O]=R<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(S,T){return S.add(_(T))}e.j=function(S){if(v(this)||v(S))return f;if(m(this))return m(S)?_(this).j(_(S)):_(_(this).j(S));if(m(S))return _(this.j(_(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,I=[];for(var k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<S.g.length;O++){const D=this.i(k)>>>16,R=this.i(k)&65535,F=S.i(O)>>>16,B=S.i(O)&65535;I[2*k+2*O]+=R*B,y(I,2*k+2*O),I[2*k+2*O+1]+=D*B,y(I,2*k+2*O+1),I[2*k+2*O+1]+=R*F,y(I,2*k+2*O+1),I[2*k+2*O+2]+=D*F,y(I,2*k+2*O+2)}for(S=0;S<T;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=T;S<2*T;S++)I[S]=0;return new s(I,0)};function y(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function x(S,T){this.g=S,this.h=T}function A(S,T){if(v(T))throw Error("division by zero");if(v(S))return new x(f,f);if(m(S))return T=A(_(S),T),new x(_(T.g),_(T.h));if(m(T))return T=A(S,_(T)),new x(_(T.g),T.h);if(S.g.length>30){if(m(S)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var I=d,k=T;k.l(S)<=0;)I=C(I),k=C(k);var O=N(I,1),D=N(k,1);for(k=N(k,2),I=N(I,2);!v(k);){var R=D.add(k);R.l(S)<=0&&(O=O.add(I),D=R),k=N(k,1),I=N(I,1)}return T=b(S,O.j(T)),new x(O,T)}for(O=f;S.l(T)>=0;){for(I=Math.max(1,Math.floor(S.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=u(I),R=D.j(T);m(R)||R.l(S)>0;)I-=k,D=u(I),R=D.j(T);v(D)&&(D=d),O=O.add(D),S=b(S,R)}return new x(O,S)}e.B=function(S){return A(this,S).h},e.and=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let k=0;k<T;k++)I[k]=this.i(k)&S.i(k);return new s(I,this.h&S.h)},e.or=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let k=0;k<T;k++)I[k]=this.i(k)|S.i(k);return new s(I,this.h|S.h)},e.xor=function(S){const T=Math.max(this.g.length,S.g.length),I=[];for(let k=0;k<T;k++)I[k]=this.i(k)^S.i(k);return new s(I,this.h^S.h)};function C(S){const T=S.g.length+1,I=[];for(let k=0;k<T;k++)I[k]=S.i(k)<<1|S.i(k-1)>>>31;return new s(I,S.h)}function N(S,T){const I=T>>5;T%=32;const k=S.g.length-I,O=[];for(let D=0;D<k;D++)O[D]=T>0?S.i(D+I)>>>T|S.i(D+I+1)<<32-T:S.i(D+I);return new s(O,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ya=s}).apply(typeof ik<"u"?ik:typeof self<"u"?self:typeof window<"u"?window:{});var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B$,Pd,W$,bg,Vx,H$,K$,q$;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tm=="object"&&Tm];for(var E=0;E<h.length;++E){var P=h[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(h,E){if(E)e:{var P=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var U=h[M];if(!(U in P))break e;P=P[U]}h=h[h.length-1],M=P[h],E=E(M),E!=M&&E!=null&&t(P,h,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(E){var P=[],M;for(M in E)Object.prototype.hasOwnProperty.call(E,M)&&P.push([M,E[M]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(h){var E=typeof h;return E=="object"&&h!=null||E=="function"}function l(h,E,P){return h.call.apply(h.bind,arguments)}function u(h,E,P){return u=l,u.apply(null,arguments)}function c(h,E){var P=Array.prototype.slice.call(arguments,1);return function(){var M=P.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function f(h,E){function P(){}P.prototype=E.prototype,h.Z=E.prototype,h.prototype=new P,h.prototype.constructor=h,h.Ob=function(M,U,H){for(var oe=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)oe[Re-2]=arguments[Re];return E.prototype[U].apply(M,oe)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const E=h.length;if(E>0){const P=Array(E);for(let M=0;M<E;M++)P[M]=h[M];return P}return[]}function v(h,E){for(let M=1;M<arguments.length;M++){const U=arguments[M];var P=typeof U;if(P=P!="object"?P:U?Array.isArray(U)?"array":P:"null",P=="array"||P=="object"&&typeof U.length=="number"){P=h.length||0;const H=U.length||0;h.length=P+H;for(let oe=0;oe<H;oe++)h[P+oe]=U[oe]}else h.push(U)}}class m{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(h){s.setTimeout(()=>{throw h},0)}function b(){var h=S;let E=null;return h.g&&(E=h.g,h.g=h.g.next,h.g||(h.h=null),E.next=null),E}class y{constructor(){this.h=this.g=null}add(E,P){const M=x.get();M.set(E,P),this.h?this.h.next=M:this.g=M,this.h=M}}var x=new m(()=>new A,h=>h.reset());class A{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,S=new y,T=()=>{const h=Promise.resolve(void 0);C=()=>{h.then(I)}};function I(){for(var h;h=b();){try{h.h.call(h.g)}catch(P){_(P)}var E=x;E.j(h),E.h<100&&(E.h++,h.next=E.g,E.g=h)}N=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,E){this.type=h,this.g=this.target=E,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,E=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const P=()=>{};s.addEventListener("test",P,E),s.removeEventListener("test",P,E)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function F(h,E){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,E)}f(F,O),F.prototype.init=function(h,E){const P=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=E,E=h.relatedTarget,E||(P=="mouseover"?E=h.fromElement:P=="mouseout"&&(E=h.toElement)),this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),V=0;function K(h,E,P,M,U){this.listener=h,this.proxy=null,this.src=E,this.type=P,this.capture=!!M,this.ha=U,this.key=++V,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function W(h,E,P){for(const M in h)E.call(P,h[M],M,h)}function Q(h,E){for(const P in h)E.call(void 0,h[P],P,h)}function fe(h){const E={};for(const P in h)E[P]=h[P];return E}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(h,E){let P,M;for(let U=1;U<arguments.length;U++){M=arguments[U];for(P in M)h[P]=M[P];for(let H=0;H<ne.length;H++)P=ne[H],Object.prototype.hasOwnProperty.call(M,P)&&(h[P]=M[P])}}function Ce(h){this.src=h,this.g={},this.h=0}Ce.prototype.add=function(h,E,P,M,U){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const oe=Xe(h,E,M,U);return oe>-1?(E=h[oe],P||(E.fa=!1)):(E=new K(E,this.src,H,!!M,U),E.fa=P,h.push(E)),E};function Ie(h,E){const P=E.type;if(P in h.g){var M=h.g[P],U=Array.prototype.indexOf.call(M,E,void 0),H;(H=U>=0)&&Array.prototype.splice.call(M,U,1),H&&($(E),h.g[P].length==0&&(delete h.g[P],h.h--))}}function Xe(h,E,P,M){for(let U=0;U<h.length;++U){const H=h[U];if(!H.da&&H.listener==E&&H.capture==!!P&&H.ha==M)return U}return-1}var he="closure_lm_"+(Math.random()*1e6|0),ke={};function ee(h,E,P,M,U){if(Array.isArray(E)){for(let H=0;H<E.length;H++)ee(h,E[H],P,M,U);return null}return P=bs(P),h&&h[B]?h.J(E,P,a(M)?!!M.capture:!1,U):ie(h,E,P,!1,M,U)}function ie(h,E,P,M,U,H){if(!E)throw Error("Invalid event type");const oe=a(U)?!!U.capture:!!U;let Re=pt(h);if(Re||(h[he]=Re=new Ce(h)),P=Re.add(E,P,M,oe,H),P.proxy)return P;if(M=le(),P.proxy=M,M.src=h,M.listener=P,h.addEventListener)D||(U=oe),U===void 0&&(U=!1),h.addEventListener(E.toString(),M,U);else if(h.attachEvent)h.attachEvent(Oe(E.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return P}function le(){function h(P){return E.call(h.src,h.listener,P)}const E=_t;return h}function G(h,E,P,M,U){if(Array.isArray(E))for(var H=0;H<E.length;H++)G(h,E[H],P,M,U);else M=a(M)?!!M.capture:!!M,P=bs(P),h&&h[B]?(h=h.i,H=String(E).toString(),H in h.g&&(E=h.g[H],P=Xe(E,P,M,U),P>-1&&($(E[P]),Array.prototype.splice.call(E,P,1),E.length==0&&(delete h.g[H],h.h--)))):h&&(h=pt(h))&&(E=h.g[E.toString()],h=-1,E&&(h=Xe(E,P,M,U)),(P=h>-1?E[h]:null)&&Me(P))}function Me(h){if(typeof h!="number"&&h&&!h.da){var E=h.src;if(E&&E[B])Ie(E.i,h);else{var P=h.type,M=h.proxy;E.removeEventListener?E.removeEventListener(P,M,h.capture):E.detachEvent?E.detachEvent(Oe(P),M):E.addListener&&E.removeListener&&E.removeListener(M),(P=pt(E))?(Ie(P,h),P.h==0&&(P.src=null,E[he]=null)):$(h)}}}function Oe(h){return h in ke?ke[h]:ke[h]="on"+h}function _t(h,E){if(h.da)h=!0;else{E=new F(E,this);const P=h.listener,M=h.ha||h.src;h.fa&&Me(h),h=P.call(M,E)}return h}function pt(h){return h=h[he],h instanceof Ce?h:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bs(h){return typeof h=="function"?h:(h[sn]||(h[sn]=function(E){return h.handleEvent(E)}),h[sn])}function bt(){k.call(this),this.i=new Ce(this),this.M=this,this.G=null}f(bt,k),bt.prototype[B]=!0,bt.prototype.removeEventListener=function(h,E,P,M){G(this,h,E,P,M)};function j(h,E){var P,M=h.G;if(M)for(P=[];M;M=M.G)P.push(M);if(h=h.M,M=E.type||E,typeof E=="string")E=new O(E,h);else if(E instanceof O)E.target=E.target||h;else{var U=E;E=new O(M,h),De(E,U)}U=!0;let H,oe;if(P)for(oe=P.length-1;oe>=0;oe--)H=E.g=P[oe],U=z(H,M,!0,E)&&U;if(H=E.g=h,U=z(H,M,!0,E)&&U,U=z(H,M,!1,E)&&U,P)for(oe=0;oe<P.length;oe++)H=E.g=P[oe],U=z(H,M,!1,E)&&U}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const E in h.g){const P=h.g[E];for(let M=0;M<P.length;M++)$(P[M]);delete h.g[E],h.h--}}this.G=null},bt.prototype.J=function(h,E,P,M){return this.i.add(String(h),E,!1,P,M)},bt.prototype.K=function(h,E,P,M){return this.i.add(String(h),E,!0,P,M)};function z(h,E,P,M){if(E=h.i.g[String(E)],!E)return!0;E=E.concat();let U=!0;for(let H=0;H<E.length;++H){const oe=E[H];if(oe&&!oe.da&&oe.capture==P){const Re=oe.listener,an=oe.ha||oe.src;oe.fa&&Ie(h.i,oe),U=Re.call(an,M)!==!1&&U}}return U&&!M.defaultPrevented}function Y(h,E){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:s.setTimeout(h,E||0)}function ce(h){h.g=Y(()=>{h.g=null,h.i&&(h.i=!1,ce(h))},h.l);const E=h.h;h.h=null,h.m.apply(null,E)}class se extends k{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(h){k.call(this),this.h=h,this.g={}}f(re,k);var ve=[];function Ye(h){W(h.g,function(E,P){this.g.hasOwnProperty(P)&&Me(E)},h),h.g={}}re.prototype.N=function(){re.Z.N.call(this),Ye(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=s.JSON.stringify,hr=s.JSON.parse,Tu=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function Ei(){}function Bp(){}var Co={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nl(){O.call(this,"d")}f(nl,O);function Uf(){O.call(this,"c")}f(Uf,O);var Qi={},Wp=null;function rl(){return Wp=Wp||new bt}Qi.Ia="serverreachability";function kP(h){O.call(this,Qi.Ia,h)}f(kP,O);function zf(h){const E=rl();j(E,new kP(E))}Qi.STAT_EVENT="statevent";function RP(h,E){O.call(this,Qi.STAT_EVENT,h),this.stat=E}f(RP,O);function Jn(h){const E=rl();j(E,new RP(E,h))}Qi.Ja="timingevent";function NP(h,E){O.call(this,Qi.Ja,h),this.size=E}f(NP,O);function Bf(h,E){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},E)}function Wf(){this.g=!0}Wf.prototype.ua=function(){this.g=!1};function K9(h,E,P,M,U,H){h.info(function(){if(h.g)if(H){var oe="",Re=H.split("&");for(let ot=0;ot<Re.length;ot++){var an=Re[ot].split("=");if(an.length>1){const mn=an[0];an=an[1];const Ji=mn.split("_");oe=Ji.length>=2&&Ji[1]=="type"?oe+(mn+"="+an+"&"):oe+(mn+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+M+") [attempt "+U+"]: "+E+`
`+P+`
`+oe})}function q9(h,E,P,M,U,H,oe){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+U+"]: "+E+`
`+P+`
`+H+" "+oe})}function Pu(h,E,P,M){h.info(function(){return"XMLHTTP TEXT ("+E+"): "+Y9(h,P)+(M?" "+M:"")})}function G9(h,E){h.info(function(){return"TIMEOUT: "+E})}Wf.prototype.info=function(){};function Y9(h,E){if(!h.g)return E;if(!E)return null;try{const H=JSON.parse(E);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var P=H[h];if(!(P.length<2)){var M=P[1];if(Array.isArray(M)&&!(M.length<1)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(let oe=1;oe<M.length;oe++)M[oe]=""}}}}return Je(H)}catch{return E}}var Hp={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},DP={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},MP;function Nw(){}f(Nw,Ei),Nw.prototype.g=function(){return new XMLHttpRequest},MP=new Nw;function Hf(h){return encodeURIComponent(String(h))}function Z9(h){var E=1;h=h.split(":");const P=[];for(;E>0&&h.length;)P.push(h.shift()),E--;return h.length&&P.push(h.join(":")),P}function xs(h,E,P,M){this.j=h,this.i=E,this.l=P,this.S=M||1,this.V=new re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jP}function jP(){this.i=null,this.g="",this.h=!1}var LP={},Dw={};function Mw(h,E,P){h.M=1,h.A=qp(Xi(E)),h.u=P,h.R=!0,$P(h,null)}function $P(h,E){h.F=Date.now(),Kp(h),h.B=Xi(h.A);var P=h.B,M=h.S;Array.isArray(M)||(M=[String(M)]),QP(P.i,"t",M),h.C=0,P=h.j.L,h.h=new jP,h.g=mC(h.j,P?E:null,!h.u),h.P>0&&(h.O=new se(u(h.Y,h,h.g),h.P)),E=h.V,P=h.g,M=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(ve[0]=U.toString()),U=ve);for(let H=0;H<U.length;H++){const oe=ee(P,U[H],M||E.handleEvent,!1,E.h||E);if(!oe)break;E.g[oe.key]=oe}E=h.J?fe(h.J):{},h.u?(h.v||(h.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,E)):(h.v="GET",h.g.ea(h.B,h.v,null,E)),zf(),K9(h.i,h.v,h.B,h.l,h.S,h.u)}xs.prototype.ba=function(h){h=h.target;const E=this.O;E&&As(h)==3?E.j():this.Y(h)},xs.prototype.Y=function(h){try{if(h==this.g)e:{const Re=As(this.g),an=this.g.ya(),ot=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||iC(this.g)))){this.K||Re!=4||an==7||(an==8||ot<=0?zf(3):zf(2)),jw(this);var E=this.g.ca();this.X=E;var P=Q9(this);if(this.o=E==200,q9(this.i,this.v,this.B,this.l,this.S,Re,E),this.o){if(this.U&&!this.L){t:{if(this.g){var M,U=this.g;if((M=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(M)){var H=M;break t}}H=null}if(h=H)Pu(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lw(this,h);else{this.o=!1,this.m=3,Jn(12),il(this),Kf(this);break e}}if(this.R){h=!0;let mn;for(;!this.K&&this.C<P.length;)if(mn=X9(this,P),mn==Dw){Re==4&&(this.m=4,Jn(14),h=!1),Pu(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==LP){this.m=4,Jn(15),Pu(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Pu(this.i,this.l,mn,null),Lw(this,mn);if(FP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||P.length!=0||this.h.h||(this.m=1,Jn(16),h=!1),this.o=this.o&&h,!h)Pu(this.i,this.l,P,"[Invalid Chunked Response]"),il(this),Kf(this);else if(P.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Hw(oe),oe.P=!0,Jn(11))}}else Pu(this.i,this.l,P,null),Lw(this,P);Re==4&&il(this),this.o&&!this.K&&(Re==4?fC(this.j,this):(this.o=!1,Kp(this)))}else d5(this.g),E==400&&P.indexOf("Unknown SID")>0?(this.m=3,Jn(12)):(this.m=0,Jn(13)),il(this),Kf(this)}}}catch{}finally{}};function Q9(h){if(!FP(h))return h.g.la();const E=iC(h.g);if(E==="")return"";let P="";const M=E.length,U=As(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return il(h),Kf(h),"";h.h.i=new s.TextDecoder}for(let H=0;H<M;H++)h.h.h=!0,P+=h.h.i.decode(E[H],{stream:!(U&&H==M-1)});return E.length=0,h.h.g+=P,h.C=0,h.h.g}function FP(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function X9(h,E){var P=h.C,M=E.indexOf(`
`,P);return M==-1?Dw:(P=Number(E.substring(P,M)),isNaN(P)?LP:(M+=1,M+P>E.length?Dw:(E=E.slice(M,M+P),h.C=M+P,E)))}xs.prototype.cancel=function(){this.K=!0,il(this)};function Kp(h){h.T=Date.now()+h.H,VP(h,h.H)}function VP(h,E){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Bf(u(h.aa,h),E)}function jw(h){h.D&&(s.clearTimeout(h.D),h.D=null)}xs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(G9(this.i,this.B),this.M!=2&&(zf(),Jn(17)),il(this),this.m=2,Kf(this)):VP(this,this.T-h)};function Kf(h){h.j.I==0||h.K||fC(h.j,h)}function il(h){jw(h);var E=h.O;E&&typeof E.dispose=="function"&&E.dispose(),h.O=null,Ye(h.V),h.g&&(E=h.g,h.g=null,E.abort(),E.dispose())}function Lw(h,E){try{var P=h.j;if(P.I!=0&&(P.g==h||$w(P.h,h))){if(!h.L&&$w(P.h,h)&&P.I==3){try{var M=P.Ba.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var U=M;if(U[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<h.F)Xp(P),Zp(P);else break e;Ww(P),Jn(18)}}else P.xa=U[1],0<P.xa-P.K&&U[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Bf(u(P.Va,P),6e3));BP(P.h)<=1&&P.ta&&(P.ta=void 0)}else sl(P,11)}else if((h.L||P.g==h)&&Xp(P),!R(E))for(U=P.Ba.g.parse(E),E=0;E<U.length;E++){let ot=U[E];const mn=ot[0];if(!(mn<=P.K))if(P.K=mn,ot=ot[1],P.I==2)if(ot[0]=="c"){P.M=ot[1],P.ba=ot[2];const Ji=ot[3];Ji!=null&&(P.ka=Ji,P.j.info("VER="+P.ka));const al=ot[4];al!=null&&(P.za=al,P.j.info("SVER="+P.za));const Ts=ot[5];Ts!=null&&typeof Ts=="number"&&Ts>0&&(M=1.5*Ts,P.O=M,P.j.info("backChannelRequestTimeoutMs_="+M)),M=P;const Ps=h.g;if(Ps){const em=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(em){var H=M.h;H.g||em.indexOf("spdy")==-1&&em.indexOf("quic")==-1&&em.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fw(H,H.h),H.h=null))}if(M.G){const Kw=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Kw&&(M.wa=Kw,mt(M.J,M.G,Kw))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-h.F,P.j.info("Handshake RTT: "+P.T+"ms")),M=P;var oe=h;if(M.na=pC(M,M.L?M.ba:null,M.W),oe.L){WP(M.h,oe);var Re=oe,an=M.O;an&&(Re.H=an),Re.D&&(jw(Re),Kp(Re)),M.g=oe}else uC(M);P.i.length>0&&Qp(P)}else ot[0]!="stop"&&ot[0]!="close"||sl(P,7);else P.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?sl(P,7):Bw(P):ot[0]!="noop"&&P.l&&P.l.qa(ot),P.A=0)}}zf(4)}catch{}}var J9=class{constructor(h,E){this.g=h,this.map=E}};function UP(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zP(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function BP(h){return h.h?1:h.g?h.g.size:0}function $w(h,E){return h.h?h.h==E:h.g?h.g.has(E):!1}function Fw(h,E){h.g?h.g.add(E):h.h=E}function WP(h,E){h.h&&h.h==E?h.h=null:h.g&&h.g.has(E)&&h.g.delete(E)}UP.prototype.cancel=function(){if(this.i=HP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function HP(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let E=h.i;for(const P of h.g.values())E=E.concat(P.G);return E}return p(h.i)}var KP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e5(h,E){if(h){h=h.split("&");for(let P=0;P<h.length;P++){const M=h[P].indexOf("=");let U,H=null;M>=0?(U=h[P].substring(0,M),H=h[P].substring(M+1)):U=h[P],E(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Es(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;h instanceof Es?(this.l=h.l,qf(this,h.j),this.o=h.o,this.g=h.g,Gf(this,h.u),this.h=h.h,Vw(this,XP(h.i)),this.m=h.m):h&&(E=String(h).match(KP))?(this.l=!1,qf(this,E[1]||"",!0),this.o=Yf(E[2]||""),this.g=Yf(E[3]||"",!0),Gf(this,E[4]),this.h=Yf(E[5]||"",!0),Vw(this,E[6]||"",!0),this.m=Yf(E[7]||"")):(this.l=!1,this.i=new Qf(null,this.l))}Es.prototype.toString=function(){const h=[];var E=this.j;E&&h.push(Zf(E,qP,!0),":");var P=this.g;return(P||E=="file")&&(h.push("//"),(E=this.o)&&h.push(Zf(E,qP,!0),"@"),h.push(Hf(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&h.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&h.push("/"),h.push(Zf(P,P.charAt(0)=="/"?r5:n5,!0))),(P=this.i.toString())&&h.push("?",P),(P=this.m)&&h.push("#",Zf(P,o5)),h.join("")},Es.prototype.resolve=function(h){const E=Xi(this);let P=!!h.j;P?qf(E,h.j):P=!!h.o,P?E.o=h.o:P=!!h.g,P?E.g=h.g:P=h.u!=null;var M=h.h;if(P)Gf(E,h.u);else if(P=!!h.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var U=E.h.lastIndexOf("/");U!=-1&&(M=E.h.slice(0,U+1)+M)}if(U=M,U==".."||U==".")M="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){M=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let oe=0;oe<U.length;){const Re=U[oe++];Re=="."?M&&oe==U.length&&H.push(""):Re==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),M&&oe==U.length&&H.push("")):(H.push(Re),M=!0)}M=H.join("/")}else M=U}return P?E.h=M:P=h.i.toString()!=="",P?Vw(E,XP(h.i)):P=!!h.m,P&&(E.m=h.m),E};function Xi(h){return new Es(h)}function qf(h,E,P){h.j=P?Yf(E,!0):E,h.j&&(h.j=h.j.replace(/:$/,""))}function Gf(h,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);h.u=E}else h.u=null}function Vw(h,E,P){E instanceof Qf?(h.i=E,s5(h.i,h.l)):(P||(E=Zf(E,i5)),h.i=new Qf(E,h.l))}function mt(h,E,P){h.i.set(E,P)}function qp(h){return mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yf(h,E){return h?E?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zf(h,E,P){return typeof h=="string"?(h=encodeURI(h).replace(E,t5),P&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function t5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qP=/[#\/\?@]/g,n5=/[#\?:]/g,r5=/[#\?]/g,i5=/[#\?@]/g,o5=/#/g;function Qf(h,E){this.h=this.g=null,this.i=h||null,this.j=!!E}function ol(h){h.g||(h.g=new Map,h.h=0,h.i&&e5(h.i,function(E,P){h.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}e=Qf.prototype,e.add=function(h,E){ol(this),this.i=null,h=Cu(this,h);let P=this.g.get(h);return P||this.g.set(h,P=[]),P.push(E),this.h+=1,this};function GP(h,E){ol(h),E=Cu(h,E),h.g.has(E)&&(h.i=null,h.h-=h.g.get(E).length,h.g.delete(E))}function YP(h,E){return ol(h),E=Cu(h,E),h.g.has(E)}e.forEach=function(h,E){ol(this),this.g.forEach(function(P,M){P.forEach(function(U){h.call(E,U,M,this)},this)},this)};function ZP(h,E){ol(h);let P=[];if(typeof E=="string")YP(h,E)&&(P=P.concat(h.g.get(Cu(h,E))));else for(h=Array.from(h.g.values()),E=0;E<h.length;E++)P=P.concat(h[E]);return P}e.set=function(h,E){return ol(this),this.i=null,h=Cu(this,h),YP(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[E]),this.h+=1,this},e.get=function(h,E){return h?(h=ZP(this,h),h.length>0?String(h[0]):E):E};function QP(h,E,P){GP(h,E),P.length>0&&(h.i=null,h.g.set(Cu(h,E),p(P)),h.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],E=Array.from(this.g.keys());for(let M=0;M<E.length;M++){var P=E[M];const U=Hf(P);P=ZP(this,P);for(let H=0;H<P.length;H++){let oe=U;P[H]!==""&&(oe+="="+Hf(P[H])),h.push(oe)}}return this.i=h.join("&")};function XP(h){const E=new Qf;return E.i=h.i,h.g&&(E.g=new Map(h.g),E.h=h.h),E}function Cu(h,E){return E=String(E),h.j&&(E=E.toLowerCase()),E}function s5(h,E){E&&!h.j&&(ol(h),h.i=null,h.g.forEach(function(P,M){const U=M.toLowerCase();M!=U&&(GP(this,M),QP(this,U,P))},h)),h.j=E}function a5(h,E){const P=new Wf;if(s.Image){const M=new Image;M.onload=c(Ss,P,"TestLoadImage: loaded",!0,E,M),M.onerror=c(Ss,P,"TestLoadImage: error",!1,E,M),M.onabort=c(Ss,P,"TestLoadImage: abort",!1,E,M),M.ontimeout=c(Ss,P,"TestLoadImage: timeout",!1,E,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else E(!1)}function l5(h,E){const P=new Wf,M=new AbortController,U=setTimeout(()=>{M.abort(),Ss(P,"TestPingServer: timeout",!1,E)},1e4);fetch(h,{signal:M.signal}).then(H=>{clearTimeout(U),H.ok?Ss(P,"TestPingServer: ok",!0,E):Ss(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(U),Ss(P,"TestPingServer: error",!1,E)})}function Ss(h,E,P,M,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),M(P)}catch{}}function u5(){this.g=new Tu}function Uw(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Uw,Ei),Uw.prototype.g=function(){return new Gp(this.i,this.h)};function Gp(h,E){bt.call(this),this.H=h,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Gp,bt),e=Gp.prototype,e.open=function(h,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=E,this.readyState=1,Jf(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(E.body=h),(this.H||s).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xf(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jf(this)),this.g&&(this.readyState=3,Jf(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;JP(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function JP(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var E=h.value?h.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!h.done}))&&(this.response=this.responseText+=E)}h.done?Xf(this):Jf(this),this.readyState==3&&JP(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Xf(this))},e.Na=function(h){this.g&&(this.response=h,Xf(this))},e.ga=function(){this.g&&Xf(this)};function Xf(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jf(h)}e.setRequestHeader=function(h,E){this.A.append(h,E)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,h.push(P[0]+": "+P[1]),P=E.next();return h.join(`\r
`)};function Jf(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function eC(h){let E="";return W(h,function(P,M){E+=M,E+=":",E+=P,E+=`\r
`}),E}function zw(h,E,P){e:{for(M in P){var M=!1;break e}M=!0}M||(P=eC(P),typeof h=="string"?P!=null&&Hf(P):mt(h,E,P))}function Nt(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Nt,bt);var c5=/^https?$/i,f5=["POST","PUT"];e=Nt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,E,P,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);E=E?E.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():MP.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(E,String(h),!0),this.B=!1}catch(H){tC(this,H);return}if(h=P||"",P=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var U in M)P.set(U,M[U]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const H of M.keys())P.set(H,M.get(H));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(P.keys()).find(H=>H.toLowerCase()=="content-type"),U=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(f5,E,void 0)>=0)||M||U||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of P)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){tC(this,H)}};function tC(h,E){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=E,h.o=5,nC(h),Yp(h)}function nC(h){h.A||(h.A=!0,j(h,"complete"),j(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,j(this,"complete"),j(this,"abort"),Yp(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yp(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?rC(this):this.Xa())},e.Xa=function(){rC(this)};function rC(h){if(h.h&&typeof o<"u"){if(h.v&&As(h)==4)setTimeout(h.Ca.bind(h),0);else if(j(h,"readystatechange"),As(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var M;if(M=H===0){let oe=String(h.D).match(KP)[1]||null;!oe&&s.self&&s.self.location&&(oe=s.self.location.protocol.slice(0,-1)),M=!c5.test(oe?oe.toLowerCase():"")}P=M}if(P)j(h,"complete"),j(h,"success");else{h.o=6;try{var U=As(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",nC(h)}}finally{Yp(h)}}}}function Yp(h,E){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const P=h.g;h.g=null,E||j(h,"ready");try{P.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function As(h){return h.g?h.g.readyState:0}e.ca=function(){try{return As(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var E=this.g.responseText;return h&&E.indexOf(h)==0&&(E=E.substring(h.length)),hr(E)}};function iC(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function d5(h){const E={};h=(h.g&&As(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(R(h[M]))continue;var P=Z9(h[M]);const U=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const H=E[U]||[];E[U]=H,H.push(P)}Q(E,function(M){return M.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ed(h,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[h]||E}function oC(h){this.za=0,this.i=[],this.j=new Wf,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ed("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ed("baseRetryDelayMs",5e3,h),this.Za=ed("retryDelaySeedMs",1e4,h),this.Ta=ed("forwardChannelMaxRetries",2,h),this.va=ed("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new UP(h&&h.concurrentRequestLimit),this.Ba=new u5,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=oC.prototype,e.ka=8,e.I=1,e.connect=function(h,E,P,M){Jn(0),this.W=h,this.H=E||{},P&&M!==void 0&&(this.H.OSID=P,this.H.OAID=M),this.F=this.X,this.J=pC(this,null,this.W),Qp(this)};function Bw(h){if(sC(h),h.I==3){var E=h.V++,P=Xi(h.J);if(mt(P,"SID",h.M),mt(P,"RID",E),mt(P,"TYPE","terminate"),td(h,P),E=new xs(h,h.j,E),E.M=2,E.A=qp(Xi(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(E.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=E.A,P=!0),P||(E.g=mC(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Kp(E)}hC(h)}function Zp(h){h.g&&(Hw(h),h.g.cancel(),h.g=null)}function sC(h){Zp(h),h.v&&(s.clearTimeout(h.v),h.v=null),Xp(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Qp(h){if(!zP(h.h)&&!h.m){h.m=!0;var E=h.Ea;C||T(),N||(C(),N=!0),S.add(E,h),h.D=0}}function h5(h,E){return BP(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=E.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Bf(u(h.Ea,h,E),dC(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new xs(this,this.j,h);let H=this.o;if(this.U&&(H?(H=fe(H),De(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var M=this.i[P];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,E>4096){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=lC(this,U,E),P=Xi(this.J),mt(P,"RID",h),mt(P,"CVER",22),this.G&&mt(P,"X-HTTP-Session-Id",this.G),td(this,P),H&&(this.R?E="headers="+Hf(eC(H))+"&"+E:this.u&&zw(P,this.u,H)),Fw(this.h,U),this.Ra&&mt(P,"TYPE","init"),this.S?(mt(P,"$req",E),mt(P,"SID","null"),U.U=!0,Mw(U,P,null)):Mw(U,P,E),this.I=2}}else this.I==3&&(h?aC(this,h):this.i.length==0||zP(this.h)||aC(this))};function aC(h,E){var P;E?P=E.l:P=h.V++;const M=Xi(h.J);mt(M,"SID",h.M),mt(M,"RID",P),mt(M,"AID",h.K),td(h,M),h.u&&h.o&&zw(M,h.u,h.o),P=new xs(h,h.j,P,h.D+1),h.u===null&&(P.J=h.o),E&&(h.i=E.G.concat(h.i)),E=lC(h,P,1e3),P.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Fw(h.h,P),Mw(P,M,E)}function td(h,E){h.H&&W(h.H,function(P,M){mt(E,M,P)}),h.l&&W({},function(P,M){mt(E,M,P)})}function lC(h,E,P){P=Math.min(h.i.length,P);const M=h.l?u(h.l.Ka,h.l,h):null;e:{var U=h.i;let Re=-1;for(;;){const an=["count="+P];Re==-1?P>0?(Re=U[0].g,an.push("ofs="+Re)):Re=0:an.push("ofs="+Re);let ot=!0;for(let mn=0;mn<P;mn++){var H=U[mn].g;const Ji=U[mn].map;if(H-=Re,H<0)Re=Math.max(0,U[mn].g-100),ot=!1;else try{H="req"+H+"_"||"";try{var oe=Ji instanceof Map?Ji:Object.entries(Ji);for(const[al,Ts]of oe){let Ps=Ts;a(Ts)&&(Ps=Je(Ts)),an.push(H+al+"="+encodeURIComponent(Ps))}}catch(al){throw an.push(H+"type="+encodeURIComponent("_badmap")),al}}catch{M&&M(Ji)}}if(ot){oe=an.join("&");break e}}oe=void 0}return h=h.i.splice(0,P),E.G=h,oe}function uC(h){if(!h.g&&!h.v){h.Y=1;var E=h.Da;C||T(),N||(C(),N=!0),S.add(E,h),h.A=0}}function Ww(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Bf(u(h.Da,h),dC(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,cC(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Bf(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jn(10),Zp(this),cC(this))};function Hw(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function cC(h){h.g=new xs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var E=Xi(h.na);mt(E,"RID","rpc"),mt(E,"SID",h.M),mt(E,"AID",h.K),mt(E,"CI",h.F?"0":"1"),!h.F&&h.ia&&mt(E,"TO",h.ia),mt(E,"TYPE","xmlhttp"),td(h,E),h.u&&h.o&&zw(E,h.u,h.o),h.O&&(h.g.H=h.O);var P=h.g;h=h.ba,P.M=1,P.A=qp(Xi(E)),P.u=null,P.R=!0,$P(P,h)}e.Va=function(){this.C!=null&&(this.C=null,Zp(this),Ww(this),Jn(19))};function Xp(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function fC(h,E){var P=null;if(h.g==E){Xp(h),Hw(h),h.g=null;var M=2}else if($w(h.h,E))P=E.G,WP(h.h,E),M=1;else return;if(h.I!=0){if(E.o)if(M==1){P=E.u?E.u.length:0,E=Date.now()-E.F;var U=h.D;M=rl(),j(M,new NP(M,P)),Qp(h)}else uC(h);else if(U=E.m,U==3||U==0&&E.X>0||!(M==1&&h5(h,E)||M==2&&Ww(h)))switch(P&&P.length>0&&(E=h.h,E.i=E.i.concat(P)),U){case 1:sl(h,5);break;case 4:sl(h,10);break;case 3:sl(h,6);break;default:sl(h,2)}}}function dC(h,E){let P=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(P*=2),P*E}function sl(h,E){if(h.j.info("Error code "+E),E==2){var P=u(h.bb,h),M=h.Ua;const U=!M;M=new Es(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||qf(M,"https"),qp(M),U?a5(M.toString(),P):l5(M.toString(),P)}else Jn(2);h.I=0,h.l&&h.l.pa(E),hC(h),sC(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Jn(2)):(this.j.info("Failed to ping google.com"),Jn(1))};function hC(h){if(h.I=0,h.ja=[],h.l){const E=HP(h.h);(E.length!=0||h.i.length!=0)&&(v(h.ja,E),v(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function pC(h,E,P){var M=P instanceof Es?Xi(P):new Es(P);if(M.g!="")E&&(M.g=E+"."+M.g),Gf(M,M.u);else{var U=s.location;M=U.protocol,E=E?E+"."+U.hostname:U.hostname,U=+U.port;const H=new Es(null);M&&qf(H,M),E&&(H.g=E),U&&Gf(H,U),P&&(H.h=P),M=H}return P=h.G,E=h.wa,P&&E&&mt(M,P,E),mt(M,"VER",h.ka),td(h,M),M}function mC(h,E,P){if(E&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=h.Aa&&!h.ma?new Nt(new Uw({ab:P})):new Nt(h.ma),E.Fa(h.L),E}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gC(){}e=gC.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Jp(){}Jp.prototype.g=function(h,E){return new Nr(h,E)};function Nr(h,E){bt.call(this),this.g=new oC(E),this.l=h,this.h=E&&E.messageUrlParams||null,h=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(h?h["X-WebChannel-Content-Type"]=E.messageContentType:h={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(h?h["X-WebChannel-Client-Profile"]=E.sa:h={"X-WebChannel-Client-Profile":E.sa}),this.g.U=h,(h=E&&E.Qb)&&!R(h)&&(this.g.u=h),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.G=E,h=this.h,h!==null&&E in h&&(h=this.h,E in h&&delete h[E])),this.j=new Iu(this)}f(Nr,bt),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Bw(this.g)},Nr.prototype.o=function(h){var E=this.g;if(typeof h=="string"){var P={};P.__data__=h,h=P}else this.v&&(P={},P.__data__=Je(h),h=P);E.i.push(new J9(E.Ya++,h)),E.I==3&&Qp(E)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Bw(this.g),delete this.g,Nr.Z.N.call(this)};function vC(h){nl.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var E=h.__sm__;if(E){e:{for(const P in E){h=P;break e}h=void 0}(this.i=h)&&(h=this.i,E=E!==null&&h in E?E[h]:void 0),this.data=E}else this.data=h}f(vC,nl);function yC(){Uf.call(this),this.status=1}f(yC,Uf);function Iu(h){this.g=h}f(Iu,gC),Iu.prototype.ra=function(){j(this.g,"a")},Iu.prototype.qa=function(h){j(this.g,new vC(h))},Iu.prototype.pa=function(h){j(this.g,new yC)},Iu.prototype.oa=function(){j(this.g,"b")},Jp.prototype.createWebChannel=Jp.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,q$=function(){return new Jp},K$=function(){return rl()},H$=Qi,Vx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hp.NO_ERROR=0,Hp.TIMEOUT=8,Hp.HTTP_ERROR=6,bg=Hp,DP.COMPLETE="complete",W$=DP,Bp.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Pd=Bp,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,B$=Nt}).apply(typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{});const ok="@firebase/firestore",sk="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new O1("@firebase/firestore");function Lu(){return eu.logLevel}function de(e,...t){if(eu.logLevel<=$e.DEBUG){const n=t.map(U1);eu.debug(`Firestore (${bf}): ${e}`,...n)}}function rs(e,...t){if(eu.logLevel<=$e.ERROR){const n=t.map(U1);eu.error(`Firestore (${bf}): ${e}`,...n)}}function Uc(e,...t){if(eu.logLevel<=$e.WARN){const n=t.map(U1);eu.warn(`Firestore (${bf}): ${e}`,...n)}}function U1(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,G$(e,r,n)}function G$(e,t,n){let r=`FIRESTORE (${bf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function He(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||G$(t,i,r)}function Pe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hs{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Aee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Wn.UNAUTHENTICATED))}shutdown(){}}class Tee{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pee{constructor(t){this.t=t,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){He(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new go;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new go,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new go)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new Y$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new Wn(t)}}class Cee{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Iee{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cee(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ak{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oee{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){He(this.o===void 0,3512);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ak(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ak(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function Fe(e,t){return e<t?-1:e>t?1:0}function Ux(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),o=t.charAt(r);if(i!==o)return k_(i)===k_(o)?Fe(i,o):k_(i)?1:-1}return Fe(e.length,t.length)}const Ree=55296,Nee=57343;function k_(e){const t=e.charCodeAt(0);return t>=Ree&&t<=Nee}function zc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="__name__";class ro{constructor(t,n,r){n===void 0?n=0:n>t.length&&Se(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Se(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ro.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ro?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=ro.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return Fe(t.length,n.length)}static compareSegments(t,n){const r=ro.isNumericId(t),i=ro.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ro.extractNumericId(t).compare(ro.extractNumericId(n)):Ux(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ya.fromString(t.substring(4,t.length-2))}}class it extends ro{construct(t,n,r){return new it(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ae(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const Dee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends ro{construct(t,n,r){return new Dn(t,n,r)}static isValidIdentifier(t){return Dee.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lk}static keyField(){return new Dn([lk])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ae(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.path=t}static fromPath(t){return new be(it.fromString(t))}static fromName(t){return new be(it.fromString(t).popFirst(5))}static empty(){return new be(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&it.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return it.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new be(new it(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(e,t,n){if(!n)throw new ae(Z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mee(e,t,n,r){if(t===!0&&r===!0)throw new ae(Z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function uk(e){if(!be.isDocumentKey(e))throw new ae(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ck(e){if(be.isDocumentKey(e))throw new ae(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Q$(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function r0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Se(12329,{type:typeof e})}function Qr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ae(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=r0(e);throw new ae(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function jee(e,t){if(t<=0)throw new ae(Z.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e,t){const n={typeString:e};return t&&(n.value=t),n}function cp(e,t){if(!Q$(e))throw new ae(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ae(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=-62135596800,dk=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*dk);return new ze(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fk)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dk}_compareTo(t){return this.seconds===t.seconds?Fe(this.nanoseconds,t.nanoseconds):Fe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cp(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fk;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:en("string",ze._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(t){return new Ae(t)}static min(){return new Ae(new ze(0,0))}static max(){return new Ae(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=-1;function Lee(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Aa(i,be.empty(),t)}function $ee(e){return new Aa(e.readTime,e.key,Eh)}class Aa{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(Ae.min(),be.empty(),Eh)}static max(){return new Aa(Ae.max(),be.empty(),Eh)}}function Fee(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=be.comparator(e.documentKey,t.documentKey),n!==0?n:Fe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(e){if(e.code!==Z.FAILED_PRECONDITION||e.message!==Vee)throw e;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,r)=>{n(t)})}static reject(t){return new J((n,r)=>{r(t)})}static waitFor(t){return new J((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new J((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new J((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function zee(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ef(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}i0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=-1;function fp(e){return e==null}function xv(e){return e===0&&1/e==-1/0}function Bee(e){return typeof e=="number"&&Number.isInteger(e)&&!xv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="";function Wee(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hk(t)),t=Hee(e.get(n),t);return hk(t)}function Hee(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case X$:n+="";break;default:n+=o}}return n}function hk(e){return e+X$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(t,n){this.comparator=t,this.root=n||Rn.EMPTY}insert(t,n){return new kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pm(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pm(this.root,t,this.comparator,!0)}}class Pm{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Rn(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Se(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,n,r,i,o){return this}insert(t,n,r){return new Rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.comparator=t,this.data=new kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mk(this.data.getIterator())}getIteratorFrom(t){return new mk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof dn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new dn(this.comparator);return n.data=t,n}}class mk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new Wr([])}unionWith(t){let n=new dn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Wr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eF("Invalid base64 string: "+o):o}}(t);return new Fn(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Fn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Fe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const Kee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(e){if(He(!!e,39018),typeof e=="string"){let t=0;const n=Kee.exec(e);if(He(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Pa(e){return typeof e=="string"?Fn.fromBase64String(e):Fn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="server_timestamp",nF="__type__",rF="__previous_value__",iF="__local_write_time__";function W1(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[nF])==null?void 0:r.stringValue)===tF}function o0(e){const t=e.mapValue.fields[rF];return W1(t)?o0(t):t}function Sh(e){const t=Ta(e.mapValue.fields[iF].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(t,n,r,i,o,s,a,l,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ev="(default)";class Ah{constructor(t,n){this.projectId=t,this.database=n||Ev}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===Ev}isEqual(t){return t instanceof Ah&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="__type__",Gee="__max__",Cm={mapValue:{}},sF="__vector__",Sv="value";function Ca(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?W1(e)?4:Zee(e)?9007199254740991:Yee(e)?10:11:Se(28295,{value:e})}function xo(e,t){if(e===t)return!0;const n=Ca(e);if(n!==Ca(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sh(e).isEqual(Sh(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ta(i.timestampValue),a=Ta(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Pa(i.bytesValue).isEqual(Pa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),a=Vt(o.doubleValue);return s===a?xv(s)===xv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return zc(e.arrayValue.values||[],t.arrayValue.values||[],xo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pk(s)!==pk(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xo(s[l],a[l])))return!1;return!0}(e,t);default:return Se(52216,{left:e})}}function Th(e,t){return(e.values||[]).find(n=>xo(n,t))!==void 0}function Bc(e,t){if(e===t)return 0;const n=Ca(e),r=Ca(t);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Vt(o.integerValue||o.doubleValue),l=Vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return gk(e.timestampValue,t.timestampValue);case 4:return gk(Sh(e),Sh(t));case 5:return Ux(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Pa(o),l=Pa(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Fe(a[u],l[u]);if(c!==0)return c}return Fe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Fe(Vt(o.latitude),Vt(s.latitude));return a!==0?a:Fe(Vt(o.longitude),Vt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return vk(e.arrayValue,t.arrayValue);case 10:return function(o,s){var d,p,v,m;const a=o.fields||{},l=s.fields||{},u=(d=a[Sv])==null?void 0:d.arrayValue,c=(p=l[Sv])==null?void 0:p.arrayValue,f=Fe(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((m=c==null?void 0:c.values)==null?void 0:m.length)||0);return f!==0?f:vk(u,c)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===Cm.mapValue&&s===Cm.mapValue)return 0;if(o===Cm.mapValue)return 1;if(s===Cm.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Ux(l[f],c[f]);if(d!==0)return d;const p=Bc(a[l[f]],u[c[f]]);if(p!==0)return p}return Fe(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Se(23264,{he:n})}}function gk(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Fe(e,t);const n=Ta(e),r=Ta(t),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function vk(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Bc(n[i],r[i]);if(o)return o}return Fe(n.length,r.length)}function Wc(e){return zx(e)}function zx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ta(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Pa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return be.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zx(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zx(n.fields[s])}`;return i+"}"}(e.mapValue):Se(61005,{value:e})}function xg(e){switch(Ca(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=o0(e);return t?16+xg(t):16;case 5:return 2*e.stringValue.length;case 6:return Pa(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+xg(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Ha(r.fields,(o,s)=>{i+=o.length+xg(s)}),i}(e.mapValue);default:throw Se(13486,{value:e})}}function yk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bx(e){return!!e&&"integerValue"in e}function H1(e){return!!e&&"arrayValue"in e}function wk(e){return!!e&&"nullValue"in e}function _k(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eg(e){return!!e&&"mapValue"in e}function Yee(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[oF])==null?void 0:r.stringValue)===sF}function Kd(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Kd(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kd(e.arrayValue.values[n]);return t}return{...e}}function Zee(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Gee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.value=t}static empty(){return new ar({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Eg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kd(n)}setAll(t){let n=Dn.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Kd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ha(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new ar(Kd(this.value))}}function aF(e){const t=[];return Ha(e.fields,(n,r)=>{const i=new Dn([n]);if(Eg(r)){const o=aF(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Wr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new En(t,0,Ae.min(),Ae.min(),Ae.min(),ar.empty(),0)}static newFoundDocument(t,n,r,i){return new En(t,1,n,Ae.min(),r,i,0)}static newNoDocument(t,n){return new En(t,2,n,Ae.min(),Ae.min(),ar.empty(),0)}static newUnknownDocument(t,n){return new En(t,3,n,Ae.min(),Ae.min(),ar.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n){this.position=t,this.inclusive=n}}function bk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),n.key):r=Bc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xk(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qee(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{}class Xt extends lF{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Jee(t,n,r):n==="array-contains"?new nte(t,r):n==="in"?new rte(t,r):n==="not-in"?new ite(t,r):n==="array-contains-any"?new ote(t,r):new Xt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new ete(t,r):new tte(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bc(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(Bc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends lF{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new zi(t,n)}matches(t){return uF(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uF(e){return e.op==="and"}function cF(e){return Xee(e)&&uF(e)}function Xee(e){for(const t of e.filters)if(t instanceof zi)return!1;return!0}function Wx(e){if(e instanceof Xt)return e.field.canonicalString()+e.op.toString()+Wc(e.value);if(cF(e))return e.filters.map(t=>Wx(t)).join(",");{const t=e.filters.map(n=>Wx(n)).join(",");return`${e.op}(${t})`}}function fF(e,t){return e instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&xo(r.value,i.value)}(e,t):e instanceof zi?function(r,i){return i instanceof zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&fF(s,i.filters[a]),!0):!1}(e,t):void Se(19439)}function dF(e){return e instanceof Xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wc(n.value)}`}(e):e instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(dF).join(" ,")+"}"}(e):"Filter"}class Jee extends Xt{constructor(t,n,r){super(t,n,r),this.key=be.fromName(r.referenceValue)}matches(t){const n=be.comparator(t.key,this.key);return this.matchesComparison(n)}}class ete extends Xt{constructor(t,n){super(t,"in",n),this.keys=hF("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tte extends Xt{constructor(t,n){super(t,"not-in",n),this.keys=hF("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function hF(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class nte extends Xt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return H1(n)&&Th(n.arrayValue,this.value)}}class rte extends Xt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Th(this.value.arrayValue,n)}}class ite extends Xt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Th(this.value.arrayValue,n)}}class ote extends Xt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!H1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function Ek(e,t=null,n=[],r=[],i=null,o=null,s=null){return new ste(e,t,n,r,i,o,s)}function K1(e){const t=Pe(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Wx(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Wc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Wc(r)).join(",")),t.Te=n}return t.Te}function q1(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Qee(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fF(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xk(e.startAt,t.startAt)&&xk(e.endAt,t.endAt)}function Hx(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ate(e,t,n,r,i,o,s,a){return new Sf(e,t,n,r,i,o,s,a)}function G1(e){return new Sf(e)}function Sk(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pF(e){return e.collectionGroup!==null}function qd(e){const t=Pe(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dn(Dn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Ph(o,r))}),n.has(Dn.keyField().canonicalString())||t.Ie.push(new Ph(Dn.keyField(),r))}return t.Ie}function vo(e){const t=Pe(e);return t.Ee||(t.Ee=lte(t,qd(e))),t.Ee}function lte(e,t){if(e.limitType==="F")return Ek(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ph(i.field,o)});const n=e.endAt?new Av(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Av(e.startAt.position,e.startAt.inclusive):null;return Ek(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kx(e,t){const n=e.filters.concat([t]);return new Sf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tv(e,t,n){return new Sf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function s0(e,t){return q1(vo(e),vo(t))&&e.limitType===t.limitType}function mF(e){return`${K1(vo(e))}|lt:${e.limitType}`}function $u(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dF(i)).join(", ")}]`),fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wc(i)).join(",")),`Target(${r})`}(vo(e))}; limitType=${e.limitType})`}function a0(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of qd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=bk(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,qd(r),i)||r.endAt&&!function(s,a,l){const u=bk(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,qd(r),i))}(e,t)}function ute(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gF(e){return(t,n)=>{let r=!1;for(const i of qd(e)){const o=cte(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cte(e,t,n){const r=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Bc(l,u):Se(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ha(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return J$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=new kt(be.comparator);function is(){return fte}const vF=new kt(be.comparator);function Cd(...e){let t=vF;for(const n of e)t=t.insert(n.key,n);return t}function yF(e){let t=vF;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function _l(){return Gd()}function wF(){return Gd()}function Gd(){return new _u(e=>e.toString(),(e,t)=>e.isEqual(t))}const dte=new kt(be.comparator),hte=new dn(be.comparator);function Ve(...e){let t=hte;for(const n of e)t=t.add(n);return t}const pte=new dn(Fe);function mte(){return pte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xv(t)?"-0":t}}function _F(e){return{integerValue:""+e}}function gte(e,t){return Bee(t)?_F(t):Y1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function vte(e,t,n){return e instanceof Ch?function(i,o){const s={fields:{[nF]:{stringValue:tF},[iF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&W1(o)&&(o=o0(o)),o&&(s.fields[rF]=o),{mapValue:s}}(n,t):e instanceof Ih?xF(e,t):e instanceof Oh?EF(e,t):function(i,o){const s=bF(i,o),a=Ak(s)+Ak(i.Ae);return Bx(s)&&Bx(i.Ae)?_F(a):Y1(i.serializer,a)}(e,t)}function yte(e,t,n){return e instanceof Ih?xF(e,t):e instanceof Oh?EF(e,t):n}function bF(e,t){return e instanceof Pv?function(r){return Bx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Ch extends l0{}class Ih extends l0{constructor(t){super(),this.elements=t}}function xF(e,t){const n=SF(t);for(const r of e.elements)n.some(i=>xo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oh extends l0{constructor(t){super(),this.elements=t}}function EF(e,t){let n=SF(t);for(const r of e.elements)n=n.filter(i=>!xo(i,r));return{arrayValue:{values:n}}}class Pv extends l0{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Ak(e){return Vt(e.integerValue||e.doubleValue)}function SF(e){return H1(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(t,n){this.field=t,this.transform=n}}function _te(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Ih&&i instanceof Ih||r instanceof Oh&&i instanceof Oh?zc(r.elements,i.elements,xo):r instanceof Pv&&i instanceof Pv?xo(r.Ae,i.Ae):r instanceof Ch&&i instanceof Ch}(e.transform,t.transform)}class bte{constructor(t,n){this.version=t,this.transformResults=n}}class Jt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Jt}static exists(t){return new Jt(void 0,t)}static updateTime(t){return new Jt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class u0{}function AF(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hp(e.key,Jt.none()):new dp(e.key,e.data,Jt.none());{const n=e.data,r=ar.empty();let i=new dn(Dn.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ka(e.key,r,new Wr(i.toArray()),Jt.none())}}function xte(e,t,n){e instanceof dp?function(i,o,s){const a=i.value.clone(),l=Pk(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ka?function(i,o,s){if(!Sg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Pk(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(TF(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Yd(e,t,n,r){return e instanceof dp?function(o,s,a,l){if(!Sg(o.precondition,s))return a;const u=o.value.clone(),c=Ck(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ka?function(o,s,a,l){if(!Sg(o.precondition,s))return a;const u=Ck(o.fieldTransforms,l,s),c=s.data;return c.setAll(TF(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(o,s,a){return Sg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function Ete(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=bF(r.transform,i||null);o!=null&&(n===null&&(n=ar.empty()),n.set(r.field,o))}return n||null}function Tk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,(o,s)=>_te(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dp extends u0{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ka extends u0{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function TF(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Pk(e,t,n){const r=new Map;He(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,yte(s,a,n[i]))}return r}function Ck(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,vte(o,s,t))}return r}class hp extends u0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PF extends u0{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&xte(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Yd(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Yd(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=wF();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=AF(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ve())}isEqual(t){return this.batchId===t.batchId&&zc(this.mutations,t.mutations,(n,r)=>Tk(n,r))&&zc(this.baseMutations,t.baseMutations,(n,r)=>Tk(n,r))}}class Z1{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){He(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return dte}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Z1(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ate=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Be;function CF(e){switch(e){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:e})}}function IF(e){if(e===void 0)return rs("GRPC error has no .code"),Z.UNKNOWN;switch(e){case Gt.OK:return Z.OK;case Gt.CANCELLED:return Z.CANCELLED;case Gt.UNKNOWN:return Z.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return Z.INTERNAL;case Gt.UNAVAILABLE:return Z.UNAVAILABLE;case Gt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Gt.NOT_FOUND:return Z.NOT_FOUND;case Gt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Gt.ABORTED:return Z.ABORTED;case Gt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Gt.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:e})}}(Be=Gt||(Gt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte=new ya([4294967295,4294967295],0);function Ik(e){const t=Pte().encode(e),n=new z$;return n.update(t),new Uint8Array(n.digest())}function Ok(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ya([n,r],0),new ya([i,o],0)]}class Q1{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Id(`Invalid padding: ${n}`);if(r<0)throw new Id(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Id(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Id(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ya.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(ya.fromNumber(r)));return i.compare(Cte)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Ik(t),[r,i]=Ok(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Q1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.ge===0)return;const n=Ik(t),[r,i]=Ok(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,pp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new c0(Ae.min(),i,new kt(Fe),is(),Ve())}}class pp{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new pp(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class OF{constructor(t,n){this.targetId=t,this.Ce=n}}class kF{constructor(t,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kk{constructor(){this.ve=0,this.Fe=Rk(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ve(),n=Ve(),r=Ve();return this.Fe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:o})}}),new pp(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Rk()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ite{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.Je=Im(),this.He=Im(),this.Ye=new kt(Fe)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Se(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Hx(o))if(r===0){const s=new be(o.path);this.et(n,s,En.newNoDocument(s,Ae.min()))}else He(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(t),l=a?this.ct(a,t,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Pa(r).toUint8Array()}catch(l){if(l instanceof eF)return Uc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q1(s,i,o)}catch(l){return Uc(l instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Hx(a.target)){const l=new be(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,En.newNoDocument(l,t))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ve();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(t));const i=new c0(t,n,this.Ye,this.je,r);return this.je=is(),this.Je=Im(),this.He=Im(),this.Ye=new kt(Fe),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new kk,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new dn(Fe),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new dn(Fe),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||de("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kk),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Im(){return new kt(be.comparator)}function Rk(){return new kt(be.comparator)}const Ote={asc:"ASCENDING",desc:"DESCENDING"},kte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rte={and:"AND",or:"OR"};class Nte{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qx(e,t){return e.useProto3Json||fp(t)?t:{value:t}}function Cv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RF(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Dte(e,t){return Cv(e,t.toTimestamp())}function qr(e){return He(!!e,49232),Ae.fromTimestamp(function(n){const r=Ta(n);return new ze(r.seconds,r.nanos)}(e))}function X1(e,t){return Gx(e,t).canonicalString()}function Gx(e,t){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function NF(e){const t=it.fromString(e);return He(FF(t),10190,{key:t.toString()}),t}function Iv(e,t){return X1(e.databaseId,t.path)}function Zd(e,t){const n=NF(t);if(n.get(1)!==e.databaseId.projectId)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(MF(n))}function DF(e,t){return X1(e.databaseId,t)}function Mte(e){const t=NF(e);return t.length===4?it.emptyPath():MF(t)}function Yx(e){return new it(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MF(e){return He(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Nk(e,t,n){return{name:Iv(e,t),fields:n.value.mapValue.fields}}function jte(e,t){return"found"in t?function(r,i){He(!!i.found,43571),i.found.name,i.found.updateTime;const o=Zd(r,i.found.name),s=qr(i.found.updateTime),a=i.found.createTime?qr(i.found.createTime):Ae.min(),l=new ar({mapValue:{fields:i.found.fields}});return En.newFoundDocument(o,s,a,l)}(e,t):"missing"in t?function(r,i){He(!!i.missing,3894),He(!!i.readTime,22933);const o=Zd(r,i.missing),s=qr(i.readTime);return En.newNoDocument(o,s)}(e,t):Se(7234,{result:t})}function Lte(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(He(c===void 0||typeof c=="string",58123),Fn.fromBase64String(c||"")):(He(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Fn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Z.UNKNOWN:IF(u.code);return new ae(c,u.message||"")}(s);n=new kF(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zd(e,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):Ae.min(),a=new ar({mapValue:{fields:r.document.fields}}),l=En.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ag(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Zd(e,r.document),o=r.readTime?qr(r.readTime):Ae.min(),s=En.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ag([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Zd(e,r.document),o=r.removedTargetIds||[];n=new Ag([],o,i,null)}else{if(!("filter"in t))return Se(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Tte(i,o),a=r.targetId;n=new OF(a,s)}}return n}function jF(e,t){let n;if(t instanceof dp)n={update:Nk(e,t.key,t.value)};else if(t instanceof hp)n={delete:Iv(e,t.key)};else if(t instanceof Ka)n={update:Nk(e,t.key,t.data),updateMask:Kte(t.fieldMask)};else{if(!(t instanceof PF))return Se(16599,{Vt:t.type});n={verify:Iv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ch)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pv)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Se(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Dte(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)}(e,t.precondition)),n}function $te(e,t){return e&&e.length>0?(He(t!==void 0,14353),e.map(n=>function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(Ae.min())&&(s=qr(o)),new bte(s,i.transformResults||[])}(n,t))):[]}function Fte(e,t){return{documents:[DF(e,t.path)]}}function Vte(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DF(e,i);const o=function(u){if(u.length!==0)return $F(zi.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Fu(d.field),direction:Bte(d.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qx(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function Ute(e){let t=Mte(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=LF(f);return d instanceof zi&&cF(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(v){return new Ph(Vu(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,fp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Av(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Av(p,d)}(n.endAt)),ate(t,i,s,o,a,"F",l,u)}function zte(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function LF(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(n.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vu(n.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(e):e.fieldFilter!==void 0?function(n){return Xt.create(Vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(r=>LF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(e):Se(30097,{filter:e})}function Bte(e){return Ote[e]}function Wte(e){return kte[e]}function Hte(e){return Rte[e]}function Fu(e){return{fieldPath:e.canonicalString()}}function Vu(e){return Dn.fromServerFormat(e.fieldPath)}function $F(e){return e instanceof Xt?function(n){if(n.op==="=="){if(_k(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NAN"}};if(wk(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_k(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NAN"}};if(wk(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(n.field),op:Wte(n.op),value:n.value}}}(e):e instanceof zi?function(n){const r=n.getFilters().map(i=>$F(i));return r.length===1?r[0]:{compositeFilter:{op:Hte(n.op),filters:r}}}(e):Se(54877,{filter:e})}function Kte(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function FF(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n,r,i,o=Ae.min(),s=Ae.min(),a=Fn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ta(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(t){this.yt=t}}function Gte(e){const t=Ute({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Tv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(){this.Cn=new Zte}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Aa.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Aa.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class Zte{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new dn(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new dn(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VF=41943040;class _r{static withCacheSize(t){return new _r(t,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(VF,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Hc(0)}static cr(){return new Hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="LruGarbageCollector",Qte=1048576;function jk([e,t],[n,r]){const i=Fe(e,n);return i===0?Fe(t,r):i}class Xte{constructor(t){this.Ir=t,this.buffer=new dn(jk),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();jk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jte{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){de(Mk,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ef(n)?de(Mk,"Ignoring IndexedDB error during garbage collection: ",n):await xf(n)}await this.Vr(3e5)})}}class ene{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return J.resolve(i0.ce);const r=new Xte(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Dk)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dk):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),Lu()<=$e.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function tne(e,t){return new ene(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this.changes=new _u(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Yd(r.mutation,i,Wr.empty(),ze.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ve()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ve()){const i=_l();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Cd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=_l();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ve()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=is();const s=Gd(),a=function(){return Gd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ka)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Yd(c.mutation,u,c.mutation.getFieldMask(),ze.now())):s.set(u.key,Wr.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new rne(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(t,n){const r=Gd();let i=new kt((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=wF();c.forEach(d=>{if(!o.has(d)){const p=AF(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return J.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pF(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):J.resolve(_l());let a=Eh,l=o;return s.next(u=>J.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?J.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,Ve())).next(c=>({batchId:a,changes:yF(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new be(n)).next(r=>{let i=Cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Cd();return this.indexManager.getCollectionParents(t,o).next(a=>J.forEach(a,l=>{const u=function(f,d){return new Sf(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,En.newInvalidDocument(c)))});let a=Cd();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Yd(c.mutation,u,Wr.empty(),ze.now()),a0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Gte(i.bundledQuery),readTime:qr(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(){this.overlays=new kt(be.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=_l();return J.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.St(t,n,o)}),J.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const i=_l(),o=n.length+1,s=new be(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return J.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new kt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=_l(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=_l(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return J.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ate(n,r));let o=this.qr.get(n);o===void 0&&(o=Ve(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ane{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Qr=new dn(yn.$r),this.Ur=new dn(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new yn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new yn(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new be(new it([])),r=new yn(n,t),i=new yn(n,t+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new be(new it([])),r=new yn(n,t),i=new yn(n,t+1);let o=Ve();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new yn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return be.comparator(t.key,n.key)||Fe(t.Yr,n.Yr)}static Kr(t,n){return Fe(t.Yr,n.Yr)||be.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(yn.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ste(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new yn(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?B1:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new dn(Fe);return n.forEach(i=>{const o=new yn(i,0),s=new yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const s=new yn(new be(o),0);let a=new dn(Fe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),J.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,i=>{const o=new yn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new yn(n,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t){this.ri=t,this.docs=function(){return new kt(be.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(t,n){let r=is();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():En.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=is();const s=n.path,a=new be(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Fee($ee(c),r)<=0||(i.has(c.key)||a0(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Se(9500)}ii(t,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new cne(this)}getSize(t){return J.resolve(this.size)}}class cne extends nne{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(t){this.persistence=t,this.si=new _u(n=>K1(n),q1),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new J1,this.targetCount=0,this.ai=Hc.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Hc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(t,n){this.ui={},this.overlays={},this.ci=new i0(0),this.li=!1,this.li=!0,this.hi=new ane,this.referenceDelegate=t(this),this.Pi=new fne(this),this.indexManager=new Yte,this.remoteDocumentCache=function(i){return new une(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qte(n),this.Ii=new one(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sne,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new lne(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){de("MemoryPersistence","Starting transaction:",t);const i=new dne(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(t,n){return J.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class dne extends Uee{constructor(t){super(),this.currentSequenceNumber=t}}class eA{constructor(t){this.persistence=t,this.Ri=new J1,this.Vi=null}static mi(t){return new eA(t)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,r=>{const i=be.fromPath(r);return this.gi(t,i).next(o=>{o||n.removeEntry(i,Ae.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ov{constructor(t,n){this.persistence=t,this.pi=new _u(r=>Wee(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tne(this,n)}static mi(t,n){return new Ov(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return J.forEach(this.pi,(r,i)=>this.br(t,r,i).next(o=>o?J.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,n).next(a=>{a||(r++,o.removeEntry(s,Ae.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xg(t.data.value)),n}br(t,n,r){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tA(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KZ()?8:zee(Qn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ys(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hne;return this.Ss(t,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(t,n,s,a.size)})}).next(()=>o.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Lu()<=$e.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$u(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Lu()<=$e.DEBUG&&de("QueryEngine","Query:",$u(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Lu()<=$e.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$u(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vo(n))):J.resolve())}ys(t,n){if(Sk(n))return J.resolve(null);let r=vo(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tv(n,null,"F"),r=vo(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Ve(...o);return this.ps.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(t,Tv(n,null,"F")):this.vs(t,u,n,l)}))})))}ws(t,n,r,i){return Sk(n)||i.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(t,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?J.resolve(null):(Lu()<=$e.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$u(n)),this.vs(t,s,n,Lee(i,Eh)).next(a=>a))})}Ds(t,n){let r=new dn(gF(t));return n.forEach((i,o)=>{a0(t,o)&&(r=r.add(o))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(t,n,r){return Lu()<=$e.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$u(n)),this.ps.getDocumentsMatchingQuery(t,n,Aa.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="LocalStore",mne=3e8;class gne{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new kt(Fe),this.xs=new _u(o=>K1(o),q1),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ine(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function vne(e,t,n,r){return new gne(e,t,n,r)}async function zF(e,t){const n=Pe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function yne(e,t){const n=Pe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=J.resolve();return d.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(m=>{const _=u.docVersions.get(v);He(_!==null,48541),m.version.compareTo(_)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function BF(e){const t=Pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function wne(e,t){const n=Pe(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Fn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(m,_,b){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=mne?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=is(),u=Ve();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(_ne(o,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(Ae.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function _ne(e,t,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=is();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):de(nA,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function bne(e,t){const n=Pe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=B1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function xne(e,t){const n=Pe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(o=>o?(i=o,J.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new ta(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function Zx(e,t,n){const r=Pe(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ef(s))throw s;de(nA,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Lk(e,t,n){const r=Pe(e);let i=Ae.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Pe(l),d=f.xs.get(c);return d!==void 0?J.resolve(f.Ms.get(d)):f.Pi.getTargetData(u,c)}(r,s,vo(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,t,n?i:Ae.min(),n?o:Ve())).next(a=>(Ene(r,ute(t),a),{documents:a,Qs:o})))}function Ene(e,t,n){let r=e.Os.get(t)||Ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Os.set(t,r)}class $k{constructor(){this.activeTargetIds=mte()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Sne{constructor(){this.Mo=new $k,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $k,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="ConnectivityMonitor";class Vk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Fk,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){de(Fk,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om=null;function Qx(){return Om===null?Om=function(){return 268435456+Math.round(2147483648*Math.random())}():Om++,"0x"+Om.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="RestConnection",Tne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pne{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ev?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,o){const s=Qx(),a=this.zo(t,n.toUriEncodedString());de(R_,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=vf(u);return this.Jo(t,a,l,r,c).then(f=>(de(R_,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Uc(R_,`RPC '${t}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(t,n,r,i,o,s){return this.Go(t,n,r,i,o)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}zo(t,n){const r=Tne[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class Ine extends Pne{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,o){const s=Qx();return new Promise((a,l)=>{const u=new B$;u.setWithCredentials(!0),u.listenOnce(W$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bg.NO_ERROR:const f=u.getResponseJson();de(zn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),a(f);break;case bg.TIMEOUT:de(zn,`RPC '${t}' ${s} timed out`),l(new ae(Z.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const d=u.getStatus();if(de(zn,`RPC '${t}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const m=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(y)>=0?y:Z.UNKNOWN}(v.status);l(new ae(m,v.message))}else l(new ae(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ae(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{de(zn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);de(zn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=Qx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=q$(),a=K$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");de(zn,`Creating RPC '${t}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let d=!1,p=!1;const v=new Cne({Yo:_=>{p?de(zn,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(d||(de(zn,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),de(zn,`RPC '${t}' stream ${i} sending:`,_),f.send(_))},Zo:()=>f.close()}),m=(_,b,y)=>{_.listen(b,x=>{try{y(x)}catch(A){setTimeout(()=>{throw A},0)}})};return m(f,Pd.EventType.OPEN,()=>{p||(de(zn,`RPC '${t}' stream ${i} transport opened.`),v.o_())}),m(f,Pd.EventType.CLOSE,()=>{p||(p=!0,de(zn,`RPC '${t}' stream ${i} transport closed`),v.a_(),this.E_(f))}),m(f,Pd.EventType.ERROR,_=>{p||(p=!0,Uc(zn,`RPC '${t}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),v.a_(new ae(Z.UNAVAILABLE,"The operation could not be completed")))}),m(f,Pd.EventType.MESSAGE,_=>{var b;if(!p){const y=_.data[0];He(!!y,16349);const x=y,A=(x==null?void 0:x.error)||((b=x[0])==null?void 0:b.error);if(A){de(zn,`RPC '${t}' stream ${i} received error:`,A);const C=A.status;let N=function(I){const k=Gt[I];if(k!==void 0)return IF(k)}(C),S=A.message;N===void 0&&(N=Z.INTERNAL,S="Unknown error status: "+C+" with message "+A.message),p=!0,v.a_(new ae(N,S)),f.close()}else de(zn,`RPC '${t}' stream ${i} received:`,y),v.u_(y)}}),m(a,H$.STAT_EVENT,_=>{_.stat===Vx.PROXY?de(zn,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===Vx.NOPROXY&&de(zn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function N_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e){return new Nte(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="PersistentStream";class WF{constructor(t,n,r,i,o,s,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new ae(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return de(Uk,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(de(Uk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class One extends WF{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Lte(this.serializer,t),r=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?qr(s.readTime):Ae.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Yx(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Hx(l)?{documents:Fte(o,l)}:{query:Vte(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=RF(o,s.resumeToken);const u=qx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Cv(o,s.snapshotVersion.toTimestamp());const u=qx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=zte(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Yx(this.serializer),n.removeTarget=t,this.q_(n)}}class kne extends WF{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return He(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,He(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){He(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=$te(t.writeResults,t.commitTime),r=qr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Yx(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>jF(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{}class Nne extends Rne{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(t,Gx(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Z.UNKNOWN,o.toString())})}Ho(t,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(t,Gx(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(Z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Dne{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="RemoteStore";class Mne{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{bu(this)&&(de(tu,"Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.Ea.add(4),await mp(u),u.Ra.set("Unknown"),u.Ea.delete(4),await d0(u)}(this))})}),this.Ra=new Dne(r,i)}}async function d0(e){if(bu(e))for(const t of e.da)await t(!0)}async function mp(e){for(const t of e.da)await t(!1)}function HF(e,t){const n=Pe(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),aA(n)?sA(n):Af(n).O_()&&oA(n,t))}function iA(e,t){const n=Pe(e),r=Af(n);n.Ia.delete(t),r.O_()&&KF(n,t),n.Ia.size===0&&(r.O_()?r.L_():bu(n)&&n.Ra.set("Unknown"))}function oA(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ae.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Af(e).Y_(t)}function KF(e,t){e.Va.Ue(t),Af(e).Z_(t)}function sA(e){e.Va=new Ite({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Af(e).start(),e.Ra.ua()}function aA(e){return bu(e)&&!Af(e).x_()&&e.Ia.size>0}function bu(e){return Pe(e).Ea.size===0}function qF(e){e.Va=void 0}async function jne(e){e.Ra.set("Online")}async function Lne(e){e.Ia.forEach((t,n)=>{oA(e,t)})}async function $ne(e,t){qF(e),aA(e)?(e.Ra.ha(t),sA(e)):e.Ra.set("Unknown")}async function Fne(e,t,n){if(e.Ra.set("Online"),t instanceof kF&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){de(tu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await kv(e,r)}else if(t instanceof Ag?e.Va.Ze(t):t instanceof OF?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ae.min()))try{const r=await BF(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Fn.EMPTY_BYTE_STRING,c.snapshotVersion)),KF(o,l);const f=new ta(c.target,l,u,c.sequenceNumber);oA(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){de(tu,"Failed to raise snapshot:",r),await kv(e,r)}}async function kv(e,t,n){if(!Ef(t))throw t;e.Ea.add(1),await mp(e),e.Ra.set("Offline"),n||(n=()=>BF(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{de(tu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await d0(e)})}function GF(e,t){return t().catch(n=>kv(e,n,t))}async function h0(e){const t=Pe(e),n=Ia(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:B1;for(;Vne(t);)try{const i=await bne(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,Une(t,i)}catch(i){await kv(t,i)}YF(t)&&ZF(t)}function Vne(e){return bu(e)&&e.Ta.length<10}function Une(e,t){e.Ta.push(t);const n=Ia(e);n.O_()&&n.X_&&n.ea(t.mutations)}function YF(e){return bu(e)&&!Ia(e).x_()&&e.Ta.length>0}function ZF(e){Ia(e).start()}async function zne(e){Ia(e).ra()}async function Bne(e){const t=Ia(e);for(const n of e.Ta)t.ea(n.mutations)}async function Wne(e,t,n){const r=e.Ta.shift(),i=Z1.from(r,t,n);await GF(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await h0(e)}async function Hne(e,t){t&&Ia(e).X_&&await async function(r,i){if(function(s){return CF(s)&&s!==Z.ABORTED}(i.code)){const o=r.Ta.shift();Ia(r).B_(),await GF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await h0(r)}}(e,t),YF(e)&&ZF(e)}async function zk(e,t){const n=Pe(e);n.asyncQueue.verifyOperationInProgress(),de(tu,"RemoteStore received new credentials");const r=bu(n);n.Ea.add(3),await mp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await d0(n)}async function Kne(e,t){const n=Pe(e);t?(n.Ea.delete(2),await d0(n)):t||(n.Ea.add(2),await mp(n),n.Ra.set("Unknown"))}function Af(e){return e.ma||(e.ma=function(n,r,i){const o=Pe(n);return o.sa(),new One(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Xo:jne.bind(null,e),t_:Lne.bind(null,e),r_:$ne.bind(null,e),H_:Fne.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),aA(e)?sA(e):e.Ra.set("Unknown")):(await e.ma.stop(),qF(e))})),e.ma}function Ia(e){return e.fa||(e.fa=function(n,r,i){const o=Pe(n);return o.sa(),new kne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:zne.bind(null,e),r_:Hne.bind(null,e),ta:Bne.bind(null,e),na:Wne.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await h0(e)):(await e.fa.stop(),e.Ta.length>0&&(de(tu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new lA(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uA(e,t){if(rs("AsyncQueue",`${t}: ${e}`),Ef(e))return new ae(Z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{static emptySet(t){return new pc(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Cd(),this.sortedSet=new kt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof pc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new pc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.ga=new kt(be.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Se(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Kc{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Kc(t,n,pc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&s0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Gne{constructor(){this.queries=Wk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Pe(n),o=i.queries;i.queries=Wk(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ae(Z.ABORTED,"Firestore shutting down"))}}function Wk(){return new _u(e=>mF(e),s0)}async function QF(e,t){const n=Pe(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new qne,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=uA(s,`Initialization of query '${$u(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&cA(n)}async function XF(e,t){const n=Pe(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(t);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yne(e,t){const n=Pe(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&cA(n)}function Zne(e,t,n){const r=Pe(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function cA(e){e.Ca.forEach(t=>{t.next()})}var Xx,Hk;(Hk=Xx||(Xx={})).Ma="default",Hk.Cache="cache";class JF{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Kc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Kc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t){this.key=t}}class tV{constructor(t){this.key=t}}class Qne{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=gF(t),this.tu=new pc(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new Bk,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),p=a0(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;d&&p?d.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),_=!0):this.su(d,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),_=!0):d&&!p&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(p?(s=s.add(p),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,f)=>function(p,v){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:_})}};return m(p)-m(v)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Kc(this.query,t.tu,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new tV(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new eV(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=Ve();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fA="SyncEngine";class Xne{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Jne{constructor(t){this.key=t,this.hu=!1}}class ere{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new _u(a=>mF(a),s0),this.Iu=new Map,this.Eu=new Set,this.du=new kt(be.comparator),this.Au=new Map,this.Ru=new J1,this.Vu={},this.mu=new Map,this.fu=Hc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tre(e,t,n=!0){const r=aV(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await nV(r,t,n,!0),i}async function nre(e,t){const n=aV(e);await nV(n,t,!0,!1)}async function nV(e,t,n,r){const i=await xne(e.localStore,vo(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await rre(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&HF(e.remoteStore,i),a}async function rre(e,t,n,r,i){e.pu=(f,d,p)=>async function(m,_,b,y){let x=_.view.ru(b);x.Cs&&(x=await Lk(m.localStore,_.query,!1).then(({documents:S})=>_.view.ru(S,x)));const A=y&&y.targetChanges.get(_.targetId),C=y&&y.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(x,m.isPrimaryClient,A,C);return qk(m,_.targetId,N.au),N.snapshot}(e,f,d,p);const o=await Lk(e.localStore,t,!0),s=new Qne(t,o.Qs),a=s.ru(o.documents),l=pp.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);qk(e,n,u.au);const c=new Xne(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function ire(e,t,n){const r=Pe(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!s0(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iA(r.remoteStore,i.targetId),Jx(r,i.targetId)}).catch(xf)):(Jx(r,i.targetId),await Zx(r.localStore,i.targetId,!0))}async function ore(e,t){const n=Pe(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iA(n.remoteStore,r.targetId))}async function sre(e,t,n){const r=hre(e);try{const i=await function(s,a){const l=Pe(s),u=ze.now(),c=a.reduce((p,v)=>p.add(v.key),Ve());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=is(),m=Ve();return l.Ns.getEntries(p,c).next(_=>{v=_,v.forEach((b,y)=>{y.isValidDocument()||(m=m.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(_=>{f=_;const b=[];for(const y of a){const x=Ete(y,f.get(y.key).overlayedDocument);x!=null&&b.push(new Ka(y.key,x,aF(x.value.mapValue),Jt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(_=>{d=_;const b=_.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:d.batchId,changes:yF(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new kt(Fe)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await gp(r,i.changes),await h0(r.remoteStore)}catch(i){const o=uA(i,"Failed to persist write");n.reject(o)}}async function rV(e,t){const n=Pe(e);try{const r=await wne(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?He(s.hu,14607):i.removedDocuments.size>0&&(He(s.hu,42227),s.hu=!1))}),await gp(n,r,t)}catch(r){await xf(r)}}function Kk(e,t,n){const r=Pe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.Sa)d.va(a)&&(u=!0)}),u&&cA(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function are(e,t,n){const r=Pe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let s=new kt(be.comparator);s=s.insert(o,En.newNoDocument(o,Ae.min()));const a=Ve().add(o),l=new c0(Ae.min(),new Map,new kt(Fe),s,a);await rV(r,l),r.du=r.du.remove(o),r.Au.delete(t),dA(r)}else await Zx(r.localStore,t,!1).then(()=>Jx(r,t,n)).catch(xf)}async function lre(e,t){const n=Pe(e),r=t.batch.batchId;try{const i=await yne(n.localStore,t);oV(n,r,null),iV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gp(n,i)}catch(i){await xf(i)}}async function ure(e,t,n){const r=Pe(e);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(He(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);oV(r,t,n),iV(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gp(r,i)}catch(i){await xf(i)}}function iV(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function oV(e,t,n){const r=Pe(e);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Jx(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||sV(e,r)})}function sV(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(iA(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),dA(e))}function qk(e,t,n){for(const r of n)r instanceof eV?(e.Ru.addReference(r.key,t),cre(e,r)):r instanceof tV?(de(fA,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||sV(e,r.key)):Se(19791,{wu:r})}function cre(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(de(fA,"New document in limbo: "+n),e.Eu.add(r),dA(e))}function dA(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new be(it.fromString(t)),r=e.fu.next();e.Au.set(r,new Jne(n)),e.du=e.du.insert(n,r),HF(e.remoteStore,new ta(vo(G1(n.path)),r,"TargetPurposeLimboResolution",i0.ce))}}async function gp(e,t,n){const r=Pe(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=tA.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=Pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(u,d=>J.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>J.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Ef(f))throw f;de(nA,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.Ms.get(d),v=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(v);c.Ms=c.Ms.insert(d,m)}}}(r.localStore,o))}async function fre(e,t){const n=Pe(e);if(!n.currentUser.isEqual(t)){de(fA,"User change. New user:",t.toKey());const r=await zF(n.localStore,t);n.currentUser=t,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ae(Z.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await gp(n,r.Ls)}}function dre(e,t){const n=Pe(e),r=n.Au.get(t);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const o=n.Iu.get(t);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function aV(e){const t=Pe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dre.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=are.bind(null,t),t.Pu.H_=Yne.bind(null,t.eventManager),t.Pu.yu=Zne.bind(null,t.eventManager),t}function hre(e){const t=Pe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lre.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ure.bind(null,t),t}class Rv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=f0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return vne(this.persistence,new pne,t.initialUser,this.serializer)}Cu(t){return new UF(eA.mi,this.serializer)}Du(t){return new Sne}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rv.provider={build:()=>new Rv};class pre extends Rv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){He(this.persistence.referenceDelegate instanceof Ov,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jte(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new UF(r=>Ov.mi(r,n),this.serializer)}}class eE{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fre.bind(null,this.syncEngine),await Kne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Gne}()}createDatastore(t){const n=f0(t.databaseInfo.databaseId),r=function(o){return new Ine(o)}(t.databaseInfo);return function(o,s,a,l){return new Nne(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new Mne(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Kk(this.syncEngine,n,0),function(){return Vk.v()?new Vk:new Ane}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const f=new ere(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=Pe(i);de(tu,"RemoteStore shutting down."),o.Ea.add(5),await mp(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}eE.provider={build:()=>new eE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Pe(i),a={documents:o.map(f=>Iv(s.serializer,f))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,it.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const d=jte(s.serializer,f);u.set(d.key.toString(),d)});const c=[];return o.forEach(f=>{const d=u.get(f.toString());He(!!d,55234,{key:f}),c.push(d)}),c}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new hp(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=be.fromPath(r);this.mutations.push(new PF(i,this.precondition(i)))}),await async function(r,i){const o=Pe(r),s={writes:i.map(a=>jF(o.serializer,a))};await o.Go("Commit",o.serializer.databaseId,it.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Se(50498,{Gu:t.constructor.name});n=Ae.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ae(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Ae.min())?Jt.exists(!1):Jt.updateTime(n):Jt.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ae.min()))throw new ae(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jt.updateTime(n)}return Jt.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(t,n,r,i,o){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new rA(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new mre(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!fp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if((t==null?void 0:t.name)==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!CF(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class vre{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wn.UNAUTHENTICATED,this.clientId=z1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{de(Oa,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(de(Oa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=uA(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function D_(e,t){e.asyncQueue.verifyOperationInProgress(),de(Oa,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zF(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Gk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yre(e);de(Oa,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>zk(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>zk(t.remoteStore,i)),e._onlineComponents=t}async function yre(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){de(Oa,"Using user provided OfflineComponentProvider");try{await D_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uc("Error using user provided cache. Falling back to memory cache: "+n),await D_(e,new Rv)}}else de(Oa,"Using default OfflineComponentProvider"),await D_(e,new pre(void 0));return e._offlineComponents}async function hA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(de(Oa,"Using user provided OnlineComponentProvider"),await Gk(e,e._uninitializedComponentsProvider._online)):(de(Oa,"Using default OnlineComponentProvider"),await Gk(e,new eE))),e._onlineComponents}function wre(e){return hA(e).then(t=>t.syncEngine)}function _re(e){return hA(e).then(t=>t.datastore)}async function uV(e){const t=await hA(e),n=t.eventManager;return n.onListen=tre.bind(null,t.syncEngine),n.onUnlisten=ire.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nre.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ore.bind(null,t.syncEngine),n}function bre(e,t,n={}){const r=new go;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new lV({next:d=>{c.Nu(),s.enqueueAndForget(()=>XF(o,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new ae(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ae(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new JF(G1(a.path),c,{includeMetadataChanges:!0,qa:!0});return QF(o,f)}(await uV(e),e.asyncQueue,t,n,r)),r.promise}function xre(e,t,n={}){const r=new go;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new lV({next:d=>{c.Nu(),s.enqueueAndForget(()=>XF(o,f)),d.fromCache&&l.source==="server"?u.reject(new ae(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new JF(a,c,{includeMetadataChanges:!0,qa:!0});return QF(o,f)}(await uV(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="firestore.googleapis.com",Zk=!0;class Qk{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ae(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fV,this.ssl=Zk}else this.host=t.host,this.ssl=t.ssl??Zk;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VF;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qte)throw new ae(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mee("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cV(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class p0{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ae(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qk(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Aee;switch(r.type){case"firstParty":return new Iee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yk.get(n);r&&(de("ComponentProvider","Removing Datastore"),Yk.delete(n),r.terminate())}(this),Promise.resolve()}}function Ere(e,t,n,r={}){var u;e=Qr(e,p0);const i=vf(t),o=e._getSettings(),s={...o,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(e$(`https://${a}`),t$("Firestore",!0)),o.host!==fV&&o.host!==a&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Ql(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Wn.MOCK_USER;else{c=LZ(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ae(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Wn(d)}e._authCredentials=new Tee(new Y$(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new qa(this.firestore,t,this._query)}}class jt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jt(this.firestore,t,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(cp(n,jt._jsonSchema))return new jt(t,r||null,new be(it.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:en("string",jt._jsonSchemaVersion),referencePath:en("string")};class wa extends qa{constructor(t,n,r){super(t,n,G1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jt(this.firestore,null,new be(t))}withConverter(t){return new wa(this.firestore,t,this._path)}}function dr(e,t,...n){if(e=Bt(e),Z$("collection","path",t),e instanceof p0){const r=it.fromString(t,...n);return ck(r),new wa(e,null,r)}{if(!(e instanceof jt||e instanceof wa))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(it.fromString(t,...n));return ck(r),new wa(e.firestore,null,r)}}function Hr(e,t,...n){if(e=Bt(e),arguments.length===1&&(t=z1.newId()),Z$("doc","path",t),e instanceof p0){const r=it.fromString(t,...n);return uk(r),new jt(e,null,new be(r))}{if(!(e instanceof jt||e instanceof wa))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(it.fromString(t,...n));return uk(r),new jt(e.firestore,e instanceof wa?e.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="AsyncQueue";class Jk{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rA(this,"async_queue_retry"),this._c=()=>{const r=N_();r&&de(Xk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=N_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=N_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new go;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ef(t))throw t;de(Xk,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",eR(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=lA.createAndSchedule(this,t,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:eR(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function eR(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ps extends p0{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Jk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jk(t),this._firestoreClient=void 0,await t}}}function Sre(e,t){const n=typeof e=="object"?e:o$(),r=typeof e=="string"?e:Ev,i=R1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=MZ("firestore");o&&Ere(i,...o)}return i}function vp(e){if(e._terminated)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Are(e),e._firestoreClient}function Are(e){var r,i,o;const t=e._freezeSettings(),n=function(a,l,u,c){return new qee(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cV(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new vre(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ur(Fn.fromBase64String(t))}catch(n){throw new ae(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ur(Fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cp(t,Ur._jsonSchema))return Ur.fromBase64String(t.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:en("string",Ur._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ae(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ae(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ae(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Fe(this._lat,t._lat)||Fe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yo._jsonSchemaVersion}}static fromJSON(t){if(cp(t,yo._jsonSchema))return new yo(t.latitude,t.longitude)}}yo._jsonSchemaVersion="firestore/geoPoint/1.0",yo._jsonSchema={type:en("string",yo._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:wo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cp(t,wo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new wo(t.vectorValues);throw new ae(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wo._jsonSchemaVersion="firestore/vectorValue/1.0",wo._jsonSchema={type:en("string",wo._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre=/^__.*__$/;class Pre{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new dp(t,this.data,n,this.fieldTransforms)}}class dV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function hV(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:e})}}class pA{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pA({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nv(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(hV(this.Ac)&&Tre.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cre{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||f0(t)}Cc(t,n,r,i=!1){return new pA({Ac:t,methodName:n,Dc:r,path:Dn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(e){const t=e._freezeSettings(),n=f0(e._databaseId);return new Cre(e._databaseId,!!t.ignoreUndefinedProperties,n)}function g0(e,t,n,r,i,o={}){const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);yA("Data must be an object, but it was:",s,r);const a=pV(r,s);let l,u;if(o.merge)l=new Wr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=tE(t,f,n);if(!s.contains(d))throw new ae(Z.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);gV(c,d)||c.push(d)}l=new Wr(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Pre(new ar(a),l,u)}class v0 extends m0{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof v0}}class mA extends m0{_toFieldTransform(t){return new wte(t.path,new Ch)}isEqual(t){return t instanceof mA}}function gA(e,t,n,r){const i=e.Cc(1,t,n);yA("Data must be an object, but it was:",i,r);const o=[],s=ar.empty();Ha(r,(l,u)=>{const c=wA(t,l,n);u=Bt(u);const f=i.yc(c);if(u instanceof v0)o.push(c);else{const d=yp(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Wr(o);return new dV(s,a,i.fieldTransforms)}function vA(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[tE(t,r,n)],l=[i];if(o.length%2!=0)throw new ae(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(tE(t,o[d])),l.push(o[d+1]);const u=[],c=ar.empty();for(let d=a.length-1;d>=0;--d)if(!gV(u,a[d])){const p=a[d];let v=l[d];v=Bt(v);const m=s.yc(p);if(v instanceof v0)u.push(p);else{const _=yp(v,m);_!=null&&(u.push(p),c.set(p,_))}}const f=new Wr(u);return new dV(c,f,s.fieldTransforms)}function Ire(e,t,n,r=!1){return yp(n,e.Cc(r?4:3,t))}function yp(e,t){if(mV(e=Bt(e)))return yA("Unsupported field value:",t,e),pV(e,t);if(e instanceof m0)return function(r,i){if(!hV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=yp(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ze.fromDate(r);return{timestampValue:Cv(i.serializer,o)}}if(r instanceof ze){const o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cv(i.serializer,o)}}if(r instanceof yo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:RF(i.serializer,r._byteString)};if(r instanceof jt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:X1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wo)return function(s,a){return{mapValue:{fields:{[oF]:{stringValue:sF},[Sv]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Y1(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${r0(r)}`)}(e,t)}function pV(e,t){const n={};return J$(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,(r,i)=>{const o=yp(i,t.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mV(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ze||e instanceof yo||e instanceof Ur||e instanceof jt||e instanceof m0||e instanceof wo)}function yA(e,t,n){if(!mV(n)||!Q$(n)){const r=r0(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function tE(e,t,n){if((t=Bt(t))instanceof Tf)return t._internalPath;if(typeof t=="string")return wA(e,t);throw Nv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ore=new RegExp("[~\\*/\\[\\]]");function wA(e,t,n){if(t.search(Ore)>=0)throw Nv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tf(...t.split("."))._internalPath}catch{throw Nv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Nv(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(Z.INVALID_ARGUMENT,a+e+l)}function gV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(y0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kre extends Dv{data(){return super.data()}}function y0(e,t){return typeof t=="string"?wA(e,t):t instanceof Tf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rre(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ae(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _A{}class bA extends _A{}function na(e,t,...n){let r=[];t instanceof _A&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof xA).length,a=o.filter(l=>l instanceof w0).length;if(s>1||s>0&&a>0)throw new ae(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class w0 extends bA{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new w0(t,n,r)}_apply(t){const n=this._parse(t);return yV(t._query,n),new qa(t.firestore,t.converter,Kx(t._query,n))}_parse(t){const n=Pf(t.firestore);return function(o,s,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nR(f,c);const v=[];for(const m of f)v.push(tR(l,o,m));d={arrayValue:{values:v}}}else d=tR(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nR(f,c),d=Ire(a,s,f,c==="in"||c==="not-in");return Xt.create(u,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function qn(e,t,n){const r=t,i=y0("where",e);return w0._create(i,r,n)}class xA extends _A{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new xA(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)yV(s,l),s=Kx(s,l)}(t._query,n),new qa(t.firestore,t.converter,Kx(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class EA extends bA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new EA(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(o,s)}(t._query,this._field,this._direction);return new qa(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Sf(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function wp(e,t="asc"){const n=t,r=y0("orderBy",e);return EA._create(r,n)}class SA extends bA{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new SA(t,n,r)}_apply(t){return new qa(t.firestore,t.converter,Tv(t._query,this._limit,this._limitType))}}function vV(e){return jee("limit",e),SA._create("limit",e,"F")}function tR(e,t,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ae(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pF(t)&&n.indexOf("/")!==-1)throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(it.fromString(n));if(!be.isDocumentKey(r))throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yk(e,new be(r))}if(n instanceof jt)return yk(e,n._key);throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(n)}.`)}function nR(e,t){if(!Array.isArray(e)||e.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yV(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class wV{convertValue(t,n="none"){switch(Ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Se(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ha(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var r,i,o;const n=(o=(i=(r=t.fields)==null?void 0:r[Sv].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Vt(s.doubleValue));return new wo(n)}convertGeoPoint(t){return new yo(Vt(t.latitude),Vt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=o0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sh(t));default:return null}}convertTimestamp(t){const n=Ta(t);return new ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=it.fromString(t);He(FF(r),9688,{name:t});const i=new Ah(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||rs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Nre extends wV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ur(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jt(this.firestore,null,n)}}class tc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _a extends Dv{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(y0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:en("string",_a._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Tg extends _a{data(t={}){return super.data(t)}}class mc{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new tc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Tg(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Tg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Dre(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=z1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Dre(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(e){e=Qr(e,jt);const t=Qr(e.firestore,ps);return bre(vp(t),e._key).then(n=>Lre(t,e,n))}mc._jsonSchemaVersion="firestore/querySnapshot/1.0",mc._jsonSchema={type:en("string",mc._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class AA extends wV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ur(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function ra(e){e=Qr(e,qa);const t=Qr(e.firestore,ps),n=vp(t),r=new AA(t);return Rre(e._query),xre(n,e._query).then(i=>new mc(t,r,e,i))}function _V(e,t,n){e=Qr(e,jt);const r=Qr(e.firestore,ps),i=_0(e.converter,t,n);return bp(r,[g0(Pf(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Jt.none())])}function bV(e,t,n,...r){e=Qr(e,jt);const i=Qr(e.firestore,ps),o=Pf(i);let s;return s=typeof(t=Bt(t))=="string"||t instanceof Tf?vA(o,"updateDoc",e._key,t,n,r):gA(o,"updateDoc",e._key,t),bp(i,[s.toMutation(e._key,Jt.exists(!0))])}function jre(e){return bp(Qr(e.firestore,ps),[new hp(e._key,Jt.none())])}function _p(e,t){const n=Qr(e.firestore,ps),r=Hr(e),i=_0(e.converter,t);return bp(n,[g0(Pf(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Jt.exists(!1))]).then(()=>r)}function bp(e,t){return function(r,i){const o=new go;return r.asyncQueue.enqueueAndForget(async()=>sre(await wre(r),i,o)),o.promise}(vp(e),t)}function Lre(e,t,n){const r=n.docs.get(t._key),i=new AA(e);return new _a(e,i,t._key,r,new tc(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pf(t)}set(t,n,r){this._verifyNotCommitted();const i=ia(t,this._firestore),o=_0(i.converter,n,r),s=g0(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Jt.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=ia(t,this._firestore);let s;return s=typeof(n=Bt(n))=="string"||n instanceof Tf?vA(this._dataReader,"WriteBatch.update",o._key,n,r,i):gA(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Jt.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=ia(t,this._firestore);return this._mutations=this._mutations.concat(new hp(n._key,Jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ia(e,t){if((e=Bt(e)).firestore!==t)throw new ae(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Pf(t)}get(t){const n=ia(t,this._firestore),r=new Nre(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Se(24041);const o=i[0];if(o.isFoundDocument())return new Dv(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Dv(this._firestore,r,n._key,null,n.converter);throw Se(18433,{doc:o})})}set(t,n,r){const i=ia(t,this._firestore),o=_0(i.converter,n,r),s=g0(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(t,n,r,...i){const o=ia(t,this._firestore);let s;return s=typeof(n=Bt(n))=="string"||n instanceof Tf?vA(this._dataReader,"Transaction.update",o._key,n,r,i):gA(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(t){const n=ia(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure extends Vre{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=ia(t,this._firestore),r=new AA(this._firestore);return super.get(t).then(i=>new _a(this._firestore,r,n._key,i._document,new tc(!1,!1),n.converter))}}function zre(e,t,n){e=Qr(e,ps);const r={...$re,...n};return function(o){if(o.maxAttempts<1)throw new ae(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new go;return o.asyncQueue.enqueueAndForget(async()=>{const u=await _re(o);new gre(o.asyncQueue,u,a,s,l).ju()}),l.promise}(vp(e),i=>t(new Ure(e,i)),r)}function Cr(){return new mA("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bre(e){return vp(e=Qr(e,ps)),new Fre(e,t=>bp(e,t))}(function(t,n=!0){(function(i){bf=i})(yf),Fc(new Xl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ps(new Pee(r.getProvider("auth-internal")),new Oee(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ga(ok,sk,t),ga(ok,sk,"esm2020")})();const Wre={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},xV=i$(Wre),b0=bee(xV),It=Sre(xV);function rR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EV(...e){return t=>{let n=!1;const r=e.map(i=>{const o=rR(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():rR(e[i],null)}}}}function $t(...e){return g.useCallback(EV(...e),e)}function qc(e){const t=Kre(e),n=g.forwardRef((r,i)=>{const{children:o,...s}=r,a=g.Children.toArray(o),l=a.find(Gre);if(l){const u=l.props.children,c=a.map(f=>f===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return w.jsx(t,{...s,ref:i,children:g.isValidElement(u)?g.cloneElement(u,void 0,c):null})}return w.jsx(t,{...s,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var Hre=qc("Slot");function Kre(e){const t=g.forwardRef((n,r)=>{const{children:i,...o}=n;if(g.isValidElement(i)){const s=Zre(i),a=Yre(o,i.props);return i.type!==g.Fragment&&(a.ref=r?EV(r,s):s),g.cloneElement(i,a)}return g.Children.count(i)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qre=Symbol("radix.slottable");function Gre(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qre}function Yre(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Zre(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function SV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=SV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=SV(e))&&(r&&(r+=" "),r+=t);return r}const iR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,oR=ye,AV=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return oR(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],f=o==null?void 0:o[u];if(c===null)return null;const d=iR(c)||iR(f);return i[u][d]}),a=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...p}=c;return Object.entries(p).every(v=>{let[m,_]=v;return Array.isArray(_)?_.includes({...o,...a}[m]):{...o,...a}[m]===_})?[...u,f,d]:u},[]);return oR(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},Qre=AV("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",outline:"border border-slate-200 bg-white hover:bg-slate-50 text-slate-900",ghost:"hover:bg-slate-100 text-slate-900",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Lt=g.forwardRef((e,t)=>{const{asChild:n=!1,className:r,variant:i,size:o,...s}=e,a=n?Hre:"button";return w.jsx(a,{ref:t,className:ye(Qre({variant:i,size:o}),r),...s})});Lt.displayName="Button";const je=g.forwardRef(({className:e,type:t="text",...n},r)=>w.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));je.displayName="Input";var Xre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ge=Xre.reduce((e,t)=>{const n=qc(`Primitive.${t}`),r=g.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Jre(e,t){e&&gu.flushSync(()=>e.dispatchEvent(t))}var eie="Label",TV=g.forwardRef((e,t)=>w.jsx(Ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TV.displayName=eie;var PV=TV;const mr=g.forwardRef(({className:e,...t},n)=>w.jsx(PV,{ref:n,className:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));mr.displayName=PV.displayName;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),sR=e=>{const t=nie(e);return t.charAt(0).toUpperCase()+t.slice(1)},CV=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),rie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>g.createElement("svg",{ref:l,...iie,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CV("lucide",i),...!o&&!rie(a)&&{"aria-hidden":"true"},...a},[...s.map(([u,c])=>g.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const n=g.forwardRef(({className:r,...i},o)=>g.createElement(oie,{ref:o,iconNode:t,className:CV(`lucide-${tie(sR(e))}`,`lucide-${e}`,r),...i}));return n.displayName=sR(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pg=Kt("arrow-right",sie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lie=Kt("check",aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cie=Kt("chevron-down",uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],die=Kt("circle-alert",fie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pie=Kt("circle-check",hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gie=Kt("clipboard-list",mie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yie=Kt("dollar-sign",vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_ie=Kt("download",wie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xie=Kt("house",bie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sie=Kt("info",Eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gc=Kt("loader-circle",Aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aR=Kt("log-out",Tie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Cie=Kt("menu",Pie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Oie=Kt("piggy-bank",Iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],TA=Kt("plus",kie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nie=Kt("search",Rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mie=Kt("settings",Die);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lie=Kt("trash",jie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fie=Kt("triangle-alert",$ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uie=Kt("users",Vie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bie=Kt("x",zie),Wie={default:w.jsx(Sie,{className:"h-4 w-4"}),success:w.jsx(pie,{className:"h-4 w-4"}),warning:w.jsx(Fie,{className:"h-4 w-4"}),destructive:w.jsx(die,{className:"h-4 w-4"})},Hie={default:"border-slate-200 bg-white text-slate-700",success:"border-emerald-200 bg-emerald-50 text-emerald-700",warning:"border-amber-200 bg-amber-50 text-amber-800",destructive:"border-red-200 bg-red-50 text-red-700"};function jl({children:e,title:t,description:n,variant:r="default",className:i}){return w.jsxs("div",{className:ye("flex gap-3 rounded-lg border p-4 text-sm",Hie[r],i),role:"alert",children:[w.jsx("span",{className:"mt-0.5 text-slate-600",children:Wie[r]}),w.jsxs("div",{className:"space-y-1",children:[t?w.jsx("p",{className:"font-semibold",children:t}):null,n?w.jsx("p",{className:"text-sm opacity-90",children:n}):null,e]})]})}const Kie=Ba({email:at().email("Correo inválido"),password:at().min(6,"La contraseña debe tener al menos 6 caracteres")});function qie(){const[e,t]=g.useState(null),[n,r]=g.useState(!1),i=b1({resolver:C1(Kie),defaultValues:{email:"",password:""}});async function o(s){t(null),r(!0);try{await aJ(b0,s.email,s.password)}catch(a){t("Credenciales inválidas, verifica tu correo y contraseña."),console.error(a)}finally{r(!1)}}return w.jsxs("div",{className:"mx-auto flex w-full max-w-md flex-col gap-6 rounded-2xl border border-slate-200 bg-white p-8 shadow-xl",children:[w.jsxs("div",{className:"space-y-2 text-center",children:[w.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Ingresar a Quality Bordados"}),w.jsx("p",{className:"text-sm text-slate-500",children:"Usa tu correo corporativo y contraseña asignada."})]}),e?w.jsx(jl,{variant:"destructive",description:e}):null,w.jsxs("form",{className:"space-y-4",onSubmit:i.handleSubmit(o),children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"email",children:"Correo electrónico"}),w.jsx(je,{id:"email",type:"email",autoComplete:"email",...i.register("email")}),i.formState.errors.email?w.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.email.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"password",children:"Contraseña"}),w.jsx(je,{id:"password",type:"password",autoComplete:"current-password",...i.register("password")}),i.formState.errors.password?w.jsx("p",{className:"text-xs text-red-600",children:i.formState.errors.password.message}):null]}),w.jsx(Lt,{type:"submit",className:"w-full",disabled:n,children:n?"Entrando...":"Ingresar"})]}),w.jsx("p",{className:"text-center text-xs text-slate-400",children:"Acceso restringido al personal autorizado. Contacta al administrador para recuperar acceso."})]})}const lR=e=>{let t;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=c??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,d))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},Gie=e=>e?lR(e):lR,Yie=e=>e;function Zie(e,t=Yie){const n=ft.useSyncExternalStore(e.subscribe,ft.useCallback(()=>t(e.getState()),[e,t]),ft.useCallback(()=>t(e.getInitialState()),[e,t]));return ft.useDebugValue(n),n}const uR=e=>{const t=Gie(e),n=r=>Zie(t,r);return Object.assign(n,t),n},Qie=e=>e?uR(e):uR,km=Qie(e=>({user:null,role:null,loading:!0,setAuthState:({user:t,role:n,loading:r=!1})=>e({user:t,role:n,loading:r})})),IV=g.createContext(void 0);function Xie({children:e}){const t=km(s=>s.setAuthState),n=km(s=>s.user),r=km(s=>s.role),i=km(s=>s.loading);g.useEffect(()=>{const s=cJ(b0,async a=>{if(!a){t({user:null,role:null,loading:!1});return}const u=(await a.getIdTokenResult(!0)).claims.role??null;t({user:a,role:u,loading:!1})});return()=>s()},[t]);const o=g.useMemo(()=>({loading:i,role:r,user:n}),[i,r,n]);return w.jsx(IV.Provider,{value:o,children:e})}function Jie(){const e=g.useContext(IV);if(!e)throw new Error("useAuthContext must be used within AuthProvider");return e}function Ga(){return Jie()}function eoe(){const{user:e,loading:t}=Ga();return t?w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-100",children:w.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-primary","aria-label":"Cargando"})}):e?w.jsx(uc,{to:"/app/dashboard",replace:!0}):w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-100 via-white to-slate-200 p-4",children:w.jsx(qie,{})})}function toe(){return g.useEffect(()=>{k$(b0).catch(console.error)},[]),w.jsx(uc,{to:"/login",replace:!0})}const bn=g.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ye("rounded-xl border border-slate-200 bg-white text-slate-900 shadow-sm",e),...t}));bn.displayName="Card";const Hn=g.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));Hn.displayName="CardHeader";const or=g.forwardRef(({className:e,...t},n)=>w.jsx("h3",{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));or.displayName="CardTitle";const xn=g.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));xn.displayName="CardContent";const noe=g.forwardRef(({className:e,...t},n)=>w.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));noe.displayName="CardFooter";var OV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(kM,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",p="year",v="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var B=["th","st","nd","rd"],V=F%100;return"["+F+(B[(V-20)%10]||B[V]||B[0])+"]"}},x=function(F,B,V){var K=String(F);return!K||K.length>=B?F:""+Array(B+1-K.length).join(V)+F},A={s:x,z:function(F){var B=-F.utcOffset(),V=Math.abs(B),K=Math.floor(V/60),$=V%60;return(B<=0?"+":"-")+x(K,2,"0")+":"+x($,2,"0")},m:function F(B,V){if(B.date()<V.date())return-F(V,B);var K=12*(V.year()-B.year())+(V.month()-B.month()),$=B.clone().add(K,f),W=V-$<0,Q=B.clone().add(K+(W?-1:1),f);return+(-(K+(V-$)/(W?$-Q:Q-$))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:f,y:p,w:c,d:u,D:v,h:l,m:a,s,ms:o,Q:d}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},C="en",N={};N[C]=y;var S="$isDayjsObject",T=function(F){return F instanceof D||!(!F||!F[S])},I=function F(B,V,K){var $;if(!B)return C;if(typeof B=="string"){var W=B.toLowerCase();N[W]&&($=W),V&&(N[W]=V,$=W);var Q=B.split("-");if(!$&&Q.length>1)return F(Q[0])}else{var fe=B.name;N[fe]=B,$=fe}return!K&&$&&(C=$),$||!K&&C},k=function(F,B){if(T(F))return F.clone();var V=typeof B=="object"?B:{};return V.date=F,V.args=arguments,new D(V)},O=A;O.l=I,O.i=T,O.w=function(F,B){return k(F,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var D=function(){function F(V){this.$L=I(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[S]=!0}var B=F.prototype;return B.parse=function(V){this.$d=function(K){var $=K.date,W=K.utc;if($===null)return new Date(NaN);if(O.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var Q=$.match(_);if(Q){var fe=Q[2]-1||0,ne=(Q[7]||"0").substring(0,3);return W?new Date(Date.UTC(Q[1],fe,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ne)):new Date(Q[1],fe,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ne)}}return new Date($)}(V),this.init()},B.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},B.$utils=function(){return O},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(V,K){var $=k(V);return this.startOf(K)<=$&&$<=this.endOf(K)},B.isAfter=function(V,K){return k(V)<this.startOf(K)},B.isBefore=function(V,K){return this.endOf(K)<k(V)},B.$g=function(V,K,$){return O.u(V)?this[K]:this.set($,V)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(V,K){var $=this,W=!!O.u(K)||K,Q=O.p(V),fe=function(ee,ie){var le=O.w($.$u?Date.UTC($.$y,ie,ee):new Date($.$y,ie,ee),$);return W?le:le.endOf(u)},ne=function(ee,ie){return O.w($.toDate()[ee].apply($.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(ie)),$)},De=this.$W,Ce=this.$M,Ie=this.$D,Xe="set"+(this.$u?"UTC":"");switch(Q){case p:return W?fe(1,0):fe(31,11);case f:return W?fe(1,Ce):fe(0,Ce+1);case c:var he=this.$locale().weekStart||0,ke=(De<he?De+7:De)-he;return fe(W?Ie-ke:Ie+(6-ke),Ce);case u:case v:return ne(Xe+"Hours",0);case l:return ne(Xe+"Minutes",1);case a:return ne(Xe+"Seconds",2);case s:return ne(Xe+"Milliseconds",3);default:return this.clone()}},B.endOf=function(V){return this.startOf(V,!1)},B.$set=function(V,K){var $,W=O.p(V),Q="set"+(this.$u?"UTC":""),fe=($={},$[u]=Q+"Date",$[v]=Q+"Date",$[f]=Q+"Month",$[p]=Q+"FullYear",$[l]=Q+"Hours",$[a]=Q+"Minutes",$[s]=Q+"Seconds",$[o]=Q+"Milliseconds",$)[W],ne=W===u?this.$D+(K-this.$W):K;if(W===f||W===p){var De=this.clone().set(v,1);De.$d[fe](ne),De.init(),this.$d=De.set(v,Math.min(this.$D,De.daysInMonth())).$d}else fe&&this.$d[fe](ne);return this.init(),this},B.set=function(V,K){return this.clone().$set(V,K)},B.get=function(V){return this[O.p(V)]()},B.add=function(V,K){var $,W=this;V=Number(V);var Q=O.p(K),fe=function(Ce){var Ie=k(W);return O.w(Ie.date(Ie.date()+Math.round(Ce*V)),W)};if(Q===f)return this.set(f,this.$M+V);if(Q===p)return this.set(p,this.$y+V);if(Q===u)return fe(1);if(Q===c)return fe(7);var ne=($={},$[a]=r,$[l]=i,$[s]=n,$)[Q]||1,De=this.$d.getTime()+V*ne;return O.w(De,this)},B.subtract=function(V,K){return this.add(-1*V,K)},B.format=function(V){var K=this,$=this.$locale();if(!this.isValid())return $.invalidDate||m;var W=V||"YYYY-MM-DDTHH:mm:ssZ",Q=O.z(this),fe=this.$H,ne=this.$m,De=this.$M,Ce=$.weekdays,Ie=$.months,Xe=$.meridiem,he=function(ie,le,G,Me){return ie&&(ie[le]||ie(K,W))||G[le].slice(0,Me)},ke=function(ie){return O.s(fe%12||12,ie,"0")},ee=Xe||function(ie,le,G){var Me=ie<12?"AM":"PM";return G?Me.toLowerCase():Me};return W.replace(b,function(ie,le){return le||function(G){switch(G){case"YY":return String(K.$y).slice(-2);case"YYYY":return O.s(K.$y,4,"0");case"M":return De+1;case"MM":return O.s(De+1,2,"0");case"MMM":return he($.monthsShort,De,Ie,3);case"MMMM":return he(Ie,De);case"D":return K.$D;case"DD":return O.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return he($.weekdaysMin,K.$W,Ce,2);case"ddd":return he($.weekdaysShort,K.$W,Ce,3);case"dddd":return Ce[K.$W];case"H":return String(fe);case"HH":return O.s(fe,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return ee(fe,ne,!0);case"A":return ee(fe,ne,!1);case"m":return String(ne);case"mm":return O.s(ne,2,"0");case"s":return String(K.$s);case"ss":return O.s(K.$s,2,"0");case"SSS":return O.s(K.$ms,3,"0");case"Z":return Q}return null}(ie)||Q.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(V,K,$){var W,Q=this,fe=O.p(K),ne=k(V),De=(ne.utcOffset()-this.utcOffset())*r,Ce=this-ne,Ie=function(){return O.m(Q,ne)};switch(fe){case p:W=Ie()/12;break;case f:W=Ie();break;case d:W=Ie()/3;break;case c:W=(Ce-De)/6048e5;break;case u:W=(Ce-De)/864e5;break;case l:W=Ce/i;break;case a:W=Ce/r;break;case s:W=Ce/n;break;default:W=Ce}return $?W:O.a(W)},B.daysInMonth=function(){return this.endOf(f).$D},B.$locale=function(){return N[this.$L]},B.locale=function(V,K){if(!V)return this.$L;var $=this.clone(),W=I(V,K,!0);return W&&($.$L=W),$},B.clone=function(){return O.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},F}(),R=D.prototype;return k.prototype=R,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",f],["$y",p],["$D",v]].forEach(function(F){R[F[1]]=function(B){return this.$g(B,F[0],F[1])}}),k.extend=function(F,B){return F.$i||(F(B,D,k),F.$i=!0),k},k.locale=I,k.isDayjs=T,k.unix=function(F){return k(1e3*F)},k.en=N[C],k.Ls=N,k.p={},k})})(OV);var roe=OV.exports;const Mn=wi(roe),M_=dr(It,"pedidos"),ioe=dr(It,"movimientos_caja");async function ooe(){const e=Mn(),t=e.add(3,"day").toDate(),n=e.subtract(7,"day").toDate(),r=["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA"],i=await ra(na(M_,qn("status","in",r))),o=i.size,a=(await ra(na(M_,qn("status","in",r),qn("fecha_compromiso","<=",ze.fromDate(t))))).size,u=(await ra(na(M_,qn("saldo",">",0),qn("fecha_compromiso","<",ze.fromDate(e.toDate()))))).docs.reduce((p,v)=>{const m=v.data();return p+m.saldo},0),f=(await ra(na(ioe,qn("fecha",">=",ze.fromDate(n)),wp("fecha","asc")))).docs.map(p=>{const v=p.data();return{fecha:v.fecha.toDate(),monto:v.tipo==="EGRESO"?v.monto*-1:v.monto}}),d=new Map;return i.docs.forEach(p=>{const v=p.data();d.set(v.status,(d.get(v.status)??0)+1)}),{pedidosActivos:o,carteraVencida:u,entregasProximas:a,flujoCaja:f,pedidosPorEstado:Array.from(d.entries()).map(([p,v])=>({estado:p,total:v}))}}function soe(){return gf({queryKey:["dashboard"],queryFn:ooe,staleTime:1e3*60})}var kV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(kM,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var s=i.prototype,a=s.format;o.en.formats=n,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,m){var _=m&&m.toUpperCase();return v||d[m]||n[m]||d[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,y,x){return y||x.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(kV);var aoe=kV.exports;const loe=wi(aoe);Mn.extend(loe);function tt(e,t="MXN"){return new Intl.NumberFormat("es-MX",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0)}function Yc(e){return e?Mn(e).format("DD MMM YYYY"):"Sin fecha"}function RV(e){const t=e.replace(/\D/g,"");return t.length!==10?e:`${t.slice(0,3)} ${t.slice(3,6)} ${t.slice(6)}`}function nu({title:e,description:t,children:n}){return w.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-3 rounded-lg border border-dashed border-slate-200 bg-white p-10 text-center text-slate-500",children:[w.jsx("h3",{className:"text-base font-semibold text-slate-700",children:e}),t?w.jsx("p",{className:"max-w-md text-sm",children:t}):null,n]})}var x0={},NV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(NV);var PA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(PA);var CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(CA);var E0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}e.toPath=t})(E0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NV,n=PA,r=CA,i=E0;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=o})(x0);var uoe=x0.get;const Zc=wi(uoe);var DV={exports:{}},ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=Symbol.for("react.transitional.element"),OA=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),P0=Symbol.for("react.consumer"),C0=Symbol.for("react.context"),I0=Symbol.for("react.forward_ref"),O0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),N0=Symbol.for("react.lazy"),coe=Symbol.for("react.view_transition"),foe=Symbol.for("react.client.reference");function bi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IA:switch(e=e.type,e){case S0:case T0:case A0:case O0:case k0:case coe:return e;default:switch(e=e&&e.$$typeof,e){case C0:case I0:case N0:case R0:return e;case P0:return e;default:return t}}case OA:return t}}}ut.ContextConsumer=P0;ut.ContextProvider=C0;ut.Element=IA;ut.ForwardRef=I0;ut.Fragment=S0;ut.Lazy=N0;ut.Memo=R0;ut.Portal=OA;ut.Profiler=T0;ut.StrictMode=A0;ut.Suspense=O0;ut.SuspenseList=k0;ut.isContextConsumer=function(e){return bi(e)===P0};ut.isContextProvider=function(e){return bi(e)===C0};ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IA};ut.isForwardRef=function(e){return bi(e)===I0};ut.isFragment=function(e){return bi(e)===S0};ut.isLazy=function(e){return bi(e)===N0};ut.isMemo=function(e){return bi(e)===R0};ut.isPortal=function(e){return bi(e)===OA};ut.isProfiler=function(e){return bi(e)===T0};ut.isStrictMode=function(e){return bi(e)===A0};ut.isSuspense=function(e){return bi(e)===O0};ut.isSuspenseList=function(e){return bi(e)===k0};ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===S0||e===T0||e===A0||e===O0||e===k0||typeof e=="object"&&e!==null&&(e.$$typeof===N0||e.$$typeof===R0||e.$$typeof===C0||e.$$typeof===P0||e.$$typeof===I0||e.$$typeof===foe||e.getModuleId!==void 0)};ut.typeOf=bi;DV.exports=ut;var doe=DV.exports,Er=e=>e===0?0:e>0?1:-1,Xr=e=>typeof e=="number"&&e!=+e,bl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!Xr(e),Eo=e=>Ee(e)||typeof e=="string",hoe=0,kh=e=>{var t=++hoe;return"".concat(e||"").concat(t)},Bi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return r;var o;if(bl(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Xr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},MV=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Zt(e,t,n){return Ee(e)&&Ee(t)?e+n*(t-e):t}function jV(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Zc(r,t))===n)}var At=e=>e===null||typeof e>"u",xp=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),poe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kA(e){if(typeof e!="string")return!1;var t=poe;return t.includes(e)}var moe=["viewBox","children"],cR=["points","pathLength"],j_={svg:moe,polygon:cR,polyline:cR},RA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{kA(i)&&(r[i]=o=>n[i](n,o))}),r},goe=(e,t,n)=>r=>(e(t,n,r),null),NA=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];kA(i)&&typeof o=="function"&&(r||(r={}),r[i]=goe(o,t,n))}),r},voe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function LV(e){if(typeof e!="string")return!1;var t=voe;return t.includes(e)}function Ya(e){var t=Object.entries(e).filter(n=>{var[r]=n;return LV(r)});return Object.fromEntries(t)}var fR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dR=null,L_=null,$V=e=>{if(e===dR&&Array.isArray(L_))return L_;var t=[];return g.Children.forEach(e,n=>{At(n)||(doe.isFragment(n)?t=t.concat($V(n.props.children)):t.push(n))}),L_=t,dR=e,t};function yoe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>fR(i)):r=[fR(t)],$V(e).forEach(i=>{var o=Zc(i,"type.displayName")||Zc(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var FV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,woe=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(j_==null?void 0:j_[r]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),a=typeof e!="function"&&(!!r&&o.includes(t)||LV(t)),l=!!n&&kA(t);return s||a||l},Wt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;woe((s=r)===null||s===void 0?void 0:s[o],o,t,n)&&(i[o]=r[o])}),i},_oe=["children","width","height","viewBox","className","style","title","desc"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nE.apply(null,arguments)}function boe(e,t){if(e==null)return{};var n,r,i=xoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VV=g.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=e,c=boe(e,_oe),f=o||{width:r,height:i,x:0,y:0},d=ye("recharts-surface",s);return g.createElement("svg",nE({},Wt(c,!0,"svg"),{className:d,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),Eoe=["children","className"];function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rE.apply(null,arguments)}function Soe(e,t){if(e==null)return{};var n,r,i=Aoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wi=g.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Soe(e,Eoe),o=ye("recharts-layer",r);return g.createElement("g",rE({className:o},Wt(i,!0),{ref:t}),n)}),Toe=g.createContext(null);function ct(e){return function(){return e}}const UV=Math.cos,Mv=Math.sin,Yi=Math.sqrt,jv=Math.PI,D0=2*jv,iE=Math.PI,oE=2*iE,dl=1e-6,Poe=oE-dl;function zV(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Coe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zV;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ioe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zV:Coe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>dl)if(!(Math.abs(f*l-u*c)>dl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,v=i-a,m=l*l+u*u,_=p*p+v*v,b=Math.sqrt(m),y=Math.sqrt(d),x=o*Math.tan((iE-Math.acos((m+d-_)/(2*b*y)))/2),A=x/y,C=x/b;Math.abs(A-1)>dl&&this._append`L${t+A*c},${n+A*f}`,this._append`A${o},${o},0,0,${+(f*p>c*v)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>dl||Math.abs(this._y1-c)>dl)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%oE+oE),d>Poe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>dl&&this._append`A${r},${r},0,${+(d>=iE)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DA(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ioe(t)}function MA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BV(e){this._context=e}BV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function M0(e){return new BV(e)}function WV(e){return e[0]}function HV(e){return e[1]}function KV(e,t){var n=ct(!0),r=null,i=M0,o=null,s=DA(a);e=typeof e=="function"?e:e===void 0?WV:ct(e),t=typeof t=="function"?t:t===void 0?HV:ct(t);function a(l){var u,c=(l=MA(l)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Rm(e,t,n){var r=null,i=ct(!0),o=null,s=M0,a=null,l=DA(u);e=typeof e=="function"?e:e===void 0?WV:ct(+e),t=typeof t=="function"?t:ct(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?HV:ct(+n);function u(f){var d,p,v,m=(f=MA(f)).length,_,b=!1,y,x=new Array(m),A=new Array(m);for(o==null&&(a=s(y=l())),d=0;d<=m;++d){if(!(d<m&&i(_=f[d],d,f))===b)if(b=!b)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=d-1;v>=p;--v)a.point(x[v],A[v]);a.lineEnd(),a.areaEnd()}b&&(x[d]=+e(_,d,f),A[d]=+t(_,d,f),a.point(r?+r(_,d,f):x[d],n?+n(_,d,f):A[d]))}if(y)return a=null,y+""||null}function c(){return KV().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class qV{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Ooe(e){return new qV(e,!0)}function koe(e){return new qV(e,!1)}const jA={draw(e,t){const n=Yi(t/jv);e.moveTo(n,0),e.arc(0,0,n,0,D0)}},Roe={draw(e,t){const n=Yi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GV=Yi(1/3),Noe=GV*2,Doe={draw(e,t){const n=Yi(t/Noe),r=n*GV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Moe={draw(e,t){const n=Yi(t),r=-n/2;e.rect(r,r,n,n)}},joe=.8908130915292852,YV=Mv(jv/10)/Mv(7*jv/10),Loe=Mv(D0/10)*YV,$oe=-UV(D0/10)*YV,Foe={draw(e,t){const n=Yi(t*joe),r=Loe*n,i=$oe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=D0*o/5,a=UV(s),l=Mv(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},$_=Yi(3),Voe={draw(e,t){const n=-Yi(t/($_*3));e.moveTo(0,n*2),e.lineTo(-$_*n,-n),e.lineTo($_*n,-n),e.closePath()}},ii=-.5,oi=Yi(3)/2,sE=1/Yi(12),Uoe=(sE/2+1)*3,zoe={draw(e,t){const n=Yi(t/Uoe),r=n/2,i=n*sE,o=r,s=n*sE+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(ii*r-oi*i,oi*r+ii*i),e.lineTo(ii*o-oi*s,oi*o+ii*s),e.lineTo(ii*a-oi*l,oi*a+ii*l),e.lineTo(ii*r+oi*i,ii*i-oi*r),e.lineTo(ii*o+oi*s,ii*s-oi*o),e.lineTo(ii*a+oi*l,ii*l-oi*a),e.closePath()}};function Boe(e,t){let n=null,r=DA(i);e=typeof e=="function"?e:ct(e||jA),t=typeof t=="function"?t:ct(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ct(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ct(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Lv(){}function $v(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZV(e){this._context=e}ZV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$v(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Woe(e){return new ZV(e)}function QV(e){this._context=e}QV.prototype={areaStart:Lv,areaEnd:Lv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hoe(e){return new QV(e)}function XV(e){this._context=e}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$v(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Koe(e){return new XV(e)}function JV(e){this._context=e}JV.prototype={areaStart:Lv,areaEnd:Lv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qoe(e){return new JV(e)}function hR(e){return e<0?-1:1}function pR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(hR(o)+hR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function mR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function F_(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Fv(e){this._context=e}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F_(this,this._t0,mR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F_(this,mR(this,n=pR(this,e,t)),n);break;default:F_(this,this._t0,n=pR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function e4(e){this._context=new t4(e)}(e4.prototype=Object.create(Fv.prototype)).point=function(e,t){Fv.prototype.point.call(this,t,e)};function t4(e){this._context=e}t4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Goe(e){return new Fv(e)}function Yoe(e){return new e4(e)}function n4(e){this._context=e}n4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gR(e),i=gR(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gR(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Zoe(e){return new n4(e)}function j0(e,t){this._context=e,this._t=t}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Qoe(e){return new j0(e,.5)}function Xoe(e){return new j0(e,0)}function Joe(e){return new j0(e,1)}function Qc(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ese(e,t){return e[t]}function tse(e){const t=[];return t.key=e,t}function nse(){var e=ct([]),t=aE,n=Qc,r=ese;function i(o){var s=Array.from(e.apply(this,arguments),tse),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=MA(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ct(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ct(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?aE:typeof o=="function"?o:ct(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Qc,i):n},i}function rse(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Qc(e,t)}}function ise(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Qc(e,t)}}function ose(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=e[t[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,v=0;v<a;++v){var m=e[t[v]],_=m[r][1]||0,b=m[r-1][1]||0;p+=_-b}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Qc(e,t)}}var sse=["type","size","sizeType"];function lE(){return lE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lE.apply(null,arguments)}function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ase(e,t,n){return(t=lse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lse(e){var t=use(e,"string");return typeof t=="symbol"?t:t+""}function use(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cse(e,t){if(e==null)return{};var n,r,i=fse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r4={symbolCircle:jA,symbolCross:Roe,symbolDiamond:Doe,symbolSquare:Moe,symbolStar:Foe,symbolTriangle:Voe,symbolWye:zoe},dse=Math.PI/180,hse=e=>{var t="symbol".concat(xp(e));return r4[t]||jA},pse=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*dse;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mse=(e,t)=>{r4["symbol".concat(xp(e))]=t},i4=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=cse(e,sse),o=yR(yR({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var a=()=>{var d=hse(s),p=Boe().type(d).size(pse(n,r,s));return p()},{className:l,cx:u,cy:c}=o,f=Wt(o,!0);return u===+u&&c===+c&&n===+n?g.createElement("path",lE({},f,{className:ye("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:a()})):null};i4.registerSymbol=mse;var o4={},s4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}e.uniqBy=t})(s4);var LA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(LA);var a4={},L0={},l4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(l4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l4;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(L0);var u4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(u4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L0,n=u4;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(a4);var c4={},f4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(f4);var d4={},V_={},U_={},$A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})($A);var FA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(FA);var VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(VA);var wR;function gse(){return wR||(wR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=$A,r=FA,i=VA;function o(f,d,p){return typeof p!="function"?t.isMatch(f,d):s(f,d,function v(m,_,b,y,x,A){const C=p(m,_,b,y,x,A);return C!==void 0?!!C:s(m,_,v,A)},new Map)}function s(f,d,p,v){if(d===f)return!0;switch(typeof d){case"object":return a(f,d,p,v);case"function":return Object.keys(d).length>0?s(f,{...d},p,v):i.eq(f,d);default:return n.isObject(f)?typeof d=="string"?d==="":!0:i.eq(f,d)}}function a(f,d,p,v){if(d==null)return!0;if(Array.isArray(d))return u(f,d,p,v);if(d instanceof Map)return l(f,d,p,v);if(d instanceof Set)return c(f,d,p,v);const m=Object.keys(d);if(f==null)return m.length===0;if(m.length===0)return!0;if(v&&v.has(d))return v.get(d)===f;v&&v.set(d,f);try{for(let _=0;_<m.length;_++){const b=m[_];if(!r.isPrimitive(f)&&!(b in f)||d[b]===void 0&&f[b]!==void 0||d[b]===null&&f[b]!==null||!p(f[b],d[b],b,f,d,v))return!1}return!0}finally{v&&v.delete(d)}}function l(f,d,p,v){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,_]of d.entries()){const b=f.get(m);if(p(b,_,m,f,d,v)===!1)return!1}return!0}function u(f,d,p,v){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let _=0;_<d.length;_++){const b=d[_];let y=!1;for(let x=0;x<f.length;x++){if(m.has(x))continue;const A=f[x];let C=!1;if(p(A,b,_,f,d,v)&&(C=!0),C){m.add(x),y=!0;break}}if(!y)return!1}return!0}function c(f,d,p,v){return d.size===0?!0:f instanceof Set?u([...f],[...d],p,v):!1}e.isMatchWith=o,e.isSetMatch=c}(U_)),U_}var _R;function UA(){return _R||(_R=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gse();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(V_)),V_}var h4={},zA={},p4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(p4);var BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(BA);var WA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",d="[object ArrayBuffer]",p="[object Object]",v="[object Error]",m="[object DataView]",_="[object Uint8Array]",b="[object Uint8ClampedArray]",y="[object Uint16Array]",x="[object Uint32Array]",A="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",S="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=d,e.arrayTag=c,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=m,e.dateTag=a,e.errorTag=v,e.float32ArrayTag=I,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=S,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=y,e.uint32ArrayTag=x,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=b})(WA);var m4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(m4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4,n=BA,r=WA,i=FA,o=m4;function s(c,f){return a(c,void 0,c,new Map,f)}function a(c,f,d,p=new Map,v=void 0){const m=v==null?void 0:v(c,f,d,p);if(m!==void 0)return m;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const _=new Array(c.length);p.set(c,_);for(let b=0;b<c.length;b++)_[b]=a(c[b],b,d,p,v);return Object.hasOwn(c,"index")&&(_.index=c.index),Object.hasOwn(c,"input")&&(_.input=c.input),_}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const _=new RegExp(c.source,c.flags);return _.lastIndex=c.lastIndex,_}if(c instanceof Map){const _=new Map;p.set(c,_);for(const[b,y]of c)_.set(b,a(y,b,d,p,v));return _}if(c instanceof Set){const _=new Set;p.set(c,_);for(const b of c)_.add(a(b,void 0,d,p,v));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const _=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,_);for(let b=0;b<c.length;b++)_[b]=a(c[b],b,d,p,v);return _}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const _=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,_),l(_,c,d,p,v),_}if(typeof File<"u"&&c instanceof File){const _=new File([c],c.name,{type:c.type});return p.set(c,_),l(_,c,d,p,v),_}if(c instanceof Blob){const _=new Blob([c],{type:c.type});return p.set(c,_),l(_,c,d,p,v),_}if(c instanceof Error){const _=new c.constructor;return p.set(c,_),_.message=c.message,_.name=c.name,_.stack=c.stack,_.cause=c.cause,l(_,c,d,p,v),_}if(typeof c=="object"&&u(c)){const _=Object.create(Object.getPrototypeOf(c));return p.set(c,_),l(_,c,d,p,v),_}return c}function l(c,f,d=c,p,v){const m=[...Object.keys(f),...t.getSymbols(f)];for(let _=0;_<m.length;_++){const b=m[_],y=Object.getOwnPropertyDescriptor(c,b);(y==null||y.writable)&&(c[b]=a(f[b],b,d,p,v))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=a,e.copyProperties=l})(zA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(h4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=h4;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(d4);var g4={},v4={},y4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA,n=WA;function r(i,o){return t.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(v4);var w4={},HA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(HA);var _4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(_4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA,n=HA,r=_4,i=E0;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=o})(w4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA(),n=CA,r=v4,i=x0,o=w4;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(g4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA,n=f4,r=d4,i=g4;function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(c4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s4,n=LA,r=a4,i=c4;function o(s,a=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(a)):[]}e.uniqBy=o})(o4);var vse=o4.uniqBy;const bR=wi(vse);function yse(e,t,n){return t===!0?bR(e,n):typeof t=="function"?bR(e,t):e}var b4={exports:{}},x4={},E4={exports:{}},S4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=g;function wse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _se=typeof Object.is=="function"?Object.is:wse,bse=Xc.useState,xse=Xc.useEffect,Ese=Xc.useLayoutEffect,Sse=Xc.useDebugValue;function Ase(e,t){var n=t(),r=bse({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Ese(function(){i.value=n,i.getSnapshot=t,z_(i)&&o({inst:i})},[e,n,t]),xse(function(){return z_(i)&&o({inst:i}),e(function(){z_(i)&&o({inst:i})})},[e]),Sse(n),n}function z_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_se(e,n)}catch{return!0}}function Tse(e,t){return t()}var Pse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tse:Ase;S4.useSyncExternalStore=Xc.useSyncExternalStore!==void 0?Xc.useSyncExternalStore:Pse;E4.exports=S4;var Cse=E4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=g,Ise=Cse;function Ose(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kse=typeof Object.is=="function"?Object.is:Ose,Rse=Ise.useSyncExternalStore,Nse=$0.useRef,Dse=$0.useEffect,Mse=$0.useMemo,jse=$0.useDebugValue;x4.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Nse(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Mse(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,kse(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?(c=p,v):(c=p,f=m)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=Rse(e,o[0],o[1]);return Dse(function(){s.hasValue=!0,s.value=a},[a]),jse(a),a};b4.exports=x4;var Lse=b4.exports,KA=g.createContext(null),$se=e=>e,Tn=()=>{var e=g.useContext(KA);return e?e.store.dispatch:$se},Cg=()=>{},Fse=()=>Cg,Vse=(e,t)=>e===t;function _e(e){var t=g.useContext(KA);return Lse.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Fse,t?t.store.getState:Cg,t?t.store.getState:Cg,t?e:Cg,Vse)}function Use(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zse(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Bse(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var xR=e=>Array.isArray(e)?e:[e];function Wse(e){const t=Array.isArray(e[0])?e[0]:e;return Bse(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Hse(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Kse=class{constructor(e){this.value=e}deref(){return this.value}},qse=typeof WeakRef<"u"?WeakRef:Kse,Gse=0,ER=1;function Nm(){return{s:Gse,v:void 0,o:null,p:null}}function A4(e,t={}){let n=Nm();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var f;let a=n;const{length:l}=arguments;for(let d=0,p=l;d<p;d++){const v=arguments[d];if(typeof v=="function"||typeof v=="object"&&v!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const _=m.get(v);_===void 0?(a=Nm(),m.set(v,a)):a=_}else{let m=a.p;m===null&&(a.p=m=new Map);const _=m.get(v);_===void 0?(a=Nm(),m.set(v,a)):a=_}}const u=a;let c;if(a.s===ER)c=a.v;else if(c=e.apply(null,arguments),o++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new qse(c):c}return u.s=ER,u.v=c,c}return s.clearCache=()=>{n=Nm(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Yse(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Use(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:p=A4,argsMemoizeOptions:v=[]}=c,m=xR(d),_=xR(v),b=Wse(i),y=f(function(){return o++,u.apply(null,arguments)},...m),x=p(function(){s++;const C=Hse(b,arguments);return a=y.apply(null,C),a},..._);return Object.assign(x,{resultFunc:u,memoizedResultFunc:y,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var q=Yse(A4),Zse=Object.assign((e,t=q)=>{zse(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>Zse}),T4={},P4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),a=t(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};e.compareValues=n})(C4);var I4={},qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(qA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(I4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4,n=I4,r=E0;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,v)=>{let m=p;for(let _=0;_<v.length&&m!=null;++_)m=m[v[_]];return m},c=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:f.map(v=>c(v,p))})).slice().sort((p,v)=>{for(let m=0;m<f.length;m++){const _=t.compareValues(p.criteria[m],v.criteria[m],a[m]);if(_!==0)return _}return 0}).map(p=>p.original)}e.orderBy=i})(P4);var O4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(O4);var GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA,n=L0,r=$A,i=VA;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}e.isIterateeCall=o})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4,n=O4,r=GA;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(T4);var Qse=T4.sortBy;const F0=wi(Qse);var k4=e=>e.legend.settings,Xse=e=>e.legend.size,Jse=e=>e.legend.payload;q([Jse,k4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?F0(r,n):r});var Dm=1;function eae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>Dm||Math.abs(s.left-t.left)>Dm||Math.abs(s.top-t.top)>Dm||Math.abs(s.width-t.width)>Dm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function On(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tae=typeof Symbol=="function"&&Symbol.observable||"@@observable",SR=tae,B_=()=>Math.random().toString(36).substring(7).split("").join("."),nae={INIT:`@@redux/INIT${B_()}`,REPLACE:`@@redux/REPLACE${B_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${B_()}`},Vv=nae;function YA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function R4(e,t,n){if(typeof e!="function")throw new Error(On(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(On(1));return n(R4)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((_,b)=>{s.set(b,_)}))}function c(){if(l)throw new Error(On(3));return i}function f(_){if(typeof _!="function")throw new Error(On(4));if(l)throw new Error(On(5));let b=!0;u();const y=a++;return s.set(y,_),function(){if(b){if(l)throw new Error(On(6));b=!1,u(),s.delete(y),o=null}}}function d(_){if(!YA(_))throw new Error(On(7));if(typeof _.type>"u")throw new Error(On(8));if(typeof _.type!="string")throw new Error(On(17));if(l)throw new Error(On(9));try{l=!0,i=r(i,_)}finally{l=!1}return(o=s).forEach(y=>{y()}),_}function p(_){if(typeof _!="function")throw new Error(On(10));r=_,d({type:Vv.REPLACE})}function v(){const _=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(On(11));function y(){const A=b;A.next&&A.next(c())}return y(),{unsubscribe:_(y)}},[SR](){return this}}}return d({type:Vv.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:p,[SR]:v}}function rae(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Vv.INIT})>"u")throw new Error(On(12));if(typeof n(void 0,{type:Vv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(On(13))})}function N4(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{rae(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],p=s[f],v=d(p,a);if(typeof v>"u")throw a&&a.type,new Error(On(14));u[f]=v,l=l||v!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Uv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iae(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(On(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=Uv(...a)(i.dispatch),{...i,dispatch:o}}}function D4(e){return YA(e)&&"type"in e&&typeof e.type=="string"}var M4=Symbol.for("immer-nothing"),AR=Symbol.for("immer-draftable"),Jr=Symbol.for("immer-state");function Di(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jc=Object.getPrototypeOf;function ru(e){return!!e&&!!e[Jr]}function os(e){var t;return e?j4(e)||Array.isArray(e)||!!e[AR]||!!((t=e.constructor)!=null&&t[AR])||Ep(e)||U0(e):!1}var oae=Object.prototype.constructor.toString();function j4(e){if(!e||typeof e!="object")return!1;const t=Jc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===oae}function zv(e,t){V0(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function V0(e){const t=e[Jr];return t?t.type_:Array.isArray(e)?1:Ep(e)?2:U0(e)?3:0}function uE(e,t){return V0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function L4(e,t,n){const r=V0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function sae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ep(e){return e instanceof Map}function U0(e){return e instanceof Set}function hl(e){return e.copy_||e.base_}function cE(e,t){if(Ep(e))return new Map(e);if(U0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=j4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Jr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Jc(e),r)}else{const r=Jc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ZA(e,t=!1){return z0(e)||ru(e)||!os(e)||(V0(e)>1&&Object.defineProperties(e,{set:{value:Mm},add:{value:Mm},clear:{value:Mm},delete:{value:Mm}}),Object.freeze(e),t&&Object.values(e).forEach(n=>ZA(n,!0))),e}function Mm(){Di(2)}function z0(e){return Object.isFrozen(e)}var aae={};function iu(e){const t=aae[e];return t||Di(0,e),t}var Rh;function $4(){return Rh}function lae(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TR(e,t){t&&(iu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fE(e){dE(e),e.drafts_.forEach(uae),e.drafts_=null}function dE(e){e===Rh&&(Rh=e.parent_)}function PR(e){return Rh=lae(Rh,e)}function uae(e){const t=e[Jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Jr].modified_&&(fE(t),Di(4)),os(e)&&(e=Bv(t,e),t.parent_||Wv(t,e)),t.patches_&&iu("Patches").generateReplacementPatches_(n[Jr].base_,e,t.patches_,t.inversePatches_)):e=Bv(t,n,[]),fE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==M4?e:void 0}function Bv(e,t,n){if(z0(t))return t;const r=t[Jr];if(!r)return zv(t,(i,o)=>IR(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Wv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),zv(o,(a,l)=>IR(e,r,i,a,l,n,s)),Wv(e,i,!1),n&&e.patches_&&iu("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function IR(e,t,n,r,i,o,s){if(ru(i)){const a=o&&t&&t.type_!==3&&!uE(t.assigned_,r)?o.concat(r):void 0,l=Bv(e,i,a);if(L4(n,r,l),ru(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(os(i)&&!z0(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ep(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Wv(e,i)}}function Wv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ZA(t,n)}function cae(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:$4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=QA;n&&(i=[r],o=Nh);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var QA={get(e,t){if(t===Jr)return e;const n=hl(e);if(!uE(n,t))return fae(e,n,t);const r=n[t];return e.finalized_||!os(r)?r:r===W_(e.base_,t)?(H_(e),e.copy_[t]=pE(r,e)):r},has(e,t){return t in hl(e)},ownKeys(e){return Reflect.ownKeys(hl(e))},set(e,t,n){const r=F4(hl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=W_(hl(e),t),o=i==null?void 0:i[Jr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(sae(n,i)&&(n!==void 0||uE(e.base_,t)))return!0;H_(e),hE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return W_(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,H_(e),hE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=hl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Di(11)},getPrototypeOf(e){return Jc(e.base_)},setPrototypeOf(){Di(12)}},Nh={};zv(QA,(e,t)=>{Nh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nh.deleteProperty=function(e,t){return Nh.set.call(this,e,t,void 0)};Nh.set=function(e,t,n){return QA.set.call(this,e[0],t,n,e[0])};function W_(e,t){const n=e[Jr];return(n?hl(n):e)[t]}function fae(e,t,n){var i;const r=F4(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function F4(e,t){if(!(t in e))return;let n=Jc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jc(n)}}function hE(e){e.modified_||(e.modified_=!0,e.parent_&&hE(e.parent_))}function H_(e){e.copy_||(e.copy_=cE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Di(6),r!==void 0&&typeof r!="function"&&Di(7);let i;if(os(t)){const o=PR(this),s=pE(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?fE(o):dE(o)}return TR(o,r),CR(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===M4&&(i=void 0),this.autoFreeze_&&ZA(i,!0),r){const o=[],s=[];iu("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Di(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){os(e)||Di(8),ru(e)&&(e=qo(e));const t=PR(this),n=pE(e,void 0);return n[Jr].isManual_=!0,dE(t),n}finishDraft(e,t){const n=e&&e[Jr];(!n||!n.isManual_)&&Di(9);const{scope_:r}=n;return TR(r,t),CR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=iu("Patches").applyPatches_;return ru(e)?r(e,t):this.produce(e,i=>r(i,t))}};function pE(e,t){const n=Ep(e)?iu("MapSet").proxyMap_(e,t):U0(e)?iu("MapSet").proxySet_(e,t):cae(e,t);return(t?t.scope_:$4()).drafts_.push(n),n}function qo(e){return ru(e)||Di(10,e),V4(e)}function V4(e){if(!os(e)||z0(e))return e;const t=e[Jr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cE(e,t.scope_.immer_.useStrictShallowCopy_)}else n=cE(e,!0);return zv(n,(r,i)=>{L4(n,r,V4(i))}),t&&(t.finalized_=!1),n}var hae=new dae,U4=hae.produce;function z4(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var pae=z4(),mae=z4,gae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uv:Uv.apply(null,arguments)};function vi(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Gr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>D4(r)&&r.type===e,n}var B4=class Od extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Od.prototype)}static get[Symbol.species](){return Od}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Od(...t[0].concat(this)):new Od(...t.concat(this))}};function OR(e){return os(e)?U4(e,()=>{}):e}function jm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function vae(e){return typeof e=="boolean"}var yae=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new B4;return n&&(vae(n)?s.push(pae):s.push(mae(n.extraArgument))),s},wae="RTK_autoBatch",kR=e=>t=>{setTimeout(t,e)},_ae=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kR(10):e.type==="callback"?e.queueNotification:kR(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[wae]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},bae=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new B4(e);return r&&i.push(_ae(typeof r=="object"?r:void 0)),i};function xae(e){const t=yae(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(YA(n))a=N4(n);else throw new Error(Gr(1));let l;typeof r=="function"?l=r(t):l=t();let u=Uv;i&&(u=gae({trace:!1,...typeof i=="object"&&i}));const c=iae(...l),f=bae(c);let d=typeof s=="function"?s(f):f();const p=u(...d);return R4(a,o,p)}function W4(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Gr(28));if(a in t)throw new Error(Gr(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Eae(e){return typeof e=="function"}function Sae(e,t){let[n,r,i]=W4(t),o;if(Eae(e))o=()=>OR(e());else{const a=OR(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ru(c)){const p=f(c,l);return p===void 0?c:p}else{if(os(c))return U4(c,d=>f(d,l));{const d=f(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},a)}return s.getInitialState=o,s}var Aae="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tae=(e=21)=>{let t="",n=e;for(;n--;)t+=Aae[Math.random()*64|0];return t},Pae=Symbol.for("rtk-slice-createasyncthunk");function Cae(e,t){return`${e}/${t}`}function Iae({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Pae];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Gr(11));const a=(typeof i.reducers=="function"?i.reducers(kae()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(A,C){const N=typeof A=="string"?A:A.type;if(!N)throw new Error(Gr(12));if(N in u.sliceCaseReducersByType)throw new Error(Gr(13));return u.sliceCaseReducersByType[N]=C,c},addMatcher(A,C){return u.sliceMatchers.push({matcher:A,reducer:C}),c},exposeAction(A,C){return u.actionCreators[A]=C,c},exposeCaseReducer(A,C){return u.sliceCaseReducersByName[A]=C,c}};l.forEach(A=>{const C=a[A],N={reducerName:A,type:Cae(o,A),createNotation:typeof i.reducers=="function"};Nae(C)?Mae(N,C,c,t):Rae(N,C,c)});function f(){const[A={},C=[],N=void 0]=typeof i.extraReducers=="function"?W4(i.extraReducers):[i.extraReducers],S={...A,...u.sliceCaseReducersByType};return Sae(i.initialState,T=>{for(let I in S)T.addCase(I,S[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of C)T.addMatcher(I.matcher,I.reducer);N&&T.addDefaultCase(N)})}const d=A=>A,p=new Map,v=new WeakMap;let m;function _(A,C){return m||(m=f()),m(A,C)}function b(){return m||(m=f()),m.getInitialState()}function y(A,C=!1){function N(T){let I=T[A];return typeof I>"u"&&C&&(I=jm(v,N,b)),I}function S(T=d){const I=jm(p,C,()=>new WeakMap);return jm(I,T,()=>{const k={};for(const[O,D]of Object.entries(i.selectors??{}))k[O]=Oae(D,T,()=>jm(v,T,b),C);return k})}return{reducerPath:A,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const x={name:o,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...y(s),injectInto(A,{reducerPath:C,...N}={}){const S=C??s;return A.inject({reducerPath:S,reducer:_},N),{...x,...y(S,!0)}}};return x}}function Oae(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var ri=Iae();function kae(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Rae({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Dae(r))throw new Error(Gr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?vi(e,s):vi(e))}function Nae(e){return e._reducerDefinitionType==="asyncThunk"}function Dae(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Mae({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Gr(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,f=i(e,o,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Lm,pending:a||Lm,rejected:l||Lm,settled:u||Lm})}function Lm(){}var jae="task",H4="listener",K4="completed",XA="cancelled",Lae=`task-${XA}`,$ae=`task-${K4}`,mE=`${H4}-${XA}`,Fae=`${H4}-${K4}`,B0=class{constructor(e){qw(this,"name","TaskAbortError");qw(this,"message");this.code=e,this.message=`${jae} ${XA} (reason: ${e})`}},JA=(e,t)=>{if(typeof e!="function")throw new TypeError(Gr(32))},Hv=()=>{},q4=(e,t=Hv)=>(e.catch(t),e),G4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ll=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},$l=e=>{if(e.aborted){const{reason:t}=e;throw new B0(t)}};function Y4(e,t){let n=Hv;return new Promise((r,i)=>{const o=()=>i(new B0(e.reason));if(e.aborted){o();return}n=G4(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hv})}var Vae=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof B0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Kv=e=>t=>q4(Y4(e,t).then(n=>($l(e),n))),Z4=e=>{const t=Kv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:gc}=Object,RR={},W0="listenerMiddleware",Uae=(e,t)=>{const n=r=>G4(e,()=>Ll(r,e.reason));return(r,i)=>{JA(r);const o=new AbortController;n(o);const s=Vae(async()=>{$l(e),$l(o.signal);const a=await r({pause:Kv(o.signal),delay:Z4(o.signal),signal:o.signal});return $l(o.signal),a},()=>Ll(o,$ae));return i!=null&&i.autoJoin&&t.push(s.catch(Hv)),{result:Kv(e)(s),cancel(){Ll(o,Lae)}}}},zae=(e,t)=>{const n=async(r,i)=>{$l(t);let o=()=>{};const a=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Y4(t,Promise.race(a));return $l(t),l}finally{o()}};return(r,i)=>q4(n(r,i))},Q4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=vi(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Gr(21));return JA(o),{predicate:i,type:t,effect:o}},X4=gc(e=>{const{type:t,predicate:n,effect:r}=Q4(e);return{id:Tae(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Gr(22))}}},{withTypes:()=>X4}),NR=(e,t)=>{const{type:n,effect:r,predicate:i}=Q4(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},gE=e=>{e.pending.forEach(t=>{Ll(t,mE)})},Bae=e=>()=>{e.forEach(gE),e.clear()},DR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},J4=gc(vi(`${W0}/add`),{withTypes:()=>J4}),Wae=vi(`${W0}/removeAll`),e3=gc(vi(`${W0}/remove`),{withTypes:()=>e3}),Hae=(...e)=>{console.error(`${W0}/error`,...e)},Sp=(e={})=>{const t=new Map,{extra:n,onError:r=Hae}=e;JA(r);const i=c=>(c.unsubscribe=()=>t.delete(c.id),t.set(c.id,c),f=>{c.unsubscribe(),f!=null&&f.cancelActive&&gE(c)}),o=c=>{const f=NR(t,c)??X4(c);return i(f)};gc(o,{withTypes:()=>o});const s=c=>{const f=NR(t,c);return f&&(f.unsubscribe(),c.cancelActive&&gE(f)),!!f};gc(s,{withTypes:()=>s});const a=async(c,f,d,p)=>{const v=new AbortController,m=zae(o,v.signal),_=[];try{c.pending.add(v),await Promise.resolve(c.effect(f,gc({},d,{getOriginalState:p,condition:(b,y)=>m(b,y).then(Boolean),take:m,delay:Z4(v.signal),pause:Kv(v.signal),extra:n,signal:v.signal,fork:Uae(v.signal,_),unsubscribe:c.unsubscribe,subscribe:()=>{t.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((b,y,x)=>{b!==v&&(Ll(b,mE),x.delete(b))})},cancel:()=>{Ll(v,mE),c.pending.delete(v)},throwIfCancelled:()=>{$l(v.signal)}})))}catch(b){b instanceof B0||DR(r,b,{raisedBy:"effect"})}finally{await Promise.all(_),Ll(v,Fae),c.pending.delete(v)}},l=Bae(t);return{middleware:c=>f=>d=>{if(!D4(d))return f(d);if(J4.match(d))return o(d.payload);if(Wae.match(d)){l();return}if(e3.match(d))return s(d.payload);let p=c.getState();const v=()=>{if(p===RR)throw new Error(Gr(23));return p};let m;try{if(m=f(d),t.size>0){const _=c.getState(),b=Array.from(t.values());for(const y of b){let x=!1;try{x=y.predicate(d,_,p)}catch(A){x=!1,DR(r,A,{raisedBy:"predicate"})}x&&a(y,d,c,v)}}}finally{p=RR}return m},startListening:o,stopListening:s,clearListeners:l}};function Gr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kae={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t3=ri({name:"chartLayout",initialState:Kae,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qae,setLayout:Gae,setChartSize:Yae,setScale:Zae}=t3.actions,Qae=t3.reducer;function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(r){Xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xae(e,t,n){return(t=Jae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jae(e){var t=ele(e,"string");return typeof t=="symbol"?t:t+""}function ele(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qv=Math.PI/180,tle=e=>e*180/Math.PI,jn=(e,t,n,r)=>({x:e+Math.cos(-qv*r)*n,y:t+Math.sin(-qv*r)*n}),nle=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},rle=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},ile=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=rle({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:tle(l),angleInRadian:l}},ole=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},sle=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},ale=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=ile({x:n,y:r},t),{innerRadius:s,outerRadius:a}=t;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=ole(t),c=o,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?jR(jR({},t),{},{radius:i,angle:sle(c,t)}):null};function n3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){lle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lle(e,t,n){return(t=ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=cle(e,"string");return typeof t=="symbol"?t:t+""}function cle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t,n){return At(e)||At(t)?n:Eo(t)?Zc(e,t,n):typeof t=="function"?t(e):n}var fle=(e,t,n,r,i)=>{var o,s=-1,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,f=l>=a-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Er(c-u)!==Er(f-c)){var p=[];if(Er(f-c)===Er(i[1]-i[0])){d=f;var v=c+i[1]-i[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{d=u;var m=f+i[1]-i[0];p[0]=Math.min(c,(m+c)/2),p[1]=Math.max(c,(m+c)/2)}var _=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>_[0]&&e<=_[1]||e>=p[0]&&e<=p[1]){({index:s}=n[l]);break}}else{var b=Math.min(u,f),y=Math.max(u,f);if(e>(b+c)/2&&e<=(y+c)/2){({index:s}=n[l]);break}}}else if(t){for(var x=0;x<a;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===a-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:s}=t[x]);break}}return s},dle=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=t;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&Ee(e[o]))return fi(fi({},e),{},{[o]:e[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&Ee(e[s]))return fi(fi({},e),{},{[s]:e[s]+(i||0)})}return e},Za=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",r3=(e,t,n,r)=>{if(r)return e.map(a=>a.coordinate);var i,o,s=e.map(a=>(a.coordinate===t&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(t),o||s.push(n),s},i3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:d,axisType:p}=e;if(!s)return null;var v=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(m=p==="angleAxis"&&o&&o.length>=2?Er(o[0]-o[1])*2*m:m,f||d){var _=(f||d||[]).map((b,y)=>{var x=r?r.indexOf(b):b;return{coordinate:s(x)+m,value:b,offset:m,index:y}});return _.filter(b=>!Xr(b.coordinate))}return l&&u?u.map((b,y)=>({coordinate:s(b)+m,value:b,index:y,offset:m})):s.ticks&&c!=null?s.ticks(c).map((b,y)=>({coordinate:s(b)+m,value:b,offset:m,index:y})):s.domain().map((b,y)=>({coordinate:s(b)+m,value:r?r[b]:b,index:y,offset:m}))},$R=1e-4,hle=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$R,o=Math.max(r[0],r[1])+$R,s=e(t[0]),a=e(t[n-1]);(s<i||s>o||a<i||a>o)&&e.domain([t[0],t[n-1]])}},ple=(e,t)=>{if(!t||t.length!==2||!Ee(t[0])||!Ee(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(i[0]=n),(!Ee(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},mle=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,s=0;s<t;++s){var a=Xr(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1])}},gle=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var s=Xr(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},vle={sign:mle,expand:rse,none:Qc,silhouette:ise,wiggle:ose,positive:gle},yle=(e,t,n)=>{var r=vle[n],i=nse().keys(t).value((o,s)=>+An(o,s,0)).order(aE).offset(r);return i(e)};function wle(e){return e==null?void 0:String(e)}function FR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(i[t.dataKey])){var a=jV(n,"value",i[t.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=An(i,At(s)?t.dataKey:s);return At(l)?null:t.scale(l)}var VR=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var a=An(o,t.dataKey,t.scale.domain()[s]);return At(a)?null:t.scale(a)-i/2+r},_le=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},ble=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},xle=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Ele=(e,t,n)=>{if(e!=null)return xle(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=n3(u,t,n),f=ble(c);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},UR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=F0(t,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function BR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return fi(fi({},t),{},{dataKey:n,payload:r,value:i,name:o})}function H0(e,t){if(e)return String(e);if(typeof t=="string")return t}function Sle(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?ale({x:e,y:t},r):null}var Ale=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:s}=r;return fi(fi(fi({},r),jn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return fi(fi(fi({},r),jn(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},Tle=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ms=e=>e.layout.width,gs=e=>e.layout.height,Ple=e=>e.layout.scale,o3=e=>e.layout.margin,K0=q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),q0=q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Cle="data-recharts-item-index",Ile="data-recharts-item-data-key",Ap=60;function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){Ole(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ole(e,t,n){return(t=kle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nle=e=>e.brush.height;function Dle(e){var t=q0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ap;return n+i}return n},0)}function Mle(e){var t=q0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ap;return n+i}return n},0)}function jle(e){var t=K0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Lle(e){var t=K0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pn=q([ms,gs,o3,Nle,Dle,Mle,jle,Lle,k4,Xse],(e,t,n,r,i,o,s,a,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},f={top:(n.top||0)+s,bottom:(n.bottom||0)+a},d=$m($m({},f),c),p=d.bottom;d.bottom+=r,d=dle(d,l,u);var v=e-d.left-d.right,m=t-d.top-d.bottom;return $m($m({brushBottom:p},d),{},{width:Math.max(v,0),height:Math.max(m,0)})}),$le=q(Pn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eT=q(ms,gs,(e,t)=>({x:0,y:0,width:e,height:t})),Fle=g.createContext(null),Or=()=>g.useContext(Fle)!=null,G0=e=>e.brush,Y0=q([G0,Pn,o3],(e,t,n)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ee(e.width)?e.width:t.width})),tT=()=>{var e,t=Or(),n=_e($le),r=_e(Y0),i=(e=_e(G0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},s3=()=>{var e;return(e=_e(Pn))!==null&&e!==void 0?e:Vle},a3=()=>_e(ms),l3=()=>_e(gs),Qe=e=>e.layout.layoutType,Z0=()=>_e(Qe),Ule={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},u3=ri({name:"legend",initialState:Ule,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:R1e,setLegendSettings:N1e,addLegendPayload:zle,removeLegendPayload:Ble}=u3.actions,Wle=u3.reducer;function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vE.apply(null,arguments)}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){Hle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hle(e,t,n){return(t=Kle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kle(e){var t=qle(e,"string");return typeof t=="symbol"?t:t+""}function qle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gle(e){return Array.isArray(e)&&Eo(e[0])&&Eo(e[1])?e.join(" ~ "):e}var Yle=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:d=!1}=e,p=()=>{if(o&&o.length){var C={padding:0,margin:0},N=(a?F0(o,a):o).map((S,T)=>{if(S.type==="none")return null;var I=S.formatter||s||Gle,{value:k,name:O}=S,D=k,R=O;if(I){var F=I(k,O,S,T,o);if(Array.isArray(F))[D,R]=F;else if(F!=null)D=F;else return null}var B=K_({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:B},Eo(R)?g.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Eo(R)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},D),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},v=K_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=K_({margin:0},i),_=!At(c),b=_?c:"",y=ye("recharts-default-tooltip",l),x=ye("recharts-tooltip-label",u);_&&f&&o!==void 0&&o!==null&&(b=f(c,o));var A=d?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",vE({className:y,style:v},A),g.createElement("p",{className:x,style:m},g.isValidElement(b)?b:"".concat(b)),p())},dd="recharts-tooltip-wrapper",Zle={visibility:"hidden"};function Qle(e){var{coordinate:t,translateX:n,translateY:r}=e;return ye(dd,{["".concat(dd,"-right")]:Ee(n)&&t&&Ee(t.x)&&n>=t.x,["".concat(dd,"-left")]:Ee(n)&&t&&Ee(t.x)&&n<t.x,["".concat(dd,"-bottom")]:Ee(r)&&t&&Ee(t.y)&&r>=t.y,["".concat(dd,"-top")]:Ee(r)&&t&&Ee(t.y)&&r<t.y})}function KR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=e;if(o&&Ee(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?c:f;var d=l[r];if(d==null)return 0;if(s[r]){var p=c,v=d;return p<v?Math.max(f,d):Math.max(c,d)}if(u==null)return 0;var m=f+a,_=d+u;return m>_?Math.max(c,d):Math.max(f,d)}function Xle(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Jle(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=e,u,c,f;return s.height>0&&s.width>0&&n?(c=KR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=KR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Xle({translateX:c,translateY:f,useTranslate3d:a})):u=Zle,{cssProperties:u,cssClasses:Qle({translateX:c,translateY:f,coordinate:n})}}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){yE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yE(e,t,n){return(t=eue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nue extends g.PureComponent{constructor(){super(...arguments),yE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:d,viewBox:p,wrapperStyle:v,lastBoundingBox:m,innerRef:_,hasPortalFromProps:b}=this.props,{cssClasses:y,cssProperties:x}=Jle({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:p}),A=b?{}:Fm(Fm({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),C=Fm(Fm({},A),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:C,ref:_},o)}}var rue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xu={devToolsEnabled:!1,isSsr:rue()},c3=()=>_e(e=>e.rootProps.accessibilityLayer);function ei(e){return Number.isFinite(e)}function Gv(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(null,arguments)}function GR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(n),!0).forEach(function(r){iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iue(e,t,n){return(t=oue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oue(e){var t=sue(e,"string");return typeof t=="symbol"?t:t+""}function sue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZR={curveBasisClosed:Hoe,curveBasisOpen:Koe,curveBasis:Woe,curveBumpX:Ooe,curveBumpY:koe,curveLinearClosed:qoe,curveLinear:M0,curveMonotoneX:Goe,curveMonotoneY:Yoe,curveNatural:Zoe,curveStep:Qoe,curveStepAfter:Joe,curveStepBefore:Xoe},Vm=e=>ei(e.x)&&ei(e.y),hd=e=>e.x,pd=e=>e.y,aue=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(xp(e));return(n==="curveMonotone"||n==="curveBump")&&t?ZR["".concat(n).concat(t==="vertical"?"Y":"X")]:ZR[n]||M0},lue=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,s=aue(t,i),a=o?n.filter(Vm):n,l;if(Array.isArray(r)){var u=o?r.filter(f=>Vm(f)):r,c=a.map((f,d)=>YR(YR({},f),{},{base:u[d]}));return i==="vertical"?l=Rm().y(pd).x1(hd).x0(f=>f.base.x):l=Rm().x(hd).y1(pd).y0(f=>f.base.y),l.defined(Vm).curve(s),l(c)}return i==="vertical"&&Ee(r)?l=Rm().y(pd).x1(hd).x0(r):Ee(r)?l=Rm().x(hd).y1(pd).y0(r):l=KV().x(hd).y(pd),l.defined(Vm).curve(s),l(a)},f3=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?lue(e):r;return g.createElement("path",wE({},Ya(e),RA(e),{className:ye("recharts-curve",t),d:o===null?void 0:o,ref:i}))},uue=["x","y","top","left","width","height","className"];function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_E.apply(null,arguments)}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){fue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fue(e,t,n){return(t=due(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function due(e){var t=hue(e,"string");return typeof t=="symbol"?t:t+""}function hue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pue(e,t){if(e==null)return{};var n,r,i=mue(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gue=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),vue=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=e,l=pue(e,uue),u=cue({x:t,y:n,top:r,left:i,width:o,height:s},l);return!Ee(t)||!Ee(n)||!Ee(o)||!Ee(s)||!Ee(r)||!Ee(i)?null:g.createElement("path",_E({},Wt(u,!0),{className:ye("recharts-cross",a),d:gue(t,n,o,s,r,i)}))};function yue(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){_ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ue(e,t,n){return(t=bue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bue(e){var t=xue(e,"string");return typeof t=="symbol"?t:t+""}function xue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(e,t){var n=wue({},e),r=t,i=Object.keys(t),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}function Eue(){}function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){Sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sue(e,t,n){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aue(e){var t=Tue(e,"string");return typeof t=="symbol"?t:t+""}function Tue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),d3=(e,t,n)=>e.map(r=>"".concat(Pue(r)," ").concat(t,"ms ").concat(n)).join(","),Cue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Mh=(e,t)=>Object.keys(t).reduce((n,r)=>eN(eN({},n),{},{[r]:e(r,t[r])}),{});function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){Iue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iue(e,t,n){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oue(e){var t=kue(e,"string");return typeof t=="symbol"?t:t+""}function kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yv=(e,t,n)=>e+(t-e)*n,bE=e=>{var{from:t,to:n}=e;return t!==n},h3=(e,t,n)=>{var r=Mh((i,o)=>{if(bE(o)){var[s,a]=e(o.from,o.to,o.velocity);return Nn(Nn({},o),{},{from:s,velocity:a})}return o},t);return n<1?Mh((i,o)=>bE(o)?Nn(Nn({},o),{},{velocity:Yv(o.velocity,r[i].velocity,n),from:Yv(o.from,r[i].from,n)}):o,t):h3(e,r,n-1)};function Rue(e,t,n,r,i,o){var s,a=r.reduce((d,p)=>Nn(Nn({},d),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Mh((d,p)=>p.from,a),u=()=>!Object.values(a).filter(bE).length,c=null,f=d=>{s||(s=d);var p=d-s,v=p/n.dt;a=h3(n,a,v),i(Nn(Nn(Nn({},e),t),l())),s=d,u()||(c=o.setTimeout(f))};return()=>(c=o.setTimeout(f),()=>{c()})}function Nue(e,t,n,r,i,o,s){var a=null,l=i.reduce((f,d)=>Nn(Nn({},f),{},{[d]:[e[d],t[d]]}),{}),u,c=f=>{u||(u=f);var d=(f-u)/r,p=Mh((m,_)=>Yv(..._,n(d)),l);if(o(Nn(Nn(Nn({},e),t),p)),d<1)a=s.setTimeout(c);else{var v=Mh((m,_)=>Yv(..._,n(1)),l);o(Nn(Nn(Nn({},e),t),v))}};return()=>(a=s.setTimeout(c),()=>{a()})}const Due=(e,t,n,r,i,o)=>{var s=Cue(e,t);return n.isStepper===!0?Rue(e,t,n,s,i,o):Nue(e,t,n,r,s,i,o)};var Zv=1e-4,p3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],m3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nN=(e,t)=>n=>{var r=p3(e,t);return m3(r,n)},Mue=(e,t)=>n=>{var r=p3(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return m3(i,n)},rN=function(){for(var t,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else s.length===4&&([t,r,n,i]=s);var u=nN(t,n),c=nN(r,i),f=Mue(t,n),d=v=>v>1?1:v<0?0:v,p=v=>{for(var m=v>1?1:v,_=m,b=0;b<8;++b){var y=u(_)-m,x=f(_);if(Math.abs(y-m)<Zv||x<Zv)return c(_);_=d(_-y/x)}return c(_)};return p.isStepper=!1,p},jue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,f=l+(u-c)*i/1e3,d=l*i/1e3+s;return Math.abs(d-a)<Zv&&Math.abs(f)<Zv?[a,0]:[d,f]};return o.isStepper=!0,o.dt=i,o},Lue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rN(e);case"spring":return jue();default:if(e.split("(")[0]==="cubic-bezier")return rN(e)}return typeof e=="function"?e:null};function $ue(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Fue{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function Vue(){return $ue(new Fue)}var Uue=g.createContext(Vue);function zue(e,t){var n=g.useContext(Uue);return g.useMemo(()=>t??n(e),[e,t,n])}var Bue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iN={t:0},q_={t:1};function Q0(e){var t=kr(e,Bue),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=t,c=zue(t.animationId,t.animationManager),[f,d]=g.useState(n?iN:q_),p=g.useRef(null);return g.useEffect(()=>{n||d(q_)},[n]),g.useEffect(()=>{if(!n||!r)return Eue;var v=Due(iN,q_,Lue(o),i,d,c.getTimeoutController()),m=()=>{p.current=v()};return c.start([l,s,m,i,a]),()=>{c.stop(),p.current&&p.current(),a()}},[n,r,i,o,s,l,a,c]),u(f.t)}function X0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(kh(t)),r=g.useRef(e);return r.current!==e&&(n.current=kh(t),r.current=e),n.current}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){Wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wue(e,t,n){return(t=Hue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hue(e){var t=Kue(e,"string");return typeof t=="symbol"?t:t+""}function Kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}var aN=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],f=0,d=4;f<d;f++)c[f]=i[f]>o?o:i[f];u="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+a*c[0],",").concat(t)),u+="L ".concat(e+n-a*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+s*c[1])),u+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+n-a*c[2],",").concat(t+r)),u+="L ".concat(e+a*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+a*p,",").concat(t,`
            L `).concat(e+n-a*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*p,`
            L `).concat(e+n,",").concat(t+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-a*p,",").concat(t+r,`
            L `).concat(e+a*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},que={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g3=e=>{var t=kr(e,que),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:d,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:m}=t,_=g.useRef(a),b=g.useRef(l),y=g.useRef(o),x=g.useRef(s),A=g.useMemo(()=>({x:o,y:s,width:a,height:l,radius:u}),[o,s,a,l,u]),C=X0(A,"rectangle-");if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var N=ye("recharts-rectangle",c);if(!m)return g.createElement("path",Qv({},Wt(t,!0),{className:N,d:aN(o,s,a,l,u)}));var S=_.current,T=b.current,I=y.current,k=x.current,O="0px ".concat(r===-1?1:r,"px"),D="".concat(r,"px 0px"),R=d3(["strokeDasharray"],d,typeof f=="string"?f:void 0);return g.createElement(Q0,{animationId:C,key:C,canBegin:r>0,duration:d,easing:f,isActive:m,begin:p},F=>{var B=Zt(S,a,F),V=Zt(T,l,F),K=Zt(I,o,F),$=Zt(k,s,F);n.current&&(_.current=B,b.current=V,y.current=K,x.current=$);var W;return v?F>0?W={transition:R,strokeDasharray:D}:W={strokeDasharray:O}:W={strokeDasharray:D},g.createElement("path",Qv({},Wt(t,!0),{className:N,d:aN(K,$,B,V,u),ref:n,style:sN(sN({},W),t.style)}))})};function v3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=jn(t,n,r,i),a=jn(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(null,arguments)}var Gue=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Um=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=e,u=a*(s?1:-1)+r,c=Math.asin(a/u)/qv,f=l?i:i+o*c,d=jn(t,n,u,f),p=jn(t,n,r,f),v=l?i-o*c:i,m=jn(t,n,u*Math.cos(c*qv),v);return{center:d,circleTangency:p,lineTangency:m,theta:c}},y3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,a=Gue(o,s),l=o+a,u=jn(t,n,i,o),c=jn(t,n,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var d=jn(t,n,r,o),p=jn(t,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},Yue=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=e,c=Er(u-l),{circleTangency:f,lineTangency:d,theta:p}=Um({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:v,lineTangency:m,theta:_}=Um({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),b=a?Math.abs(l-u):Math.abs(l-u)-p-_;if(b<0)return s?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):y3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var y="M ".concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
  `);if(r>0){var{circleTangency:x,lineTangency:A,theta:C}=Um({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:N,lineTangency:S,theta:T}=Um({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),I=a?Math.abs(l-u):Math.abs(l-u)-C-T;if(I<0&&o===0)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y},Zue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},w3=e=>{var t=kr(e,Zue),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(o<i||u===c)return null;var d=ye("recharts-sector",f),p=o-i,v=Bi(s,p,0,!0),m;return v>0&&Math.abs(u-c)<360?m=Yue({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):m=y3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),g.createElement("path",xE({},Wt(t,!0),{className:d,d:m}))};function Que(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:f}=t,d=jn(a,l,u,f),p=jn(a,l,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return v3(t);return[{x:r,y:i},{x:o,y:s}]}var _3={},b3={},x3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(b3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA,n=b3;function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}e.range=r})(_3);var Xue=_3.range;const E3=wi(Xue);function ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nT(e){let t,n,r;e.length!==2?(t=ba,n=(a,l)=>ba(e(a),l),r=(a,l)=>e(a)-l):(t=e===ba||e===Jue?e:ece,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function ece(){return 0}function S3(e){return e===null?NaN:+e}function*tce(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const nce=nT(ba),Tp=nce.right;nT(S3).center;class lN extends Map{constructor(t,n=oce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(uN(this,t))}has(t){return super.has(uN(this,t))}set(t,n){return super.set(rce(this,t),n)}delete(t){return super.delete(ice(this,t))}}function uN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rce({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ice({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function oce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sce(e=ba){if(e===ba)return A3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function A3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ace=Math.sqrt(50),lce=Math.sqrt(10),uce=Math.sqrt(2);function Xv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ace?10:o>=lce?5:o>=uce?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?Xv(e,t,n*2):[a,l,u]}function EE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Xv(t,e,n):Xv(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function SE(e,t,n){return t=+t,e=+e,n=+n,Xv(e,t,n)[2]}function AE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?SE(t,e,n):SE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function cN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function fN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function T3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?A3:sce(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+d)),v=Math.min(r,Math.floor(t+(l-u)*f/l+d));T3(e,t,p,v,i)}const o=e[t];let s=n,a=r;for(md(e,n,t),i(e[r],o)>0&&md(e,n,r);s<a;){for(md(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?md(e,n,a):(++a,md(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function cce(e,t,n){if(e=Float64Array.from(tce(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return fN(e);if(t>=1)return cN(e);var r,i=(r-1)*t,o=Math.floor(i),s=cN(T3(e,o).subarray(0,o+1)),a=fN(e.subarray(o+1));return s+(a-s)*(i-o)}}function fce(e,t,n=S3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function dce(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function xi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const TE=Symbol("implicit");function rT(){var e=new lN,t=[],n=[],r=TE;function i(o){let s=e.get(o);if(s===void 0){if(r!==TE)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new lN;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rT(t,n).unknown(r)},xi.apply(i,arguments),i}function iT(){var e=rT().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<r,v=p?i:r,m=p?r:i;o=(m-v)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),v+=(m-v-o*(d-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var _=dce(d).map(function(b){return v+o*b});return n(p?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return iT(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},xi.apply(f(),arguments)}function P3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return P3(t())},e}function hce(){return P3(iT.apply(null,arguments).paddingInner(1))}function oT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function C3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pp(){}var jh=.7,Jv=1/jh,vc="\\s*([+-]?\\d+)\\s*",Lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pce=/^#([0-9a-f]{3,8})$/,mce=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),gce=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),vce=new RegExp(`^rgba\\(${vc},${vc},${vc},${Lh}\\)$`),yce=new RegExp(`^rgba\\(${_o},${_o},${_o},${Lh}\\)$`),wce=new RegExp(`^hsl\\(${Lh},${_o},${_o}\\)$`),_ce=new RegExp(`^hsla\\(${Lh},${_o},${_o},${Lh}\\)$`),dN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oT(Pp,$h,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hN,formatHex:hN,formatHex8:bce,formatHsl:xce,formatRgb:pN,toString:pN});function hN(){return this.rgb().formatHex()}function bce(){return this.rgb().formatHex8()}function xce(){return I3(this).formatHsl()}function pN(){return this.rgb().formatRgb()}function $h(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pce.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?mN(t):n===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mce.exec(e))?new Sr(t[1],t[2],t[3],1):(t=gce.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vce.exec(e))?zm(t[1],t[2],t[3],t[4]):(t=yce.exec(e))?zm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wce.exec(e))?yN(t[1],t[2]/100,t[3]/100,1):(t=_ce.exec(e))?yN(t[1],t[2]/100,t[3]/100,t[4]):dN.hasOwnProperty(e)?mN(dN[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function mN(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function zm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sr(e,t,n,r)}function Ece(e){return e instanceof Pp||(e=$h(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function PE(e,t,n,r){return arguments.length===1?Ece(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oT(Sr,PE,C3(Pp,{brighter(e){return e=e==null?Jv:Math.pow(Jv,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jh:Math.pow(jh,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Fl(this.r),Fl(this.g),Fl(this.b),ey(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gN,formatHex:gN,formatHex8:Sce,formatRgb:vN,toString:vN}));function gN(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function Sce(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function vN(){const e=ey(this.opacity);return`${e===1?"rgb(":"rgba("}${Fl(this.r)}, ${Fl(this.g)}, ${Fl(this.b)}${e===1?")":`, ${e})`}`}function ey(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xl(e){return e=Fl(e),(e<16?"0":"")+e.toString(16)}function yN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mi(e,t,n,r)}function I3(e){if(e instanceof Mi)return new Mi(e.h,e.s,e.l,e.opacity);if(e instanceof Pp||(e=$h(e)),!e)return new Mi;if(e instanceof Mi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Mi(s,a,l,e.opacity)}function Ace(e,t,n,r){return arguments.length===1?I3(e):new Mi(e,t,n,r??1)}function Mi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oT(Mi,Ace,C3(Pp,{brighter(e){return e=e==null?Jv:Math.pow(Jv,e),new Mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jh:Math.pow(jh,e),new Mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Sr(G_(e>=240?e-240:e+120,i,r),G_(e,i,r),G_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Mi(wN(this.h),Bm(this.s),Bm(this.l),ey(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ey(this.opacity);return`${e===1?"hsl(":"hsla("}${wN(this.h)}, ${Bm(this.s)*100}%, ${Bm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wN(e){return e=(e||0)%360,e<0?e+360:e}function Bm(e){return Math.max(0,Math.min(1,e||0))}function G_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sT=e=>()=>e;function Tce(e,t){return function(n){return e+n*t}}function Pce(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Cce(e){return(e=+e)==1?O3:function(t,n){return n-t?Pce(t,n,e):sT(isNaN(t)?n:t)}}function O3(e,t){var n=t-e;return n?Tce(e,n):sT(isNaN(e)?t:e)}const _N=function e(t){var n=Cce(t);function r(i,o){var s=n((i=PE(i)).r,(o=PE(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=O3(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Ice(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Oce(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kce(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cf(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Rce(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ty(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nce(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cf(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var CE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y_=new RegExp(CE.source,"g");function Dce(e){return function(){return e}}function Mce(e){return function(t){return e(t)+""}}function jce(e,t){var n=CE.lastIndex=Y_.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=CE.exec(e))&&(i=Y_.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ty(r,i)})),n=Y_.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Mce(l[0].x):Dce(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Cf(e,t){var n=typeof t,r;return t==null||n==="boolean"?sT(t):(n==="number"?ty:n==="string"?(r=$h(t))?(t=r,_N):jce:t instanceof $h?_N:t instanceof Date?Rce:Oce(t)?Ice:Array.isArray(t)?kce:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nce:ty)(e,t)}function aT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Lce(e,t){t===void 0&&(t=e,e=Cf);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function $ce(e){return function(){return e}}function ny(e){return+e}var bN=[0,1];function lr(e){return e}function IE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$ce(isNaN(t)?NaN:.5)}function Fce(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Vce(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=IE(i,r),o=n(s,o)):(r=IE(r,i),o=n(o,s)),function(a){return o(r(a))}}function Uce(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=IE(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Tp(e,a,1,r)-1;return o[l](i[l](a))}}function Cp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function J0(){var e=bN,t=bN,n=Cf,r,i,o,s=lr,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==lr&&(s=Fce(e[0],e[d-1])),a=d>2?Uce:Vce,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),ty)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,ny),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=aT,c()},f.clamp=function(d){return arguments.length?(s=d?!0:lr,c()):s!==lr},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function lT(){return J0()(lr,lr)}function zce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ry(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ef(e){return e=ry(Math.abs(e)),e?e[1]:NaN}function Bce(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Wce(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Hce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fh(e){if(!(t=Hce.exec(e)))throw new Error("invalid format: "+e);var t;return new uT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fh.prototype=uT.prototype;function uT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kce(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var k3;function qce(e,t){var n=ry(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(k3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ry(e,Math.max(0,t+o-1))[0]}function xN(e,t){var n=ry(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zce,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xN(e*100,t),r:xN,s:qce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SN(e){return e}var AN=Array.prototype.map,TN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gce(e){var t=e.grouping===void 0||e.thousands===void 0?SN:Bce(AN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?SN:Wce(AN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Fh(f);var d=f.fill,p=f.align,v=f.sign,m=f.symbol,_=f.zero,b=f.width,y=f.comma,x=f.precision,A=f.trim,C=f.type;C==="n"?(y=!0,C="g"):EN[C]||(x===void 0&&(x=12),A=!0,C="g"),(_||d==="0"&&p==="=")&&(_=!0,d="0",p="=");var N=m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",S=m==="$"?r:/[%p]/.test(C)?s:"",T=EN[C],I=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function k(O){var D=N,R=S,F,B,V;if(C==="c")R=T(O)+R,O="";else{O=+O;var K=O<0||1/O<0;if(O=isNaN(O)?l:T(Math.abs(O),x),A&&(O=Kce(O)),K&&+O==0&&v!=="+"&&(K=!1),D=(K?v==="("?v:a:v==="-"||v==="("?"":v)+D,R=(C==="s"?TN[8+k3/3]:"")+R+(K&&v==="("?")":""),I){for(F=-1,B=O.length;++F<B;)if(V=O.charCodeAt(F),48>V||V>57){R=(V===46?i+O.slice(F+1):O.slice(F))+R,O=O.slice(0,F);break}}}y&&!_&&(O=t(O,1/0));var $=D.length+O.length+R.length,W=$<b?new Array(b-$+1).join(d):"";switch(y&&_&&(O=t(W+O,W.length?b-R.length:1/0),W=""),p){case"<":O=D+O+R+W;break;case"=":O=D+W+O+R;break;case"^":O=W.slice(0,$=W.length>>1)+D+O+R+W.slice($);break;default:O=W+D+O+R;break}return o(O)}return k.toString=function(){return f+""},k}function c(f,d){var p=u((f=Fh(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ef(d)/3)))*3,m=Math.pow(10,-v),_=TN[8+v/3];return function(b){return p(m*b)+_}}return{format:u,formatPrefix:c}}var Wm,cT,R3;Yce({thousands:",",grouping:[3],currency:["$",""]});function Yce(e){return Wm=Gce(e),cT=Wm.format,R3=Wm.formatPrefix,Wm}function Zce(e){return Math.max(0,-ef(Math.abs(e)))}function Qce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ef(t)/3)))*3-ef(Math.abs(e)))}function Xce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ef(t)-ef(e))+1}function N3(e,t,n,r){var i=AE(e,t,n),o;switch(r=Fh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Qce(i,s))&&(r.precision=o),R3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Xce(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Zce(i))&&(r.precision=o-(r.type==="%")*2);break}}return cT(r)}function Qa(e){var t=e.domain;return e.ticks=function(n){var r=t();return EE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return N3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=SE(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function D3(){var e=lT();return e.copy=function(){return Cp(e,D3())},xi.apply(e,arguments),Qa(e)}function M3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ny),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return M3(e).unknown(t)},e=arguments.length?Array.from(e,ny):[0,1],Qa(n)}function j3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function PN(e){return Math.log(e)}function CN(e){return Math.exp(e)}function Jce(e){return-Math.log(-e)}function efe(e){return-Math.exp(-e)}function tfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nfe(e){return e===10?tfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IN(e){return(t,n)=>-e(-t,n)}function fT(e){const t=e(PN,CN),n=t.domain;let r=10,i,o;function s(){return i=rfe(r),o=nfe(r),n()[0]<0?(i=IN(i),o=IN(o),e(Jce,efe)):e(PN,CN),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),v,m;const _=a==null?10:+a;let b=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(v=1;v<r;++v)if(m=d<0?v/o(-d):v*o(d),!(m<u)){if(m>c)break;b.push(m)}}else for(;d<=p;++d)for(v=r-1;v>=1;--v)if(m=d>0?v/o(-d):v*o(d),!(m<u)){if(m>c)break;b.push(m)}b.length*2<_&&(b=EE(u,c,_))}else b=EE(d,p,Math.min(p-d,_)).map(o);return f?b.reverse():b},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fh(l)).precision==null&&(l.trim=!0),l=cT(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(j3(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function L3(){const e=fT(J0()).domain([1,10]);return e.copy=()=>Cp(e,L3()).base(e.base()),xi.apply(e,arguments),e}function ON(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dT(e){var t=1,n=e(ON(t),kN(t));return n.constant=function(r){return arguments.length?e(ON(t=+r),kN(t)):t},Qa(n)}function $3(){var e=dT(J0());return e.copy=function(){return Cp(e,$3()).constant(e.constant())},xi.apply(e,arguments)}function RN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ife(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ofe(e){return e<0?-e*e:e*e}function hT(e){var t=e(lr,lr),n=1;function r(){return n===1?e(lr,lr):n===.5?e(ife,ofe):e(RN(n),RN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Qa(t)}function pT(){var e=hT(J0());return e.copy=function(){return Cp(e,pT()).exponent(e.exponent())},xi.apply(e,arguments),e}function sfe(){return pT.apply(null,arguments).exponent(.5)}function NN(e){return Math.sign(e)*e*e}function afe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function F3(){var e=lT(),t=[0,1],n=!1,r;function i(o){var s=afe(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(NN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,ny)).map(NN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return F3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xi.apply(i,arguments),Qa(i)}function V3(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=fce(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Tp(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ba),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return V3().domain(e).range(t).unknown(r)},xi.apply(o,arguments)}function U3(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Tp(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return U3().domain([e,t]).range(i).unknown(o)},xi.apply(Qa(s),arguments)}function z3(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Tp(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return z3().domain(e).range(t).unknown(n)},xi.apply(i,arguments)}const Z_=new Date,Q_=new Date;function hn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>hn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(Z_.setTime(+o),Q_.setTime(+s),e(Z_),e(Q_),Math.floor(n(Z_,Q_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const iy=hn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);iy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?hn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):iy);iy.range;const Bo=1e3,hi=Bo*60,Wo=hi*60,ss=Wo*24,mT=ss*7,DN=ss*30,X_=ss*365,El=hn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bo)},(e,t)=>(t-e)/Bo,e=>e.getUTCSeconds());El.range;const gT=hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bo)},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getMinutes());gT.range;const vT=hn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hi)},(e,t)=>(t-e)/hi,e=>e.getUTCMinutes());vT.range;const yT=hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bo-e.getMinutes()*hi)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getHours());yT.range;const wT=hn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCHours());wT.range;const Ip=hn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hi)/ss,e=>e.getDate()-1);Ip.range;const ew=hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ss,e=>e.getUTCDate()-1);ew.range;const B3=hn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ss,e=>Math.floor(e/ss));B3.range;function Eu(e){return hn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*hi)/mT)}const tw=Eu(0),oy=Eu(1),lfe=Eu(2),ufe=Eu(3),tf=Eu(4),cfe=Eu(5),ffe=Eu(6);tw.range;oy.range;lfe.range;ufe.range;tf.range;cfe.range;ffe.range;function Su(e){return hn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/mT)}const nw=Su(0),sy=Su(1),dfe=Su(2),hfe=Su(3),nf=Su(4),pfe=Su(5),mfe=Su(6);nw.range;sy.range;dfe.range;hfe.range;nf.range;pfe.range;mfe.range;const _T=hn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_T.range;const bT=hn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bT.range;const as=hn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());as.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});as.range;const ls=hn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ls.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ls.range;function W3(e,t,n,r,i,o){const s=[[El,1,Bo],[El,5,5*Bo],[El,15,15*Bo],[El,30,30*Bo],[o,1,hi],[o,5,5*hi],[o,15,15*hi],[o,30,30*hi],[i,1,Wo],[i,3,3*Wo],[i,6,6*Wo],[i,12,12*Wo],[r,1,ss],[r,2,2*ss],[n,1,mT],[t,1,DN],[t,3,3*DN],[e,1,X_]];function a(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),v=p?p.range(u,+c+1):[];return d?v.reverse():v}function l(u,c,f){const d=Math.abs(c-u)/f,p=nT(([,,_])=>_).right(s,d);if(p===s.length)return e.every(AE(u/X_,c/X_,f));if(p===0)return iy.every(Math.max(AE(u,c,f),1));const[v,m]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return v.every(m)}return[a,l]}const[gfe,vfe]=W3(ls,bT,nw,B3,wT,vT),[yfe,wfe]=W3(as,_T,tw,Ip,yT,gT);function J_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function _fe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=vd(i),c=yd(i),f=vd(o),d=yd(o),p=vd(s),v=yd(s),m=vd(a),_=yd(a),b=vd(l),y=yd(l),x={a:K,A:$,b:W,B:Q,c:null,d:VN,e:VN,f:Bfe,g:Jfe,G:tde,H:Vfe,I:Ufe,j:zfe,L:H3,m:Wfe,M:Hfe,p:fe,q:ne,Q:BN,s:WN,S:Kfe,u:qfe,U:Gfe,V:Yfe,w:Zfe,W:Qfe,x:null,X:null,y:Xfe,Y:ede,Z:nde,"%":zN},A={a:De,A:Ce,b:Ie,B:Xe,c:null,d:UN,e:UN,f:sde,g:gde,G:yde,H:rde,I:ide,j:ode,L:q3,m:ade,M:lde,p:he,q:ke,Q:BN,s:WN,S:ude,u:cde,U:fde,V:dde,w:hde,W:pde,x:null,X:null,y:mde,Y:vde,Z:wde,"%":zN},C={a:k,A:O,b:D,B:R,c:F,d:$N,e:$N,f:jfe,g:LN,G:jN,H:FN,I:FN,j:Rfe,L:Mfe,m:kfe,M:Nfe,p:I,q:Ofe,Q:$fe,s:Ffe,S:Dfe,u:Afe,U:Tfe,V:Pfe,w:Sfe,W:Cfe,x:B,X:V,y:LN,Y:jN,Z:Ife,"%":Lfe};x.x=N(n,x),x.X=N(r,x),x.c=N(t,x),A.x=N(n,A),A.X=N(r,A),A.c=N(t,A);function N(ee,ie){return function(le){var G=[],Me=-1,Oe=0,_t=ee.length,pt,sn,bs;for(le instanceof Date||(le=new Date(+le));++Me<_t;)ee.charCodeAt(Me)===37&&(G.push(ee.slice(Oe,Me)),(sn=MN[pt=ee.charAt(++Me)])!=null?pt=ee.charAt(++Me):sn=pt==="e"?" ":"0",(bs=ie[pt])&&(pt=bs(le,sn)),G.push(pt),Oe=Me+1);return G.push(ee.slice(Oe,Me)),G.join("")}}function S(ee,ie){return function(le){var G=gd(1900,void 0,1),Me=T(G,ee,le+="",0),Oe,_t;if(Me!=le.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ie&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Oe=eb(gd(G.y,0,1)),_t=Oe.getUTCDay(),Oe=_t>4||_t===0?sy.ceil(Oe):sy(Oe),Oe=ew.offset(Oe,(G.V-1)*7),G.y=Oe.getUTCFullYear(),G.m=Oe.getUTCMonth(),G.d=Oe.getUTCDate()+(G.w+6)%7):(Oe=J_(gd(G.y,0,1)),_t=Oe.getDay(),Oe=_t>4||_t===0?oy.ceil(Oe):oy(Oe),Oe=Ip.offset(Oe,(G.V-1)*7),G.y=Oe.getFullYear(),G.m=Oe.getMonth(),G.d=Oe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),_t="Z"in G?eb(gd(G.y,0,1)).getUTCDay():J_(gd(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(_t+5)%7:G.w+G.U*7-(_t+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,eb(G)):J_(G)}}function T(ee,ie,le,G){for(var Me=0,Oe=ie.length,_t=le.length,pt,sn;Me<Oe;){if(G>=_t)return-1;if(pt=ie.charCodeAt(Me++),pt===37){if(pt=ie.charAt(Me++),sn=C[pt in MN?ie.charAt(Me++):pt],!sn||(G=sn(ee,le,G))<0)return-1}else if(pt!=le.charCodeAt(G++))return-1}return G}function I(ee,ie,le){var G=u.exec(ie.slice(le));return G?(ee.p=c.get(G[0].toLowerCase()),le+G[0].length):-1}function k(ee,ie,le){var G=p.exec(ie.slice(le));return G?(ee.w=v.get(G[0].toLowerCase()),le+G[0].length):-1}function O(ee,ie,le){var G=f.exec(ie.slice(le));return G?(ee.w=d.get(G[0].toLowerCase()),le+G[0].length):-1}function D(ee,ie,le){var G=b.exec(ie.slice(le));return G?(ee.m=y.get(G[0].toLowerCase()),le+G[0].length):-1}function R(ee,ie,le){var G=m.exec(ie.slice(le));return G?(ee.m=_.get(G[0].toLowerCase()),le+G[0].length):-1}function F(ee,ie,le){return T(ee,t,ie,le)}function B(ee,ie,le){return T(ee,n,ie,le)}function V(ee,ie,le){return T(ee,r,ie,le)}function K(ee){return s[ee.getDay()]}function $(ee){return o[ee.getDay()]}function W(ee){return l[ee.getMonth()]}function Q(ee){return a[ee.getMonth()]}function fe(ee){return i[+(ee.getHours()>=12)]}function ne(ee){return 1+~~(ee.getMonth()/3)}function De(ee){return s[ee.getUTCDay()]}function Ce(ee){return o[ee.getUTCDay()]}function Ie(ee){return l[ee.getUTCMonth()]}function Xe(ee){return a[ee.getUTCMonth()]}function he(ee){return i[+(ee.getUTCHours()>=12)]}function ke(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ie=N(ee+="",x);return ie.toString=function(){return ee},ie},parse:function(ee){var ie=S(ee+="",!1);return ie.toString=function(){return ee},ie},utcFormat:function(ee){var ie=N(ee+="",A);return ie.toString=function(){return ee},ie},utcParse:function(ee){var ie=S(ee+="",!0);return ie.toString=function(){return ee},ie}}}var MN={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,bfe=/^%/,xfe=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Efe(e){return e.replace(xfe,"\\$&")}function vd(e){return new RegExp("^(?:"+e.map(Efe).join("|")+")","i")}function yd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Sfe(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Afe(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Tfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Pfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Cfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jN(e,t,n){var r=Cn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function LN(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ife(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ofe(e,t,n){var r=Cn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $N(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Rfe(e,t,n){var r=Cn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function FN(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Nfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Dfe(e,t,n){var r=Cn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mfe(e,t,n){var r=Cn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function jfe(e,t,n){var r=Cn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lfe(e,t,n){var r=bfe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $fe(e,t,n){var r=Cn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ffe(e,t,n){var r=Cn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function VN(e,t){return Ze(e.getDate(),t,2)}function Vfe(e,t){return Ze(e.getHours(),t,2)}function Ufe(e,t){return Ze(e.getHours()%12||12,t,2)}function zfe(e,t){return Ze(1+Ip.count(as(e),e),t,3)}function H3(e,t){return Ze(e.getMilliseconds(),t,3)}function Bfe(e,t){return H3(e,t)+"000"}function Wfe(e,t){return Ze(e.getMonth()+1,t,2)}function Hfe(e,t){return Ze(e.getMinutes(),t,2)}function Kfe(e,t){return Ze(e.getSeconds(),t,2)}function qfe(e){var t=e.getDay();return t===0?7:t}function Gfe(e,t){return Ze(tw.count(as(e)-1,e),t,2)}function K3(e){var t=e.getDay();return t>=4||t===0?tf(e):tf.ceil(e)}function Yfe(e,t){return e=K3(e),Ze(tf.count(as(e),e)+(as(e).getDay()===4),t,2)}function Zfe(e){return e.getDay()}function Qfe(e,t){return Ze(oy.count(as(e)-1,e),t,2)}function Xfe(e,t){return Ze(e.getFullYear()%100,t,2)}function Jfe(e,t){return e=K3(e),Ze(e.getFullYear()%100,t,2)}function ede(e,t){return Ze(e.getFullYear()%1e4,t,4)}function tde(e,t){var n=e.getDay();return e=n>=4||n===0?tf(e):tf.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function nde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function UN(e,t){return Ze(e.getUTCDate(),t,2)}function rde(e,t){return Ze(e.getUTCHours(),t,2)}function ide(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function ode(e,t){return Ze(1+ew.count(ls(e),e),t,3)}function q3(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function sde(e,t){return q3(e,t)+"000"}function ade(e,t){return Ze(e.getUTCMonth()+1,t,2)}function lde(e,t){return Ze(e.getUTCMinutes(),t,2)}function ude(e,t){return Ze(e.getUTCSeconds(),t,2)}function cde(e){var t=e.getUTCDay();return t===0?7:t}function fde(e,t){return Ze(nw.count(ls(e)-1,e),t,2)}function G3(e){var t=e.getUTCDay();return t>=4||t===0?nf(e):nf.ceil(e)}function dde(e,t){return e=G3(e),Ze(nf.count(ls(e),e)+(ls(e).getUTCDay()===4),t,2)}function hde(e){return e.getUTCDay()}function pde(e,t){return Ze(sy.count(ls(e)-1,e),t,2)}function mde(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function gde(e,t){return e=G3(e),Ze(e.getUTCFullYear()%100,t,2)}function vde(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function yde(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nf(e):nf.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function wde(){return"+0000"}function zN(){return"%"}function BN(e){return+e}function WN(e){return Math.floor(+e/1e3)}var Ru,Y3,Z3;_de({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _de(e){return Ru=_fe(e),Y3=Ru.format,Ru.parse,Z3=Ru.utcFormat,Ru.utcParse,Ru}function bde(e){return new Date(e)}function xde(e){return e instanceof Date?+e:+new Date(+e)}function xT(e,t,n,r,i,o,s,a,l,u){var c=lT(),f=c.invert,d=c.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),_=u("%I %p"),b=u("%a %d"),y=u("%b %d"),x=u("%B"),A=u("%Y");function C(N){return(l(N)<N?p:a(N)<N?v:s(N)<N?m:o(N)<N?_:r(N)<N?i(N)<N?b:y:n(N)<N?x:A)(N)}return c.invert=function(N){return new Date(f(N))},c.domain=function(N){return arguments.length?d(Array.from(N,xde)):d().map(bde)},c.ticks=function(N){var S=d();return e(S[0],S[S.length-1],N??10)},c.tickFormat=function(N,S){return S==null?C:u(S)},c.nice=function(N){var S=d();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?d(j3(S,N)):c},c.copy=function(){return Cp(c,xT(e,t,n,r,i,o,s,a,l,u))},c}function Ede(){return xi.apply(xT(yfe,wfe,as,_T,tw,Ip,yT,gT,El,Y3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sde(){return xi.apply(xT(gfe,vfe,ls,bT,nw,ew,wT,vT,El,Z3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rw(){var e=0,t=1,n,r,i,o,s=lr,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,v;return arguments.length?([p,v]=d,s=f(p,v),u):[s(0),s(1)]}}return u.range=c(Cf),u.rangeRound=c(aT),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Xa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Q3(){var e=Qa(rw()(lr));return e.copy=function(){return Xa(e,Q3())},vs.apply(e,arguments)}function X3(){var e=fT(rw()).domain([1,10]);return e.copy=function(){return Xa(e,X3()).base(e.base())},vs.apply(e,arguments)}function J3(){var e=dT(rw());return e.copy=function(){return Xa(e,J3()).constant(e.constant())},vs.apply(e,arguments)}function ET(){var e=hT(rw());return e.copy=function(){return Xa(e,ET()).exponent(e.exponent())},vs.apply(e,arguments)}function Ade(){return ET.apply(null,arguments).exponent(.5)}function eU(){var e=[],t=lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Tp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ba),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>cce(e,o/r))},n.copy=function(){return eU(t).domain(e)},vs.apply(n,arguments)}function iw(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=lr,c,f=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(_){var b,y,x;return arguments.length?([b,y,x]=_,u=Lce(m,[b,y,x]),p):[u(0),u(.5),u(1)]}}return p.range=v(Cf),p.rangeRound=v(aT),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function tU(){var e=Qa(iw()(lr));return e.copy=function(){return Xa(e,tU())},vs.apply(e,arguments)}function nU(){var e=fT(iw()).domain([.1,1,10]);return e.copy=function(){return Xa(e,nU()).base(e.base())},vs.apply(e,arguments)}function rU(){var e=dT(iw());return e.copy=function(){return Xa(e,rU()).constant(e.constant())},vs.apply(e,arguments)}function ST(){var e=hT(iw());return e.copy=function(){return Xa(e,ST()).exponent(e.exponent())},vs.apply(e,arguments)}function Tde(){return ST.apply(null,arguments).exponent(.5)}const kd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iT,scaleDiverging:tU,scaleDivergingLog:nU,scaleDivergingPow:ST,scaleDivergingSqrt:Tde,scaleDivergingSymlog:rU,scaleIdentity:M3,scaleImplicit:TE,scaleLinear:D3,scaleLog:L3,scaleOrdinal:rT,scalePoint:hce,scalePow:pT,scaleQuantile:V3,scaleQuantize:U3,scaleRadial:F3,scaleSequential:Q3,scaleSequentialLog:X3,scaleSequentialPow:ET,scaleSequentialQuantile:eU,scaleSequentialSqrt:Ade,scaleSequentialSymlog:J3,scaleSqrt:sfe,scaleSymlog:$3,scaleThreshold:z3,scaleTime:Ede,scaleUtc:Sde,tickFormat:N3},Symbol.toStringTag,{value:"Module"}));var Ja=e=>e.chartData,Pde=q([Ja],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ow=(e,t,n,r)=>r?Pde(e):Ja(e);function rf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ei(t)&&ei(n))return!0}return!1}function HN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Cde(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(ei(n))i=n;else if(typeof n=="function")return;if(ei(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(rf(s))return s}}function Ide(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(rf(r))return HN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,a;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ee(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&UR.test(i)){var l=UR.exec(i);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(a=Math.max(...t));else if(Ee(o))a=o;else if(typeof o=="function")try{t!=null&&(a=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&zR.test(o)){var c=zR.exec(o);if(c==null||t==null)a=void 0;else{var f=+c[1];a=t[1]+f}}else a=t==null?void 0:t[1];var d=[s,a];if(rf(d))return t==null?d:HN(d,t,n)}}}var If=1e9,Ode={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TT,Et=!0,yi="[DecimalError] ",Vl=yi+"Invalid argument: ",AT=yi+"Exponent out of range: ",Of=Math.floor,pl=Math.pow,kde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,wn=1e7,vt=7,iU=9007199254740991,ay=Of(iU/vt),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return Go(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return lt(Go(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return nn(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(zr))throw Error(yi+"NaN");if(n.s<1)throw Error(yi+(n.s?"NaN":"-Infinity"));return n.eq(zr)?new r(0):(Et=!1,t=Go(Vh(n,o),Vh(e,o),o),Et=!0,lt(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aU(t,e):oU(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(yi+"NaN");return n.s?(Et=!1,t=Go(n,e,0,1).times(e),Et=!0,n.minus(t)):lt(new r(n),i)};me.naturalExponential=me.exp=function(){return sU(this)};me.naturalLogarithm=me.ln=function(){return Vh(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oU(t,e):aU(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vl+e);if(t=nn(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(yi+"NaN")}for(e=nn(a),Et=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=uo(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Of((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Go(a,o,s+2)).times(.5),uo(o.d).slice(0,s)===(t=uo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(lt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Et=!0,lt(r,n)};me.times=me.mul=function(e){var t,n,r,i,o,s,a,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+t,o[i--]=a%wn|0,t=a/wn|0;o[i]=(o[i]+t)%wn|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Et?lt(e,f.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(So(e,0,If),t===void 0?t=r.rounding:So(t,0,8),lt(n,e+nn(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ou(r,!0):(So(e,0,If),t===void 0?t=i.rounding:So(t,0,8),r=lt(new i(r),e+1,t),n=ou(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ou(i):(So(e,0,If),t===void 0?t=o.rounding:So(t,0,8),r=lt(new o(i),e+nn(i)+1,t),n=ou(r.abs(),!1,e+nn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return lt(new t(e),nn(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(zr);if(a=new l(a),!a.s){if(e.s<1)throw Error(yi+"Infinity");return a}if(a.eq(zr))return a;if(r=l.precision,e.eq(zr))return lt(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=c<0?-c:c)<=iU){for(i=new l(zr),t=Math.ceil(r/vt+4),Et=!1;n%2&&(i=i.times(a),qN(i.d,t)),n=Of(n/2),n!==0;)a=a.times(a),qN(a.d,t);return Et=!0,e.s<0?new l(zr).div(i):lt(i,r)}}else if(o<0)throw Error(yi+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Et=!1,i=e.times(Vh(a,r+u)),Et=!0,i=sU(i),i.s=o,i};me.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=nn(i),r=ou(i,n<=o.toExpNeg||n>=o.toExpPos)):(So(e,1,If),t===void 0?t=o.rounding:So(t,0,8),i=lt(new o(i),e,t),n=nn(i),r=ou(i,e<=n||n<=o.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(So(e,1,If),t===void 0?t=r.rounding:So(t,0,8)),lt(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=nn(e),n=e.constructor;return ou(e,t<=n.toExpNeg||t>=n.toExpPos)};function oU(e,t){var n,r,i,o,s,a,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Et?lt(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/vt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/wn|0,l[o]%=wn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,Et?lt(t,f):t}function So(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vl+e)}function uo(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=vt-r.length,n&&(o+=Ds(n)),o+=r;s=e[t],r=s+"",n=vt-r.length,n&&(o+=Ds(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Go=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%wn|0,s=o/wn|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*wn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,d,p,v,m,_,b,y,x,A,C,N,S,T,I=r.constructor,k=r.s==i.s?1:-1,O=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(yi+"Division by zero");for(l=r.e-i.e,S=D.length,C=O.length,p=new I(k),v=p.d=[],u=0;D[u]==(O[u]||0);)++u;if(D[u]>(O[u]||0)&&--l,o==null?y=o=I.precision:s?y=o+(nn(r)-nn(i))+1:y=o,y<0)return new I(0);if(y=y/vt+2|0,u=0,S==1)for(c=0,D=D[0],y++;(u<C||c)&&y--;u++)x=c*wn+(O[u]||0),v[u]=x/D|0,c=x%D|0;else{for(c=wn/(D[0]+1)|0,c>1&&(D=e(D,c),O=e(O,c),S=D.length,C=O.length),A=S,m=O.slice(0,S),_=m.length;_<S;)m[_++]=0;T=D.slice(),T.unshift(0),N=D[0],D[1]>=wn/2&&++N;do c=0,a=t(D,m,S,_),a<0?(b=m[0],S!=_&&(b=b*wn+(m[1]||0)),c=b/N|0,c>1?(c>=wn&&(c=wn-1),f=e(D,c),d=f.length,_=m.length,a=t(f,m,d,_),a==1&&(c--,n(f,S<d?T:D,d))):(c==0&&(a=c=1),f=D.slice()),d=f.length,d<_&&f.unshift(0),n(m,f,_),a==-1&&(_=m.length,a=t(D,m,S,_),a<1&&(c++,n(m,S<_?T:D,_))),_=m.length):a===0&&(c++,m=[0]),v[u++]=c,a&&m[0]?m[_++]=O[A]||0:(m=[O[A]],_=1);while((A++<C||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=l,lt(p,s?o+nn(p)+1:o)}}();function sU(e,t){var n,r,i,o,s,a,l=0,u=0,c=e.constructor,f=c.precision;if(nn(e)>16)throw Error(AT+nn(e));if(!e.s)return new c(zr);for(Et=!1,a=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(pl(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(zr),c.precision=a;;){if(i=lt(i.times(e),a),n=n.times(++l),s=o.plus(Go(i,n,a)),uo(s.d).slice(0,a)===uo(o.d).slice(0,a)){for(;u--;)o=lt(o.times(o),a);return c.precision=f,t==null?(Et=!0,lt(o,f)):o}o=s}}function nn(e){for(var t=e.e*vt,n=e.d[0];n>=10;n/=10)t++;return t}function tb(e,t,n){if(t>e.LN10.sd())throw Et=!0,n&&(e.precision=n),Error(yi+"LN10 precision limit exceeded");return lt(new e(e.LN10),t)}function Ds(e){for(var t="";e--;)t+="0";return t}function Vh(e,t){var n,r,i,o,s,a,l,u,c,f=1,d=10,p=e,v=p.d,m=p.constructor,_=m.precision;if(p.s<1)throw Error(yi+(p.s?"NaN":"-Infinity"));if(p.eq(zr))return new m(0);if(t==null?(Et=!1,u=_):u=t,p.eq(10))return t==null&&(Et=!0),tb(m,u);if(u+=d,m.precision=u,n=uo(v),r=n.charAt(0),o=nn(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=uo(p.d),r=n.charAt(0),f++;o=nn(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1))}else return l=tb(m,u+2,_).times(o+""),p=Vh(new m(r+"."+n.slice(1)),u-d).plus(l),m.precision=_,t==null?(Et=!0,lt(p,_)):p;for(a=s=p=Go(p.minus(zr),p.plus(zr),u),c=lt(p.times(p),u),i=3;;){if(s=lt(s.times(c),u),l=a.plus(Go(s,new m(i),u)),uo(l.d).slice(0,u)===uo(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(tb(m,u+2,_).times(o+""))),a=Go(a,new m(f),u),m.precision=_,t==null?(Et=!0,lt(a,_)):a;a=l,i+=2}}function KN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Of(n/vt),e.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=vt;r<i;)e.d.push(+t.slice(r,r+=vt));t=t.slice(r),r=vt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Et&&(e.e>ay||e.e<-ay))throw Error(AT+n)}else e.s=0,e.e=0,e.d=[0];return e}function lt(e,t,n){var r,i,o,s,a,l,u,c,f=e.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=vt,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/vt),o=f.length,c>=o)return e;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=vt,i=r-vt+s}if(n!==void 0&&(o=pl(10,s-i-1),a=u/o%10|0,l=t<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/pl(10,s-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=nn(e),f.length=1,t=t-o-1,f[0]=pl(10,(vt-t%vt)%vt),e.e=Of(-t/vt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=pl(10,vt-r),f[c]=i>0?(u/pl(10,s-i)%pl(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==wn&&(f[0]=1,++e.e);break}else{if(f[c]+=o,f[c]!=wn)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Et&&(e.e>ay||e.e<-ay))throw Error(AT+nn(e));return e}function aU(e,t){var n,r,i,o,s,a,l,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),Et?lt(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(p/vt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=wn-1;--l[o],l[i]+=wn}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Et?lt(t,p):t):new d(0)}function ou(e,t,n){var r,i=nn(e),o=uo(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ds(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ds(-i-1)+o,n&&(r=n-s)>0&&(o+=Ds(r))):i>=s?(o+=Ds(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ds(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ds(r))),e.s<0?"-"+o:o}function qN(e,t){if(e.length>t)return e.length=t,!0}function lU(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Vl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return KN(s,o.toString())}else if(typeof o!="string")throw Error(Vl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,kde.test(o))KN(s,o);else throw Error(Vl+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lU,i.config=i.set=Rde,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Rde(e){if(!e||typeof e!="object")throw Error(yi+"Object expected");var t,n,r,i=["precision",1,If,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Of(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vl+n+": "+r);return this}var TT=lU(Ode);zr=new TT(1);const nt=TT;var Nde=e=>e,uU={},cU=e=>e===uU,GN=e=>function t(){return arguments.length===0||arguments.length===1&&cU(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},fU=(e,t)=>e===1?t:GN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==uU).length;return o>=e?t(...r):fU(e-o,GN(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>cU(c)?a.shift():c);return t(...u,...a)}))}),sw=e=>fU(e.length,e),OE=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Dde=sw((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Mde=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Nde;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},kE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),dU=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((s,a)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[a])})||(t=i,n=e(...i)),n}};function hU(e){var t;return e===0?t=1:t=Math.floor(new nt(e).abs().log(10).toNumber())+1,t}function pU(e,t,n){for(var r=new nt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}sw((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});sw((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});sw((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var mU=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},gU=(e,t,n)=>{if(e.lte(0))return new nt(0);var r=hU(e.toNumber()),i=new nt(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new nt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return t?new nt(l.toNumber()):new nt(Math.ceil(l.toNumber()))},jde=(e,t,n)=>{var r=new nt(1),i=new nt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new nt(10).pow(hU(e)-1),i=new nt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new nt(Math.floor(e)))}else e===0?i=new nt(Math.floor((t-1)/2)):n||(i=new nt(Math.floor(e)));var s=Math.floor((t-1)/2),a=Mde(Dde(l=>i.add(new nt(l-s).mul(r)).toNumber()),OE);return a(0,t)},vU=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var s=gU(new nt(n).sub(t).div(r-1),i,o),a;t<=0&&n>=0?a=new nt(0):(a=new nt(t).add(n).div(2),a=a.sub(new nt(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new nt(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?vU(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new nt(l).mul(s)),tickMax:a.add(new nt(u).mul(s))})};function Lde(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=mU([t,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...OE(0,r-1).map(()=>1/0)]:[...OE(0,r-1).map(()=>-1/0),a];return t>n?kE(l):l}if(s===a)return jde(s,r,i);var{step:u,tickMin:c,tickMax:f}=vU(s,a,o,i,0),d=pU(c,f.add(new nt(.1).mul(u)),u);return t>n?kE(d):d}function $de(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=mU([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(t,2),l=gU(new nt(s).sub(o).div(a-1),i,0),u=[...pU(new nt(o),new nt(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?kE(u):u}var Fde=dU(Lde),Vde=dU($de),yU=e=>e.rootProps.maxBarSize,Ude=e=>e.rootProps.barGap,wU=e=>e.rootProps.barCategoryGap,zde=e=>e.rootProps.barSize,aw=e=>e.rootProps.stackOffset,PT=e=>e.options.chartName,CT=e=>e.rootProps.syncId,_U=e=>e.rootProps.syncMethod,IT=e=>e.options.eventEmitter,Lo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Lr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Bde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Lo.angleAxisId,includeHidden:!1,name:void 0,reversed:Lo.reversed,scale:Lo.scale,tick:Lo.tick,tickCount:void 0,ticks:void 0,type:Lo.type,unit:void 0},Wde={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:Lr.type,unit:void 0},Hde={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Lo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lo.scale,tick:Lo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kde={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:Lr.tickCount,ticks:void 0,type:"category",unit:void 0},OT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Hde:Bde,kT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Kde:Wde,uw=e=>e.polarOptions,RT=q([ms,gs,Pn],nle),bU=q([uw,RT],(e,t)=>{if(e!=null)return Bi(e.innerRadius,t,0)}),xU=q([uw,RT],(e,t)=>{if(e!=null)return Bi(e.outerRadius,t,t*.8)}),qde=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},EU=q([uw],qde);q([OT,EU],lw);var SU=q([RT,bU,xU],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});q([kT,SU],lw);var AU=q([Qe,uw,bU,xU,ms,gs],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=t;return{cx:Bi(s,i,i/2),cy:Bi(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),on=(e,t)=>t,cw=(e,t,n)=>n;function NT(e){return e==null?void 0:e.id}var pn=e=>{var t=Qe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},kf=e=>e.tooltip.settings.axisId,In=e=>{var t=pn(e),n=kf(e);return Op(e,t,n)},TU=q([In],e=>e==null?void 0:e.dataKey);function PU(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(a=>{var l,u=(l=a.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=NT(a);u.forEach((f,d)=>{var p=o==null||i?d:String(An(f,o,null)),v=An(f,a.dataKey,0),m;s.has(p)?m=s.get(p):m={},Object.assign(m,{[c]:v}),s.set(p,m)})}}),Array.from(s.values())}function fw(e){return e.stackId!=null&&e.dataKey!=null}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){Gde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gde(e,t,n){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yde(e){var t=Zde(e,"string");return typeof t=="symbol"?t:t+""}function Zde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RE=[0,"auto"],Dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},CU=(e,t)=>e.cartesianAxis.xAxis[t],ys=(e,t)=>{var n=CU(e,t);return n??Dr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:RE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ap},IU=(e,t)=>e.cartesianAxis.yAxis[t],ws=(e,t)=>{var n=IU(e,t);return n??Mr},Qde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},DT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Qde},Rr=(e,t,n)=>{switch(t){case"xAxis":return ys(e,n);case"yAxis":return ws(e,n);case"zAxis":return DT(e,n);case"angleAxis":return OT(e,n);case"radiusAxis":return kT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Xde=(e,t,n)=>{switch(t){case"xAxis":return ys(e,n);case"yAxis":return ws(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Op=(e,t,n)=>{switch(t){case"xAxis":return ys(e,n);case"yAxis":return ws(e,n);case"angleAxis":return OT(e,n);case"radiusAxis":return kT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},OU=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function kU(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var dw=e=>e.graphicalItems.cartesianItems,Jde=q([on,cw],kU),RU=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),kp=q([dw,Rr,Jde],RU),NU=q([kp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fw)),DU=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MU=q([kp],DU),jU=e=>e.map(t=>t.data).filter(Boolean).flat(1),ehe=q([kp],jU),LU=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},MT=q([ehe,ow],LU),$U=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:An(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:An(i,r)}))):e.map(r=>({value:r})),hw=q([MT,Rr,kp],$U);function FU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Au(e){return e.filter(t=>Eo(t)||t instanceof Date).map(Number).filter(t=>Xr(t)===!1)}function the(e,t,n){return!n||typeof t!="number"||Xr(t)?[]:n.length?Au(n.flatMap(r=>{var i=An(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!ei(o)||!ei(s)))return[t-o,t+s]})):[]}var nhe=q([NU,ow,In],PU),VU=(e,t,n)=>{var r={},i=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(NT);return[s,{stackedData:yle(e,l,n),graphicalItems:a}]}))},NE=q([nhe,NU,aw],VU),UU=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=Ele(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},rhe=q([NE,Ja,on],UU),zU=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(s=>{var a,l,u=(a=r[s.id])===null||a===void 0?void 0:a.filter(f=>FU(i,f)),c=An(o,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:the(o,c,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:An(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),pw=e=>e.errorBars,BU=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>FU(n,r));q([MU,pw,on],BU);var ihe=q([MT,Rr,MU,pw,on],zU);function ohe(e){var{value:t}=e;if(Eo(t)||t instanceof Date)return t}var ZN=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Au(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},she=(e,t,n)=>{var r=e.map(ohe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&MV(r))?E3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},jT=e=>{var t;if(e==null||!("domain"in e))return RE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Au(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:RE},uy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},WU=e=>e.referenceElements.dots,Rf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),ahe=q([WU,on,cw],Rf),HU=e=>e.referenceElements.areas,lhe=q([HU,on,cw],Rf),KU=e=>e.referenceElements.lines,uhe=q([KU,on,cw],Rf),qU=(e,t)=>{var n=Au(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},che=q(ahe,on,qU),GU=(e,t)=>{var n=Au(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fhe=q([lhe,on],GU),YU=(e,t)=>{var n=Au(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dhe=q(uhe,on,YU),hhe=q(che,dhe,fhe,(e,t,n)=>uy(e,n,t)),phe=q([Rr],jT),ZU=(e,t,n,r,i,o,s)=>{var a=Cde(t,e.allowDataOverflow);if(a!=null)return a;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?uy(n,i,ZN(r)):uy(i,ZN(r));return Ide(t,u,e.allowDataOverflow)},mhe=q([Rr,phe,rhe,ihe,hhe,Qe,on],ZU),ghe=[0,1],QU=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=e,u=Za(t,o);return u&&a==null?E3(0,n.length):l==="category"?she(r,e,u):i==="expand"?ghe:s}},LT=q([Rr,Qe,MT,hw,aw,on,mhe],QU),XU=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:s}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(xp(o));return a in kd?a:"point"}}},Rp=q([Rr,Qe,OU,PT,on],XU);function vhe(e){if(e!=null){if(e in kd)return kd[e]();var t="scale".concat(xp(e));if(t in kd)return kd[t]()}}function $T(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=vhe(t);if(i!=null){var o=i.domain(n).range(r);return hle(o),o}}}var JU=(e,t,n)=>{var r=jT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&rf(e))return Fde(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&rf(e))return Vde(e,t.tickCount,t.allowDecimals)}},FT=q([LT,Op,Rp],JU),ez=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&rf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],s=t[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return t},yhe=q([Rr,LT,FT,on],ez),whe=q(hw,Rr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Au(e.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),tz=q(whe,Qe,wU,Pn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!ei(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Bi(n,e*o),a=e*o/2;return a-s-(a-s)/o*s}return 0}),_he=(e,t)=>{var n=ys(e,t);return n==null||typeof n.padding!="string"?0:tz(e,"xAxis",t,n.padding)},bhe=(e,t)=>{var n=ws(e,t);return n==null||typeof n.padding!="string"?0:tz(e,"yAxis",t,n.padding)},xhe=q(ys,_he,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Ehe=q(ws,bhe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),She=q([Pn,xhe,Y0,G0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Ahe=q([Pn,Qe,Ehe,Y0,G0,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Np=(e,t,n,r)=>{var i;switch(t){case"xAxis":return She(e,n,r);case"yAxis":return Ahe(e,n,r);case"zAxis":return(i=DT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return EU(e);case"radiusAxis":return SU(e,n);default:return}},nz=q([Rr,Np],lw),Nf=q([Rr,Rp,yhe,nz],$T);q([kp,pw,on],BU);function rz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mw=(e,t)=>t,gw=(e,t,n)=>n,The=q(K0,mw,gw,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rz)),Phe=q(q0,mw,gw,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rz)),iz=(e,t)=>({width:e.width,height:t.height}),Che=(e,t)=>{var n=typeof t.width=="number"?t.width:Ap;return{width:n,height:e.height}},oz=q(Pn,ys,iz),Ihe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Ohe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},khe=q(gs,Pn,The,mw,gw,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=iz(t,a);s==null&&(s=Ihe(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),Rhe=q(ms,Pn,Phe,mw,gw,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=Che(t,a);s==null&&(s=Ohe(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),Nhe=(e,t)=>{var n=ys(e,t);if(n!=null)return khe(e,n.orientation,n.mirror)},Dhe=q([Pn,ys,Nhe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Mhe=(e,t)=>{var n=ws(e,t);if(n!=null)return Rhe(e,n.orientation,n.mirror)},jhe=q([Pn,ws,Mhe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),sz=q(Pn,ws,(e,t)=>{var n=typeof t.width=="number"?t.width:Ap;return{width:n,height:e.height}}),QN=(e,t,n)=>{switch(t){case"xAxis":return oz(e,n).width;case"yAxis":return sz(e,n).height;default:return}},az=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=Za(e,r),l=t.map(u=>u.value);if(s&&a&&o==="category"&&i&&MV(l))return l}},VT=q([Qe,hw,Rr,on],az),lz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Za(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(a=>a.value)}},UT=q([Qe,hw,Op,on],lz),XN=q([Qe,Xde,Rp,Nf,VT,UT,Np,FT,on],(e,t,n,r,i,o,s,a,l)=>{if(t==null)return null;var u=Za(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}),Lhe=(e,t,n,r,i,o,s,a,l)=>{if(!(t==null||r==null)){var u=Za(e,l),{type:c,ticks:f,tickCount:d}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/p:0;v=l==="angleAxis"&&o!=null&&o.length>=2?Er(o[0]-o[1])*2*v:v;var m=f||i;if(m){var _=m.map((b,y)=>{var x=s?s.indexOf(b):b;return{index:y,coordinate:r(x)+v,value:b,offset:v}});return _.filter(b=>!Xr(b.coordinate))}return u&&a?a.map((b,y)=>({coordinate:r(b)+v,value:b,index:y,offset:v})):r.ticks?r.ticks(d).map(b=>({coordinate:r(b)+v,value:b,offset:v})):r.domain().map((b,y)=>({coordinate:r(b)+v,value:s?s[b]:b,index:y,offset:v}))}},uz=q([Qe,Op,Rp,Nf,FT,Np,VT,UT,on],Lhe),$he=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=Za(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Er(r[0]-r[1])*2*u:u,a&&o?o.map((c,f)=>({coordinate:n(c)+u,value:c,index:f,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,f)=>({coordinate:n(c)+u,value:i?i[c]:c,index:f,offset:u}))}},ka=q([Qe,Op,Nf,Np,VT,UT,on],$he),Ra=q(Rr,Nf,(e,t)=>{if(!(e==null||t==null))return ly(ly({},e),{},{scale:t})}),Fhe=q([Rr,Rp,LT,nz],$T);q((e,t,n)=>DT(e,n),Fhe,(e,t)=>{if(!(e==null||t==null))return ly(ly({},e),{},{scale:t})});var Vhe=q([Qe,K0,q0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cz=e=>e.options.defaultTooltipEventType,fz=e=>e.options.validateTooltipEventTypes;function dz(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zT(e,t){var n=cz(e),r=fz(e);return dz(t,n,r)}function Uhe(e){return _e(t=>zT(t,e))}var hz=(e,t)=>{var n,r=Number(t);if(!(Xr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},zhe=e=>e.tooltip.settings,Bs={active:!1,index:null,dataKey:void 0,coordinate:void 0},Bhe={itemInteraction:{click:Bs,hover:Bs},axisInteraction:{click:Bs,hover:Bs},keyboardInteraction:Bs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pz=ri({name:"tooltip",initialState:Bhe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Whe,removeTooltipEntrySettings:Hhe,setTooltipSettingsState:Khe,setActiveMouseOverItemIndex:mz,mouseLeaveItem:qhe,mouseLeaveChart:gz,setActiveClickItemIndex:Ghe,setMouseOverAxisIndex:vz,setMouseClickAxisIndex:Yhe,setSyncInteraction:DE,setKeyboardInteraction:ME}=pz.actions,Zhe=pz.reducer;function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){Qhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qhe(e,t,n){return(t=Xhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xhe(e){var t=Jhe(e,"string");return typeof t=="symbol"?t:t+""}function Jhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tpe(e){return e.index!=null}var yz=(e,t,n,r)=>{if(t==null)return Bs;var i=epe(e,t,n);if(i==null)return Bs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(tpe(i)){if(o)return Hm(Hm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Hm(Hm({},Bs),{},{coordinate:i.coordinate})},BT=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!ei(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},wz=(e,t,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},_z=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},Dp=e=>e.options.tooltipPayloadSearcher,Df=e=>e.tooltip;function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function npe(e,t,n){return(t=rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpe(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ope(e,t){return e??t}var bz=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((d,p)=>{var v,{dataDefinedOnItem:m,settings:_}=p,b=ope(m,a),y=Array.isArray(b)?n3(b,u,c):b,x=(v=_==null?void 0:_.dataKey)!==null&&v!==void 0?v:r,A=_==null?void 0:_.nameKey,C;if(r&&Array.isArray(y)&&!Array.isArray(y[0])&&s==="axis"?C=jV(y,r,i):C=o(y,t,l,A),Array.isArray(C))C.forEach(S=>{var T=tD(tD({},_),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});d.push(BR({tooltipEntrySettings:T,dataKey:S.dataKey,payload:S.payload,value:An(S.payload,S.dataKey),name:S.name}))});else{var N;d.push(BR({tooltipEntrySettings:_,dataKey:x,payload:C,value:An(C,x),name:(N=An(C,A))!==null&&N!==void 0?N:_==null?void 0:_.name}))}return d},f)}},WT=q([In,Qe,OU,PT,pn],XU),spe=q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ape=q([pn,kf],kU),Mp=q([spe,In,ape],RU),lpe=q([Mp],e=>e.filter(fw)),upe=q([Mp],jU),Mf=q([upe,Ja],LU),cpe=q([lpe,Ja,In],PU),HT=q([Mf,In,Mp],$U),fpe=q([In],jT),dpe=q([Mp],e=>e.filter(fw)),hpe=q([cpe,dpe,aw],VU),ppe=q([hpe,Ja,pn],UU),mpe=q([Mp],DU),gpe=q([Mf,In,mpe,pw,pn],zU),vpe=q([WU,pn,kf],Rf),ype=q([vpe,pn],qU),wpe=q([HU,pn,kf],Rf),_pe=q([wpe,pn],GU),bpe=q([KU,pn,kf],Rf),xpe=q([bpe,pn],YU),Epe=q([ype,xpe,_pe],uy),Spe=q([In,fpe,ppe,gpe,Epe,Qe,pn],ZU),xz=q([In,Qe,Mf,HT,aw,pn,Spe],QU),Ape=q([xz,In,WT],JU),Tpe=q([In,xz,Ape,pn],ez),Ez=e=>{var t=pn(e),n=kf(e),r=!1;return Np(e,t,n,r)},Sz=q([In,Ez],lw),Az=q([In,WT,Tpe,Sz],$T),Ppe=q([Qe,HT,In,pn],az),Cpe=q([Qe,HT,In,pn],lz),Ipe=(e,t,n,r,i,o,s,a)=>{if(t){var{type:l}=t,u=Za(e,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Er(i[0]-i[1])*2*f:f,u&&s?s.map((d,p)=>({coordinate:r(d)+f,value:d,index:p,offset:f})):r.domain().map((d,p)=>({coordinate:r(d)+f,value:o?o[d]:d,index:p,offset:f}))}}},_s=q([Qe,In,WT,Az,Ez,Ppe,Cpe,pn],Ipe),KT=q([cz,fz,zhe],(e,t,n)=>dz(n.shared,e,t)),Tz=e=>e.tooltip.settings.trigger,qT=e=>e.tooltip.settings.defaultIndex,vw=q([Df,KT,Tz,qT],yz),su=q([vw,Mf],BT),Pz=q([_s,su],hz),Cz=q([vw],e=>{if(e)return e.dataKey}),Iz=q([Df,KT,Tz,qT],_z),Ope=q([ms,gs,Qe,Pn,_s,qT,Iz,Dp],wz),kpe=q([vw,Ope],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Rpe=q([vw],e=>e.active),Npe=q([Iz,su,Ja,TU,Pz,Dp,KT],bz),Dpe=q([Npe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){Mpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mpe(e,t,n){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jpe(e){var t=Lpe(e,"string");return typeof t=="symbol"?t:t+""}function Lpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $pe=()=>_e(In),Fpe=()=>{var e=$pe(),t=_e(_s),n=_e(Az);return Dh(rD(rD({},e),{},{scale:n}),t)},Vpe=()=>_e(PT),GT=(e,t)=>t,Oz=(e,t,n)=>n,YT=(e,t,n,r)=>r,Upe=q(_s,e=>F0(e,t=>t.coordinate)),ZT=q([Df,GT,Oz,YT],yz),kz=q([ZT,Mf],BT),zpe=(e,t,n)=>{if(t!=null){var r=Df(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Rz=q([Df,GT,Oz,YT],_z),cy=q([ms,gs,Qe,Pn,_s,YT,Rz,Dp],wz),Bpe=q([ZT,cy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Nz=q(_s,kz,hz),Wpe=q([Rz,kz,Ja,TU,Nz,Dp,GT],bz),Hpe=q([ZT],e=>({isActive:e.active,activeIndex:e.index})),Kpe=(e,t,n,r,i,o,s,a)=>{if(!(!e||!t||!r||!i||!o)){var l=Sle(e.chartX,e.chartY,t,n,a);if(l){var u=Tle(l,t),c=fle(u,s,o,r,i),f=Ale(t,o,c,l);return{activeIndex:String(c),activeCoordinate:f}}}};function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return(t=Gpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpe(e){var t=Ype(e,"string");return typeof t=="symbol"?t:t+""}function Ype(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=e,c=t,f=n,d=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,v;if(u==="ScatterChart")p=c,v=vue;else if(u==="BarChart")p=yue(s,c,i,o),v=g3;else if(s==="radial"){var{cx:m,cy:_,radius:b,startAngle:y,endAngle:x}=v3(c);p={cx:m,cy:_,startAngle:y,endAngle:x,innerRadius:b,outerRadius:b},v=w3}else p={points:Que(s,c,i)},v=f3;var A=typeof a=="object"&&"className"in a?a.className:void 0,C=Km(Km(Km(Km({stroke:"#ccc",pointerEvents:"none"},i),p),Wt(a,!1)),{},{payload:f,payloadIndex:d,className:ye("recharts-tooltip-cursor",A)});return g.isValidElement(a)?g.cloneElement(a,C):g.createElement(v,C)}function Qpe(e){var t=Fpe(),n=s3(),r=Z0(),i=Vpe();return g.createElement(Zpe,jE({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Dz=g.createContext(null),Xpe=()=>g.useContext(Dz),Mz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,v=new Array(p);d<p;d++)v[d]=f[d].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,p,v){var m=n?n+u:u;if(!this._events[m])return!1;var _=this._events[m],b=arguments.length,y,x;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,d),!0;case 5:return _.fn.call(_.context,c,f,d,p),!0;case 6:return _.fn.call(_.context,c,f,d,p,v),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];_.fn.apply(_.context,y)}else{var A=_.length,C;for(x=0;x<A;x++)switch(_[x].once&&this.removeListener(u,_[x].fn,void 0,!0),b){case 1:_[x].fn.call(_[x].context);break;case 2:_[x].fn.call(_[x].context,c);break;case 3:_[x].fn.call(_[x].context,c,f);break;case 4:_[x].fn.call(_[x].context,c,f,d);break;default:if(!y)for(C=1,y=new Array(b-1);C<b;C++)y[C-1]=arguments[C];_[x].fn.apply(_[x].context,y)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!d||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var m=0,_=[],b=v.length;m<b;m++)(v[m].fn!==c||d&&!v[m].once||f&&v[m].context!==f)&&_.push(v[m]);_.length?this._events[p]=_.length===1?_[0]:_:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Mz);var Jpe=Mz.exports;const eme=wi(Jpe);var Uh=new eme,LE="recharts.syncEvent.tooltip",oD="recharts.syncEvent.brush";function jz(e,t){if(t){var n=Number.parseInt(t,10);if(!Xr(n))return e==null?void 0:e[n]}}var tme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Lz=ri({name:"options",initialState:tme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nme=Lz.reducer,{createEventEmitter:rme}=Lz.actions;function ime(e){return e.tooltip.syncInteraction}var ome={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$z=ri({name:"chartData",initialState:ome,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:sD,setDataStartEndIndexes:sme,setComputedData:D1e}=$z.actions,ame=$z.reducer,lme=["x","y"];function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){ume(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ume(e,t,n){return(t=cme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cme(e){var t=fme(e,"string");return typeof t=="symbol"?t:t+""}function fme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dme(e,t){if(e==null)return{};var n,r,i=hme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fz=()=>{};function pme(){var e=_e(CT),t=_e(IT),n=Tn(),r=_e(_U),i=_e(_s),o=Z0(),s=tT(),a=_e(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Fz;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var d;if(s&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate){var p=c.payload.coordinate,{x:v,y:m}=p,_=dme(p,lme),b=ll(ll(ll({},_),typeof v=="number"&&{x:Math.max(s.x,Math.min(v,s.x+s.width))}),typeof m=="number"&&{y:Math.max(s.y,Math.min(m,s.y+s.height))}),y=ll(ll({},c),{},{payload:ll(ll({},c.payload),{},{coordinate:b})});n(y)}else n(c);return}if(i!=null){var x;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},C=r(i,A);x=i[C]}else r==="value"&&(x=i.find(R=>String(R.value)===c.payload.label));var{coordinate:N}=c.payload;if(x==null||c.payload.active===!1||N==null||s==null){n(DE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:T}=N,I=Math.min(S,s.x+s.width),k=Math.min(T,s.y+s.height),O={x:o==="horizontal"?x.coordinate:I,y:o==="horizontal"?k:x.coordinate},D=DE({active:c.payload.active,coordinate:O,dataKey:c.payload.dataKey,index:String(x.index),label:c.payload.label});n(D)}}};return Uh.on(LE,l),()=>{Uh.off(LE,l)}},[a,n,t,e,r,i,o,s])}function mme(){var e=_e(CT),t=_e(IT),n=Tn();g.useEffect(()=>{if(e==null)return Fz;var r=(i,o,s)=>{t!==s&&e===i&&n(sme(o))};return Uh.on(oD,r),()=>{Uh.off(oD,r)}},[n,t,e])}function gme(){var e=Tn();g.useEffect(()=>{e(rme())},[e]),pme(),mme()}function vme(e,t,n,r,i,o){var s=_e(d=>zpe(d,e,t)),a=_e(IT),l=_e(CT),u=_e(_U),c=_e(ime),f=c==null?void 0:c.active;g.useEffect(()=>{if(!f&&l!=null&&a!=null){var d=DE({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Uh.emit(LE,l,d,a)}},[f,n,s,i,r,a,l,u,o])}function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(r){yme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yme(e,t,n){return(t=wme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bme(e){return e.dataKey}function xme(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Yle,t)}var cD=[],Eme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fD(e){var t=kr(e,Eme),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:f,reverseDirection:d,useTranslate3d:p,wrapperStyle:v,cursor:m,shared:_,trigger:b,defaultIndex:y,portal:x,axisId:A}=t,C=Tn(),N=typeof y=="number"?String(y):y;g.useEffect(()=>{C(Khe({shared:_,trigger:b,axisId:A,active:n,defaultIndex:N}))},[C,_,b,A,n,N]);var S=tT(),T=c3(),I=Uhe(_),{activeIndex:k,isActive:O}=_e(Ie=>Hpe(Ie,I,b,N)),D=_e(Ie=>Wpe(Ie,I,b,N)),R=_e(Ie=>Nz(Ie,I,b,N)),F=_e(Ie=>Bpe(Ie,I,b,N)),B=D,V=Xpe(),K=n??O,[$,W]=eae([B,K]),Q=I==="axis"?R:void 0;vme(I,b,F,Q,k,K);var fe=x??V;if(fe==null)return null;var ne=B??cD;K||(ne=cD),a&&ne.length&&(ne=yse(B.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||t.includeHidden)),c,bme));var De=ne.length>0,Ce=g.createElement(nue,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:K,coordinate:F,hasPayload:De,offset:u,position:f,reverseDirection:d,useTranslate3d:p,viewBox:S,wrapperStyle:v,lastBoundingBox:$,innerRef:W,hasPortalFromProps:!!x},xme(s,uD(uD({},t),{},{payload:ne,label:Q,active:K,coordinate:F,accessibilityLayer:T})));return g.createElement(g.Fragment,null,gu.createPortal(Ce,fe),K&&g.createElement(Qpe,{cursor:m,tooltipEventType:I,coordinate:F,payload:B,index:k}))}var Vz={},Uz={},zz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},f=()=>{u&&c(),m()};let d=null;const p=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,f()},r)},v=()=>{d!==null&&(clearTimeout(d),d=null)},m=()=>{v(),s=void 0,a=null},_=()=>{c()},b=function(...y){if(i!=null&&i.aborted)return;s=this,a=y;const x=d==null;p(),l&&x&&c()};return b.schedule=p,b.cancel=m,b.flush=_,i==null||i.addEventListener("abort",m,{once:!0}),b}e.debounce=t})(zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zz;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,f=null;const d=t.debounce(function(...m){c=r.apply(this,m),f=null},i,{edges:u}),p=function(...m){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,m),f=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,m),c)},v=()=>(d.flush(),c);return p.cancel=d.cancel,p.flush=v,p}e.debounce=n})(Uz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:a})}e.throttle=n})(Vz);var Sme=Vz.throttle;const Ame=wi(Sme);var Qd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){Tme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tme(e,t,n){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hD=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:f,className:d,onResize:p,style:v={}}=e,m=g.useRef(null),_=g.useRef();_.current=p,g.useImperativeHandle(t,()=>m.current);var[b,y]=g.useState({containerWidth:r.width,containerHeight:r.height}),x=g.useCallback((C,N)=>{y(S=>{var T=Math.round(C),I=Math.round(N);return S.containerWidth===T&&S.containerHeight===I?S:{containerWidth:T,containerHeight:I}})},[]);g.useEffect(()=>{var C=I=>{var k,{width:O,height:D}=I[0].contentRect;x(O,D),(k=_.current)===null||k===void 0||k.call(_,O,D)};c>0&&(C=Ame(C,c,{trailing:!0,leading:!1}));var N=new ResizeObserver(C),{width:S,height:T}=m.current.getBoundingClientRect();return x(S,T),N.observe(m.current),()=>{N.disconnect()}},[x,c]);var A=g.useMemo(()=>{var{containerWidth:C,containerHeight:N}=b;if(C<0||N<0)return null;Qd(bl(i)||bl(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Qd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var S=bl(i)?C:i,T=bl(o)?N:o;return n&&n>0&&(S?T=S/n:T&&(S=T*n),l&&T>l&&(T=l)),Qd(S>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,T,i,o,s,a,n),g.Children.map(u,I=>g.cloneElement(I,{width:S,height:T,style:nb({width:S,height:T},I.props.style)}))},[n,u,o,l,a,s,b,i]);return g.createElement("div",{id:f?"".concat(f):void 0,className:ye("recharts-responsive-container",d),style:nb(nb({},v),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:m},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Bz=e=>null;Bz.displayName="Cell";function Ime(e,t,n){return(t=Ome(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ome(e){var t=kme(e,"string");return typeof t=="symbol"?t:t+""}function kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rme{constructor(t){Ime(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){Dme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dme(e,t,n){return(t=Mme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mme(e){var t=jme(e,"string");return typeof t=="symbol"?t:t+""}function jme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lme={cacheSize:2e3,enableCache:!0},Wz=Nme({},Lme),mD=new Rme(Wz.cacheSize),$me={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gD="recharts_measurement_span";function Fme(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var vD=(e,t)=>{try{var n=document.getElementById(gD);n||(n=document.createElement("span"),n.setAttribute("id",gD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$me,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xu.isSsr)return{width:0,height:0};if(!Wz.enableCache)return vD(t,n);var r=Fme(t,n),i=mD.get(r);if(i)return i;var o=vD(t,n);return mD.set(r,o),o},yD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ume=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zme=Object.keys(Hz),nc="NaN";function Bme(e,t){return e*Hz[t]}class wr{static parse(t){var n,[,r,i]=(n=Ume.exec(t))!==null&&n!==void 0?n:[];return new wr(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Xr(t)&&(this.unit=""),n!==""&&!Vme.test(n)&&(this.num=NaN,this.unit=""),zme.includes(n)&&(this.num=Bme(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wr(NaN,""):new wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wr(NaN,""):new wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xr(this.num)}}function Kz(e){if(e.includes(nc))return nc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=yD.exec(t))!==null&&n!==void 0?n:[],s=wr.parse(r??""),a=wr.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return nc;t=t.replace(yD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,d]=(u=wD.exec(t))!==null&&u!==void 0?u:[],p=wr.parse(c??""),v=wr.parse(d??""),m=f==="+"?p.add(v):p.subtract(v);if(m.isNaN())return nc;t=t.replace(wD,m.toString())}return t}var _D=/\(([^()]*)\)/;function Wme(e){for(var t=e,n;(n=_D.exec(t))!=null;){var[,r]=n;t=t.replace(_D,Kz(r))}return t}function Hme(e){var t=e.replace(/\s+/g,"");return t=Wme(t),t=Kz(t),t}function Kme(e){try{return Hme(e)}catch{return nc}}function rb(e){var t=Kme(e.slice(5,-1));return t===nc?"":t}var qme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gme=["dx","dy","angle","className","breakAll"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(null,arguments)}function bD(e,t){if(e==null)return{};var n,r,i=Yme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qz=/[ \f\n\r\t\v\u2028\u2029]+/,Gz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];At(t)||(n?i=t.toString().split(""):i=t.toString().split(qz));var o=i.map(a=>({word:a,width:Xd(a,r).width})),s=n?0:Xd(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Zme=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=e,u=Ee(o),c=s,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((D,R)=>{var{word:F,width:B}=R,V=D[D.length-1];if(V&&(r==null||i||V.width+B+n<Number(r)))V.words.push(F),V.width+=B+n;else{var K={words:[F],width:B};D.push(K)}return D},[])},d=f(t),p=k=>k.reduce((O,D)=>O.width>D.width?O:D);if(!u||i)return d;var v=d.length>o||p(d).width>Number(r);if(!v)return d;for(var m="…",_=k=>{var O=c.slice(0,k),D=Gz({breakAll:l,style:a,children:O+m}).wordsWithComputedWidth,R=f(D),F=R.length>o||p(R).width>Number(r);return[F,R]},b=0,y=c.length-1,x=0,A;b<=y&&x<=c.length-1;){var C=Math.floor((b+y)/2),N=C-1,[S,T]=_(N),[I]=_(C);if(!S&&!I&&(b=C+1),S&&I&&(y=C-1),!S&&I){A=T;break}x++}return A||d},xD=e=>{var t=At(e)?[]:e.toString().split(qz);return[{words:t}]},Qme=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!xu.isSsr){var a,l,u=Gz({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;a=c,l=f}else return xD(r);return Zme({breakAll:o,children:r,maxLines:s,style:i},a,l,t,n)}return xD(r)},ED="#808080",QT=g.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=ED}=e,c=bD(e,qme),f=g.useMemo(()=>Qme({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:d,dy:p,angle:v,className:m,breakAll:_}=c,b=bD(c,Gme);if(!Eo(n)||!Eo(r)||f.length===0)return null;var y=n+(Ee(d)?d:0),x=r+(Ee(p)?p:0),A;switch(l){case"start":A=rb("calc(".concat(o,")"));break;case"middle":A=rb("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:A=rb("calc(".concat(f.length-1," * -").concat(i,")"));break}var C=[];if(s){var N=f[0].width,{width:S}=c;C.push("scale(".concat(Ee(S)?S/N:1,")"))}return v&&C.push("rotate(".concat(v,", ").concat(y,", ").concat(x,")")),C.length&&(b.transform=C.join(" ")),g.createElement("text",$E({},Wt(b,!0),{ref:t,x:y,y:x,className:ye("recharts-text",m),textAnchor:a,fill:u.includes("url")?ED:u}),f.map((T,I)=>{var k=T.words.join(_?"":" ");return g.createElement("tspan",{x:y,dy:I===0?A:i,key:"".concat(k,"-").concat(I)},k)}))});QT.displayName="Text";var Xme=["labelRef"];function Jme(e,t){if(e==null)return{};var n,r,i=ege(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ege(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(r){tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tge(e,t,n){return(t=nge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nge(e){var t=rge(e,"string");return typeof t=="symbol"?t:t+""}function rge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(null,arguments)}var Yz=g.createContext(null),ige=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,s=g.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return g.createElement(Yz.Provider,{value:s},o)},Zz=()=>{var e=g.useContext(Yz),t=tT();return e||t},oge=g.createContext(null),sge=()=>{var e=g.useContext(oge),t=_e(AU);return e||t},age=e=>{var{value:t,formatter:n}=e,r=At(e.children)?t:e.children;return typeof n=="function"?n(r):r},XT=e=>e!=null&&typeof e=="function",lge=(e,t)=>{var n=Er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},uge=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:d,clockWise:p}=i,v=(u+c)/2,m=lge(f,d),_=m>=0?1:-1,b,y;switch(t){case"insideStart":b=f+_*o,y=p;break;case"insideEnd":b=d-_*o,y=!p;break;case"end":b=d+_*o,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=m<=0?y:!y;var x=jn(a,l,v,b),A=jn(a,l,v,b+(y?1:-1)*359),C="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(y?0:1,`,
    `).concat(A.x,",").concat(A.y),N=At(e.id)?kh("recharts-radial-line-"):e.id;return g.createElement("text",$o({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:N,d:C})),g.createElement("textPath",{xlinkHref:"#".concat(N)},n))},cge=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=e,u=(a+l)/2;if(n==="outside"){var{x:c,y:f}=jn(r,i,s+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(o+s)/2,{x:p,y:v}=jn(r,i,d,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Qz=e=>"cx"in e&&Ee(e.cx),fge=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!Qz(n)&&(o=n);var{x:s,y:a,width:l,height:u}=t,c=u>=0?1:-1,f=c*r,d=c>0?"end":"start",p=c>0?"start":"end",v=l>=0?1:-1,m=v*r,_=v>0?"end":"start",b=v>0?"start":"end";if(i==="top"){var y={x:s+l/2,y:a-c*r,textAnchor:"middle",verticalAnchor:d};return Ft(Ft({},y),o?{height:Math.max(a-o.y,0),width:l}:{})}if(i==="bottom"){var x={x:s+l/2,y:a+u+f,textAnchor:"middle",verticalAnchor:p};return Ft(Ft({},x),o?{height:Math.max(o.y+o.height-(a+u),0),width:l}:{})}if(i==="left"){var A={x:s-m,y:a+u/2,textAnchor:_,verticalAnchor:"middle"};return Ft(Ft({},A),o?{width:Math.max(A.x-o.x,0),height:u}:{})}if(i==="right"){var C={x:s+l+m,y:a+u/2,textAnchor:b,verticalAnchor:"middle"};return Ft(Ft({},C),o?{width:Math.max(o.x+o.width-C.x,0),height:u}:{})}var N=o?{width:l,height:u}:{};return i==="insideLeft"?Ft({x:s+m,y:a+u/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideRight"?Ft({x:s+l-m,y:a+u/2,textAnchor:_,verticalAnchor:"middle"},N):i==="insideTop"?Ft({x:s+l/2,y:a+f,textAnchor:"middle",verticalAnchor:p},N):i==="insideBottom"?Ft({x:s+l/2,y:a+u-f,textAnchor:"middle",verticalAnchor:d},N):i==="insideTopLeft"?Ft({x:s+m,y:a+f,textAnchor:b,verticalAnchor:p},N):i==="insideTopRight"?Ft({x:s+l-m,y:a+f,textAnchor:_,verticalAnchor:p},N):i==="insideBottomLeft"?Ft({x:s+m,y:a+u-f,textAnchor:b,verticalAnchor:d},N):i==="insideBottomRight"?Ft({x:s+l-m,y:a+u-f,textAnchor:_,verticalAnchor:d},N):i&&typeof i=="object"&&(Ee(i.x)||bl(i.x))&&(Ee(i.y)||bl(i.y))?Ft({x:s+Bi(i.x,l),y:a+Bi(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):Ft({x:s+l/2,y:a+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},dge={offset:5};function Ms(e){var t=kr(e,dge),{viewBox:n,position:r,value:i,children:o,content:s,className:a="",textBreakAll:l,labelRef:u}=t,c=sge(),f=Zz(),d=r==="center"?f:c??f,p=n||d;if(!p||At(i)&&At(o)&&!g.isValidElement(s)&&typeof s!="function")return null;var v=Ft(Ft({},t),{},{viewBox:p});if(g.isValidElement(s)){var{labelRef:m}=v,_=Jme(v,Xme);return g.cloneElement(s,_)}var b;if(typeof s=="function"){if(b=g.createElement(s,v),g.isValidElement(b))return b}else b=age(t);var y=Qz(p),x=Wt(t,!0);if(y&&(r==="insideStart"||r==="insideEnd"||r==="end"))return uge(t,r,b,x,p);var A=y?cge(p,t.offset,t.position):fge(t,p);return g.createElement(QT,$o({ref:u,className:ye("recharts-label",a)},x,A,{breakAll:l}),b)}Ms.displayName="Label";var hge=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Ms,$o({key:"label-implicit"},r)):Eo(e)?g.createElement(Ms,$o({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Ms?g.cloneElement(e,Ft({key:"label-implicit"},r)):g.createElement(Ms,$o({key:"label-implicit",content:e},r)):XT(e)?g.createElement(Ms,$o({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Ms,$o({},e,{key:"label-implicit"},r)):null};function pge(e){var{label:t}=e,n=Zz();return hge(t,n)||null}var Xz={},Jz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Jz);var e6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(e6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz,n=e6,r=L0;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Xz);var mge=Xz.last;const gge=wi(mge);var vge=["valueAccessor"],yge=["dataKey","clockWise","id","textBreakAll"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function AD(e,t){if(e==null)return{};var n,r,i=wge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _ge=e=>Array.isArray(e.value)?gge(e.value):e.value,t6=g.createContext(void 0),n6=t6.Provider,r6=g.createContext(void 0);r6.Provider;function bge(){return g.useContext(t6)}function xge(){return g.useContext(r6)}function Ig(e){var{valueAccessor:t=_ge}=e,n=AD(e,vge),{dataKey:r,clockWise:i,id:o,textBreakAll:s}=n,a=AD(n,yge),l=bge(),u=xge(),c=l||u;return!c||!c.length?null:g.createElement(Wi,{className:"recharts-label-list"},c.map((f,d)=>{var p,v=At(r)?t(f,d):An(f&&f.payload,r),m=At(o)?{}:{id:"".concat(o,"-").concat(d)};return g.createElement(Ms,fy({},Wt(f,!0),a,m,{fill:(p=n.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(d),index:d}))}))}Ig.displayName="LabelList";function i6(e){var{label:t}=e;return t?t===!0?g.createElement(Ig,{key:"labelList-implicit"}):g.isValidElement(t)||XT(t)?g.createElement(Ig,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Ig,fy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(null,arguments)}var o6=e=>{var{cx:t,cy:n,r,className:i}=e,o=ye("recharts-dot",i);return t===+t&&n===+n&&r===+r?g.createElement("circle",FE({},Ya(e),RA(e),{className:o,cx:t,cy:n,r})):null},Ege={radiusAxis:{},angleAxis:{}},s6=ri({name:"polarAxis",initialState:Ege,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:M1e,removeRadiusAxis:j1e,addAngleAxis:L1e,removeAngleAxis:$1e}=s6.actions,Sge=s6.reducer,a6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(a6);var Age=a6.isPlainObject;const Tge=wi(Age);function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){Pge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pge(e,t,n){return(t=Cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cge(e){var t=Ige(e,"string");return typeof t=="symbol"?t:t+""}function Ige(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(null,arguments)}var CD=(e,t,n,r,i)=>{var o=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-o/2,",").concat(t+i),s+="L ".concat(e+n-o/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},Oge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kge=e=>{var t=kr(e,Oge),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:a}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,d=g.useRef(),[p,v]=g.useState(-1),m=g.useRef(i),_=g.useRef(o),b=g.useRef(s),y=g.useRef(n),x=g.useRef(r),A=X0(e,"trapezoid-");if(g.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var F=d.current.getTotalLength();F&&v(F)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var C=ye("recharts-trapezoid",a);if(!f)return g.createElement("g",null,g.createElement("path",dy({},Wt(t,!0),{className:C,d:CD(n,r,i,o,s)})));var N=m.current,S=_.current,T=b.current,I=y.current,k=x.current,O="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),R=d3(["strokeDasharray"],u,l);return g.createElement(Q0,{animationId:A,key:A,canBegin:p>0,duration:u,easing:l,isActive:f,begin:c},F=>{var B=Zt(N,i,F),V=Zt(S,o,F),K=Zt(T,s,F),$=Zt(I,n,F),W=Zt(k,r,F);d.current&&(m.current=B,_.current=V,b.current=K,y.current=$,x.current=W);var Q=F>0?{transition:R,strokeDasharray:D}:{strokeDasharray:O};return g.createElement("path",dy({},Wt(t,!0),{className:C,d:CD($,W,B,V,K),ref:d,style:PD(PD({},Q),t.style)}))})},Rge=["option","shapeType","propTransformer","activeClassName","isActive"];function Nge(e,t){if(e==null)return{};var n,r,i=Dge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){Mge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mge(e,t,n){return(t=jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ge(e,t){return hy(hy({},t),e)}function Fge(e,t){return e==="symbols"}function OD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(g3,n);case"trapezoid":return g.createElement(kge,n);case"sector":return g.createElement(w3,n);case"symbols":if(Fge(t))return g.createElement(i4,n);break;default:return null}}function Vge(e){return g.isValidElement(e)?e.props:e}function Uge(e){var{option:t,shapeType:n,propTransformer:r=$ge,activeClassName:i="recharts-active-shape",isActive:o}=e,s=Nge(e,Rge),a;if(g.isValidElement(t))a=g.cloneElement(t,hy(hy({},s),Vge(t)));else if(typeof t=="function")a=t(s);else if(Tge(t)&&typeof t!="boolean"){var l=r(t,s);a=g.createElement(OD,{shapeType:n,elementProps:l})}else{var u=s;a=g.createElement(OD,{shapeType:n,elementProps:u})}return o?g.createElement(Wi,{className:i},a):a}var l6=(e,t)=>{var n=Tn();return(r,i)=>o=>{e==null||e(r,i,o),n(mz({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},u6=e=>{var t=Tn();return(n,r)=>i=>{e==null||e(n,r,i),t(qhe())}},c6=(e,t)=>{var n=Tn();return(r,i)=>o=>{e==null||e(r,i,o),n(Ghe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function f6(e){var{fn:t,args:n}=e,r=Tn(),i=Or();return g.useEffect(()=>{if(!i){var o=t(n);return r(Whe(o)),()=>{r(Hhe(o))}}},[t,n,r,i]),null}var zge=()=>{};function d6(e){var{legendPayload:t}=e,n=Tn(),r=Or();return g.useEffect(()=>r?zge:(n(zle(t)),()=>{n(Ble(t))}),[n,r,t]),null}var ib,Bge=()=>{var[e]=g.useState(()=>kh("uid-"));return e},Wge=(ib=dS.useId)!==null&&ib!==void 0?ib:Bge;function Hge(e,t){var n=Wge();return t||(e?"".concat(e,"-").concat(n):n)}var Kge=g.createContext(void 0),h6=e=>{var{id:t,type:n,children:r}=e,i=Hge("recharts-".concat(n),t);return g.createElement(Kge.Provider,{value:i},r(i))},qge={cartesianItems:[],polarItems:[]},p6=ri({name:"graphicalItems",initialState:qge,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Gge,replaceCartesianGraphicalItem:Yge,removeCartesianGraphicalItem:Zge,addPolarGraphicalItem:F1e,removePolarGraphicalItem:V1e}=p6.actions,Qge=p6.reducer;function m6(e){var t=Tn(),n=g.useRef(null);return g.useEffect(()=>{n.current===null?t(Gge(e)):n.current!==e&&t(Yge({prev:n.current,next:e})),n.current=e},[t,e]),g.useEffect(()=>()=>{n.current&&(t(Zge(n.current)),n.current=null)},[t]),null}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){Xge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xge(e,t,n){return(t=Jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jge(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tve={xAxis:{},yAxis:{},zAxis:{}},g6=ri({name:"cartesianAxis",initialState:tve,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=RD(RD({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:nve,removeXAxis:rve,addYAxis:ive,removeYAxis:ove,addZAxis:U1e,removeZAxis:z1e,updateYAxisWidth:sve}=g6.actions,ave=g6.reducer,lve=q([Pn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),uve=q([lve,ms,gs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JT=()=>_e(uve),cve=()=>_e(Dpe);function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){fve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fve(e,t,n){return(t=dve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dve(e){var t=hve(e,"string");return typeof t=="symbol"?t:t+""}function hve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pve=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s=DD(DD({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Wt(i,!1)),RA(i)),a;return g.isValidElement(i)?a=g.cloneElement(i,s):typeof i=="function"?a=i(s):a=g.createElement(o6,s),g.createElement(Wi,{className:"recharts-active-dot"},a)};function mve(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,o=_e(su),s=cve();if(t==null||s==null)return null;var a=t.find(l=>s.includes(l.payload));return At(a)?null:pve({point:a,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var gve="Invariant failed";function vve(e,t){throw new Error(gve)}var yve=["x","y"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(null,arguments)}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){wve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wve(e,t,n){return(t=_ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ve(e){var t=bve(e,"string");return typeof t=="symbol"?t:t+""}function bve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xve(e,t){if(e==null)return{};var n,r,i=Eve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sve(e,t){var{x:n,y:r}=e,i=xve(e,yve),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),d=parseInt(f,10);return wd(wd(wd(wd(wd({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function eP(e){return g.createElement(Uge,VE({shapeType:"rectangle",propTransformer:Sve,activeClassName:"recharts-active-bar"},e))}var Ave=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ee(t))return t;var o=Ee(r)||At(r);return o?t(r,i):(o||vve(),n)}},Tve={},v6=ri({name:"errorBars",initialState:Tve,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:B1e,replaceErrorBar:W1e,removeErrorBar:H1e}=v6.actions,Pve=v6.reducer,Cve=["children"];function Ive(e,t){if(e==null)return{};var n,r,i=Ove(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ove(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rve=g.createContext(kve);function y6(e){var{children:t}=e,n=Ive(e,Cve);return g.createElement(Rve.Provider,{value:n},t)}function tP(e,t){var n,r,i=_e(u=>ys(u,e)),o=_e(u=>ws(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Dr.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function w6(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=JT(),{needClipX:o,needClipY:s,needClip:a}=tP(t,n);if(!a)return null;var{x:l,y:u,width:c,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:o?l:l-c/2,y:s?u:u-f/2,width:o?c:c*2,height:s?f:f*2}))}var Nve=["onMouseEnter","onMouseLeave","onClick"],Dve=["value","background","tooltipPosition"],Mve=["id"],jve=["onMouseEnter","onClick","onMouseLeave"];function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(null,arguments)}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){Lve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lve(e,t,n){return(t=$ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ve(e){var t=Fve(e,"string");return typeof t=="symbol"?t:t+""}function Fve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(e,t){if(e==null)return{};var n,r,i=Vve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uve=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:H0(n,t),payload:e}]};function zve(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:a}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:H0(o,t),hide:s,type:e.tooltipType,color:e.fill,unit:a}}}function Bve(e){var t=_e(su),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:a,onClick:l}=o,u=py(o,Nve),c=l6(s,r),f=u6(a),d=c6(l,r);if(!i||n==null)return null;var p=Wt(i,!1);return g.createElement(g.Fragment,null,n.map((v,m)=>{var{value:_,background:b,tooltipPosition:y}=v,x=py(v,Dve);if(!b)return null;var A=c(v,m),C=f(v,m),N=d(v,m),S=sr(sr(sr(sr(sr({option:i,isActive:String(m)===t},x),{},{fill:"#eee"},b),p),NA(u,v,m)),{},{onMouseEnter:A,onMouseLeave:C,onClick:N,dataKey:r,index:m,className:"recharts-bar-background-rectangle"});return g.createElement(eP,Na({key:"background-bar-".concat(S.index)},S))}))}function Wve(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:o.width,height:o.height};return sr(sr({},s),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:s,fill:o.fill})});return g.createElement(n6,{value:t?i:void 0},n)}function Hve(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:s}=e,a=_e(su),l=_e(Cz),u=n&&String(o)===a&&(l==null||s===l),c=u?n:t;return g.createElement(eP,Na({},r,i,{isActive:u,option:c,index:o,dataKey:s}))}function Kve(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return g.createElement(eP,Na({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function qve(e){var{data:t,props:n}=e,r=Ya(n),{id:i}=r,o=py(r,Mve),{shape:s,dataKey:a,activeBar:l}=n,{onMouseEnter:u,onClick:c,onMouseLeave:f}=n,d=py(n,jve),p=l6(u,a),v=u6(f),m=c6(c,a);return t?g.createElement(g.Fragment,null,t.map((_,b)=>g.createElement(Wi,Na({className:"recharts-bar-rectangle"},NA(d,_,b),{onMouseEnter:p(_,b),onMouseLeave:v(_,b),onClick:m(_,b),key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(b)}),l?g.createElement(Hve,{shape:s,activeBar:l,baseProps:o,entry:_,index:b,dataKey:a}):g.createElement(Kve,{shape:s,baseProps:o,entry:_,index:b,dataKey:a})))):null}function Gve(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=n.current,d=X0(t,"recharts-bar-"),[p,v]=g.useState(!1),m=!p,_=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=g.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return g.createElement(Wve,{showLabels:m,rects:r},g.createElement(Q0,{animationId:d,begin:s,duration:a,isActive:o,easing:l,onAnimationEnd:_,onAnimationStart:b,key:d},y=>{var x=y===1?r:r==null?void 0:r.map((A,C)=>{var N=f&&f[C];if(N)return sr(sr({},A),{},{x:Zt(N.x,A.x,y),y:Zt(N.y,A.y,y),width:Zt(N.width,A.width,y),height:Zt(N.height,A.height,y)});if(i==="horizontal"){var S=Zt(0,A.height,y);return sr(sr({},A),{},{y:A.y+A.height-S,height:S})}var T=Zt(0,A.width,y);return sr(sr({},A),{},{width:T})});return y>0&&(n.current=x??null),x==null?null:g.createElement(Wi,null,g.createElement(qve,{props:t,data:x}))}),g.createElement(i6,{label:t.label}),t.children)}function Yve(e){var t=g.useRef(null);return g.createElement(Gve,{previousRectanglesRef:t,props:e})}var _6=0,Zve=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:An(e,t)}};class Qve extends g.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:a,background:l,id:u}=this.props;if(t||n==null)return null;var c=ye("recharts-bar",i),f=u;return g.createElement(Wi,{className:c,id:u},a&&g.createElement("defs",null,g.createElement(w6,{clipPathId:f,xAxisId:o,yAxisId:s})),g.createElement(Wi,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(f,")"):void 0},g.createElement(Bve,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),g.createElement(Yve,this.props)))}}var Xve={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!xu.isSsr,legendType:"rect",minPointSize:_6,xAxisId:0,yAxisId:0};function Jve(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=tP(t,n),d=Z0(),p=Or(),v=yoe(e.children,Bz),m=_e(y=>Pye(y,t,n,p,e.id,v));if(d!=="vertical"&&d!=="horizontal")return null;var _,b=m==null?void 0:m[0];return b==null||b.height==null||b.width==null?_=0:_=d==="vertical"?b.height/2:b.width/2,g.createElement(y6,{xAxisId:t,yAxisId:n,data:m,dataPointFormatter:Zve,errorBarOffset:_},g.createElement(Qve,Na({},e,{layout:d,needClip:f,data:m,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function eye(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:a,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:d,cells:p,parentViewBox:v}=e,m=t==="horizontal"?a:s,_=c?m.scale.domain():null,b=_le({numericAxis:m});return f.map((y,x)=>{var A,C,N,S,T,I;c?A=ple(c[x],_):(A=An(y,n),Array.isArray(A)||(A=[b,A]));var k=Ave(r,_6)(A[1],x);if(t==="horizontal"){var O,[D,R]=[a.scale(A[0]),a.scale(A[1])];C=VR({axis:s,ticks:l,bandSize:o,offset:i.offset,entry:y,index:x}),N=(O=R??D)!==null&&O!==void 0?O:void 0,S=i.size;var F=D-R;if(T=Xr(F)?0:F,I={x:C,y:d.top,width:S,height:d.height},Math.abs(k)>0&&Math.abs(T)<Math.abs(k)){var B=Er(T||k)*(Math.abs(k)-Math.abs(T));N-=B,T+=B}}else{var[V,K]=[s.scale(A[0]),s.scale(A[1])];if(C=V,N=VR({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:y,index:x}),S=K-V,T=i.size,I={x:d.left,y:N,width:d.width,height:T},Math.abs(k)>0&&Math.abs(S)<Math.abs(k)){var $=Er(S||k)*(Math.abs(k)-Math.abs(S));S+=$}}if(C==null||N==null||S==null||T==null)return null;var W=sr(sr({},y),{},{x:C,y:N,width:S,height:T,value:c?A:A[1],payload:y,background:I,tooltipPosition:{x:C+S/2,y:N+T/2},parentViewBox:v},p&&p[x]&&p[x].props);return W}).filter(Boolean)}function tye(e){var t=kr(e,Xve),n=Or();return g.createElement(h6,{id:t.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(d6,{legendPayload:Uve(t)}),g.createElement(f6,{fn:zve,args:t}),g.createElement(m6,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:wle(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(Jve,Na({},t,{id:r}))))}var b6=g.memo(tye);b6.displayName="Bar";function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(r){nye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nye(e,t,n){return(t=rye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rye(e){var t=iye(e,"string");return typeof t=="symbol"?t:t+""}function iye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oye=(e,t)=>t,sye=(e,t,n)=>n,aye=(e,t,n,r)=>r,lye=(e,t,n,r,i)=>i,jp=q([dw,lye],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),uye=q([jp],e=>e==null?void 0:e.maxBarSize),cye=(e,t,n,r,i,o)=>o,$D=(e,t,n)=>{var r=n??e;if(!At(r))return Bi(r,t,0)},fye=q([Qe,dw,oye,sye,aye],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),dye=(e,t,n,r)=>{var i=Qe(e);return i==="horizontal"?NE(e,"yAxis",n,r):NE(e,"xAxis",t,r)},hye=(e,t,n)=>{var r=Qe(e);return r==="horizontal"?QN(e,"xAxis",t):QN(e,"yAxis",n)},pye=(e,t,n)=>{var r={},i=e.filter(fw),o=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),a=Object.entries(s).map(u=>{var[c,f]=u,d=f.map(v=>v.dataKey),p=$D(t,n,f[0].barSize);return{stackId:c,dataKeys:d,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(d=>d!=null),f=$D(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...a,...l]},mye=q([fye,zde,hye],pye),gye=(e,t,n,r,i)=>{var o,s,a=jp(e,t,n,r,i);if(a!=null){var l=Qe(e),u=yU(e),{maxBarSize:c}=a,f=At(c)?u:c,d,p;return l==="horizontal"?(d=Ra(e,"xAxis",t,r),p=ka(e,"xAxis",t,r)):(d=Ra(e,"yAxis",n,r),p=ka(e,"yAxis",n,r)),(o=(s=Dh(d,p,!0))!==null&&s!==void 0?s:f)!==null&&o!==void 0?o:0}},x6=(e,t,n,r)=>{var i=Qe(e),o,s;return i==="horizontal"?(o=Ra(e,"xAxis",t,r),s=ka(e,"xAxis",t,r)):(o=Ra(e,"yAxis",n,r),s=ka(e,"yAxis",n,r)),Dh(o,s)};function vye(e,t,n,r,i){var o=r.length;if(!(o<1)){var s=Bi(e,n,0,!0),a,l=[];if(ei(r[0].barSize)){var u=!1,c=n/o,f=r.reduce((b,y)=>b+(y.barSize||0),0);f+=(o-1)*s,f>=n&&(f-=(o-1)*s,s=0),f>=n&&c>0&&(u=!0,c*=.9,f=o*c);var d=(n-f)/2>>0,p={offset:d-s,size:0};a=r.reduce((b,y)=>{var x,A={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(x=y.barSize)!==null&&x!==void 0?x:0}},C=[...b,A];return p=C[C.length-1].position,C},l)}else{var v=Bi(t,n,0,!0);n-2*v-(o-1)*s<=0&&(s=0);var m=(n-2*v-(o-1)*s)/o;m>1&&(m>>=0);var _=ei(i)?Math.min(m,i):m;a=r.reduce((b,y,x)=>[...b,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:v+(m+s)*x+(m-_)/2,size:_}}],l)}return a}}var yye=(e,t,n,r,i,o,s)=>{var a=At(s)?t:s,l=vye(n,r,i!==o?i:o,e,a);return i!==o&&l!=null&&(l=l.map(u=>qm(qm({},u),{},{position:qm(qm({},u.position),{},{offset:u.position.offset-i/2})}))),l},wye=q([mye,yU,Ude,wU,gye,x6,uye],yye),_ye=(e,t,n,r)=>Ra(e,"xAxis",t,r),bye=(e,t,n,r)=>Ra(e,"yAxis",n,r),xye=(e,t,n,r)=>ka(e,"xAxis",t,r),Eye=(e,t,n,r)=>ka(e,"yAxis",n,r),Sye=q([wye,jp],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Aye=(e,t)=>{var n=NT(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},Tye=q([dye,jp],Aye),Pye=q([Pn,eT,_ye,bye,xye,Eye,Sye,Qe,ow,x6,Tye,jp,cye],(e,t,n,r,i,o,s,a,l,u,c,f,d)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:m}=l;if(!(f==null||s==null||t==null||a!=="horizontal"&&a!=="vertical"||n==null||r==null||i==null||o==null||u==null)){var{data:_}=f,b;if(_!=null&&_.length>0?b=_:b=p==null?void 0:p.slice(v,m+1),b!=null)return eye({layout:a,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:c,displayedData:b,offset:e,cells:d})}}),Cye=e=>{var{chartData:t}=e,n=Tn(),r=Or();return g.useEffect(()=>r?()=>{}:(n(sD(t)),()=>{n(sD(void 0))}),[t,n,r]),null},FD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},E6=ri({name:"brush",initialState:FD,reducers:{setBrushSettings(e,t){return t.payload==null?FD:t.payload}}}),{setBrushSettings:K1e}=E6.actions,Iye=E6.reducer;function Oye(e,t,n){return(t=kye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kye(e){var t=Rye(e,"string");return typeof t=="symbol"?t:t+""}function Rye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nP{static create(t){return new nP(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Oye(nP,"EPS",1e-4);function Nye(e){return(e%180+180)%180}var Dye=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Nye(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Mye={dots:[],areas:[],lines:[]},S6=ri({name:"referenceElements",initialState:Mye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:q1e,removeDot:G1e,addArea:Y1e,removeArea:Z1e,addLine:Q1e,removeLine:X1e}=S6.actions,jye=S6.reducer,Lye=g.createContext(void 0),$ye=e=>{var{children:t}=e,[n]=g.useState("".concat(kh("recharts"),"-clip")),r=JT();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return g.createElement(Lye.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:o,height:a,width:s}))),t)};function of(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function A6(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Fye(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Dye(r,n)}function Vye(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:a}=e;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function my(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Uye(e,t){return A6(e,t+1)}function zye(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=t,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:A6(r,u)};var m=l,_,b=()=>(_===void 0&&(_=n(v,m)),_),y=v.coordinate,x=l===0||my(e,y,b,c,a);x||(l=0,c=s,u+=1),x&&(c=y+e*(b()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function VD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(n),!0).forEach(function(r){Bye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bye(e,t,n){return(t=Wye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wye(e){var t=Hye(e,"string");return typeof t=="symbol"?t:t+""}function Hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kye(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=t,{end:l}=t,u=function(d){var p=o[d],v,m=()=>(v===void 0&&(v=n(p,d)),v);if(d===s-1){var _=e*(p.coordinate+e*m()/2-l);o[d]=p=Bn(Bn({},p),{},{tickCoord:_>0?p.coordinate-_*e:p.coordinate})}else o[d]=p=Bn(Bn({},p),{},{tickCoord:p.coordinate});var b=my(e,p.tickCoord,m,a,l);b&&(l=p.tickCoord-e*(m()/2+i),o[d]=Bn(Bn({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function qye(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=t;if(o){var c=r[a-1],f=n(c,a-1),d=e*(c.coordinate+e*f/2-u);s[a-1]=c=Bn(Bn({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate});var p=my(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[a-1]=Bn(Bn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,m=function(y){var x=s[y],A,C=()=>(A===void 0&&(A=n(x,y)),A);if(y===0){var N=e*(x.coordinate-e*C()/2-l);s[y]=x=Bn(Bn({},x),{},{tickCoord:N<0?x.coordinate-N*e:x.coordinate})}else s[y]=x=Bn(Bn({},x),{},{tickCoord:x.coordinate});var S=my(e,x.tickCoord,C,l,u);S&&(l=x.tickCoord+e*(C()/2+i),s[y]=Bn(Bn({},x),{},{isShow:!0}))},_=0;_<v;_++)m(_);return s}function rP(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(Ee(l)||xu.isSsr){var d;return(d=Uye(i,Ee(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],v=a==="top"||a==="bottom"?"width":"height",m=c&&v==="width"?Xd(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(x,A)=>{var C=typeof u=="function"?u(x.value,A):x.value;return v==="width"?Fye(Xd(C,{fontSize:t,letterSpacing:n}),m,f):Xd(C,{fontSize:t,letterSpacing:n})[v]},b=i.length>=2?Er(i[1].coordinate-i[0].coordinate):1,y=Vye(o,b,v);return l==="equidistantPreserveStart"?zye(b,y,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=qye(b,y,_,i,s,l==="preserveStartEnd"):p=Kye(b,y,_,i,s),p.filter(x=>x.isShow))}var Gye=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){t.forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},Yye=["axisLine","width","height","className","hide","ticks"],Zye=["viewBox"],Qye=["viewBox"];function UE(e,t){if(e==null)return{};var n,r,i=Xye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}function UD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(n),!0).forEach(function(r){Jye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jye(e,t,n){return(t=e0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0e(e){var t=t0e(e,"string");return typeof t=="symbol"?t:t+""}function t0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iP={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function n0e(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a,otherSvgProps:l}=e;if(!a)return null;var u=un(un(un({},l),Wt(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!s||o==="bottom"&&s);u=un(un({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(o==="left"&&!s||o==="right"&&s);u=un(un({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return g.createElement("line",au({},u,{className:ye("recharts-cartesian-axis-line",Zc(a,"className"))}))}function r0e(e,t,n,r,i,o,s,a,l){var u,c,f,d,p,v,m=a?-1:1,_=e.tickSize||s,b=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,d=n+ +!a*i,f=d-m*_,v=f-m*l,p=b;break;case"left":f=d=e.coordinate,c=t+ +!a*r,u=c-m*_,p=u-m*l,v=b;break;case"right":f=d=e.coordinate,c=t+ +a*r,u=c+m*_,p=u+m*l,v=b;break;default:u=c=e.coordinate,d=n+ +a*i,f=d+m*_,v=f+m*l,p=b;break}return{line:{x1:u,y1:f,x2:c,y2:d},tick:{x:p,y:v}}}function i0e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function o0e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function s0e(e){var{option:t,tickProps:n,value:r}=e,i,o=ye(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,un(un({},n),{},{className:o}));else if(typeof t=="function")i=t(un(un({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ye(s,t==null?void 0:t.className)),i=g.createElement(QT,au({},n,{className:s}),r)}return i}function a0e(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:s,padding:a,tickTextProps:l,orientation:u,mirror:c,x:f,y:d,width:p,height:v,tickSize:m,tickMargin:_,fontSize:b,letterSpacing:y,getTicksConfig:x,events:A}=e,C=rP(un(un({},x),{},{ticks:t}),b,y),N=i0e(u,c),S=o0e(u,c),T=Ya(x),I=Wt(n,!1),k=un(un({},T),{},{fill:"none"},Wt(r,!1)),O=C.map((D,R)=>{var{line:F,tick:B}=r0e(D,f,d,p,v,u,m,c,_),V=un(un(un(un({textAnchor:N,verticalAnchor:S},T),{},{stroke:"none",fill:i},I),B),{},{index:R,payload:D,visibleTicksCount:C.length,tickFormatter:o,padding:a},l);return g.createElement(Wi,au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},NA(A,D,R)),r&&g.createElement("line",au({},k,F,{className:ye("recharts-cartesian-axis-tick-line",Zc(r,"className"))})),n&&g.createElement(s0e,{option:n,tickProps:V,value:"".concat(typeof o=="function"?o(D.value,R):D.value).concat(s||"")}))});return O.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var l0e=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:a}=e,l=UE(e,Yye),[u,c]=g.useState(""),[f,d]=g.useState(""),p=g.useRef([]);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var m;return Gye({ticks:p.current,label:(m=e.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(m=>{if(m){var _=m.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(_);var b=_[0];if(b){var y=window.getComputedStyle(b),x=y.fontSize,A=y.letterSpacing;(x!==u||A!==f)&&(c(x),d(A))}}},[u,f]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(Wi,{className:ye("recharts-cartesian-axis",o),ref:v},g.createElement(n0e,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ya(e)}),g.createElement(a0e,{ticks:a,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:l}),g.createElement(ige,{x:e.x,y:e.y,width:e.width,height:e.height},g.createElement(pge,{label:e.label}),e.children))}),u0e=g.memo(l0e,(e,t)=>{var{viewBox:n}=e,r=UE(e,Zye),{viewBox:i}=t,o=UE(t,Qye);return of(n,i)&&of(r,o)}),oP=g.forwardRef((e,t)=>{var n=kr(e,iP);return g.createElement(u0e,au({},n,{ref:t}))});oP.displayName="CartesianAxis";var c0e=["x1","y1","x2","y2","key"],f0e=["offset"],d0e=["xAxisId","yAxisId"],h0e=["xAxisId","yAxisId"];function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){p0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p0e(e,t,n){return(t=m0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m0e(e){var t=g0e(e,"string");return typeof t=="symbol"?t:t+""}function g0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(null,arguments)}function gy(e,t){if(e==null)return{};var n,r,i=v0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var y0e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=e;return g.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function T6(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=t,l=gy(t,c0e),u=Ya(l),{offset:c}=u,f=gy(u,f0e);n=g.createElement("line",Sl({},f,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function w0e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,a=gy(e,d0e),l=i.map((u,c)=>{var f=Gn(Gn({},a),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return T6(r,f)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _0e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,a=gy(e,h0e),l=i.map((u,c)=>{var f=Gn(Gn({},a),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return T6(r,f)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function b0e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=a.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=!u[d+1],v=p?i+s-f:u[d+1]-f;if(v<=0)return null;var m=d%t.length;return g.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:v,width:o,stroke:"none",fill:t[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function x0e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=!u[d+1],v=p?i+s-f:u[d+1]-f;if(v<=0)return null;var m=d%n.length;return g.createElement("rect",{key:"react-".concat(d),x:f,y:o,width:v,height:a,stroke:"none",fill:n[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var E0e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return r3(rP(Gn(Gn(Gn({},iP),n),{},{ticks:i3(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},S0e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return r3(rP(Gn(Gn(Gn({},iP),n),{},{ticks:i3(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},A0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function zE(e){var t=a3(),n=l3(),r=s3(),i=Gn(Gn({},kr(e,A0e)),{},{x:Ee(e.x)?e.x:r.left,y:Ee(e.y)?e.y:r.top,width:Ee(e.width)?e.width:r.width,height:Ee(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:d,verticalValues:p}=i,v=Or(),m=_e(I=>XN(I,"xAxis",o,v)),_=_e(I=>XN(I,"yAxis",s,v));if(!Ee(u)||u<=0||!Ee(c)||c<=0||!Ee(a)||a!==+a||!Ee(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||E0e,y=i.horizontalCoordinatesGenerator||S0e,{horizontalPoints:x,verticalPoints:A}=i;if((!x||!x.length)&&typeof y=="function"){var C=d&&d.length,N=y({yAxis:_?Gn(Gn({},_),{},{ticks:C?d:_.ticks}):void 0,width:t,height:n,offset:r},C?!0:f);Qd(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(x=N)}if((!A||!A.length)&&typeof b=="function"){var S=p&&p.length,T=b({xAxis:m?Gn(Gn({},m),{},{ticks:S?p:m.ticks}):void 0,width:t,height:n,offset:r},S?!0:f);Qd(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(A=T)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(y0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(b0e,Sl({},i,{horizontalPoints:x})),g.createElement(x0e,Sl({},i,{verticalPoints:A})),g.createElement(w0e,Sl({},i,{offset:r,horizontalPoints:x,xAxis:m,yAxis:_})),g.createElement(_0e,Sl({},i,{offset:r,verticalPoints:A,xAxis:m,yAxis:_})))}zE.displayName="CartesianGrid";var P6=(e,t,n,r)=>Ra(e,"xAxis",t,r),C6=(e,t,n,r)=>ka(e,"xAxis",t,r),I6=(e,t,n,r)=>Ra(e,"yAxis",n,r),O6=(e,t,n,r)=>ka(e,"yAxis",n,r),T0e=q([Qe,P6,I6,C6,O6],(e,t,n,r,i)=>Za(e,"xAxis")?Dh(t,r,!1):Dh(n,i,!1)),P0e=(e,t,n,r,i)=>i;function C0e(e){return e.type==="line"}var I0e=q([dw,P0e],(e,t)=>e.filter(C0e).find(n=>n.id===t)),O0e=q([Qe,P6,I6,C6,O6,I0e,T0e,ow],(e,t,n,r,i,o,s,a)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=a;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:f,data:d}=o,p;if(d!=null&&d.length>0?p=d:p=l==null?void 0:l.slice(u,c+1),p!=null)return X0e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:p})}}),k0e=["id"],R0e=["type","layout","connectNulls","needClip"],N0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(r){D0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t,n){return(t=M0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0e(e){var t=j0e(e,"string");return typeof t=="symbol"?t:t+""}function j0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sP(e,t){if(e==null)return{};var n,r,i=L0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(null,arguments)}var $0e=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:H0(n,t),payload:e}]};function F0e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:H0(s,t),hide:a,type:e.tooltipType,color:e.stroke,unit:l}}}var k6=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function V0e(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var U0e=(e,t,n)=>{var r=n.reduce((f,d)=>f+d);if(!r)return k6(t,e);for(var i=Math.floor(e/r),o=e%r,s=t-e,a=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){a=[...n.slice(0,l),o-u];break}var c=a.length%2===0?[0,s]:[s];return[...V0e(n,i),...a,...c].map(f=>"".concat(f,"px")).join(", ")};function z0e(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ye("recharts-line-dot",typeof e!="boolean"?e.className:"");n=g.createElement(o6,lu({},t,{className:r}))}return n}function B0e(e,t){return e==null?!1:t?!0:e.length===1}function W0e(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:s}=r;if(!B0e(n,i))return null;var{id:a}=r,l=sP(r,k0e),u=FV(i),c=Ya(l),f=Wt(i,!0),d=n.map((v,m)=>{var _=$r($r($r({key:"dot-".concat(m),r:3},c),f),{},{index:m,cx:v.x,cy:v.y,dataKey:o,value:v.value,payload:v.payload,points:n});return z0e(i,_)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return g.createElement(Wi,lu({className:"recharts-line-dots",key:"dots"},p),d)}function H0e(e){var{showLabels:t,children:n,points:r}=e,i=g.useMemo(()=>r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:0,height:0};return $r($r({},s),{},{value:o.value,payload:o.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(n6,{value:t?i:null},n)}function WD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:s,layout:a,connectNulls:l,needClip:u}=o,c=sP(o,R0e),f=$r($r({},Wt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:a,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(f3,lu({},f,{pathRef:n})),g.createElement(W0e,{points:r,clipPathId:t,props:o}))}function K0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function q0e(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:a,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,animateNewValues:d,width:p,height:v,onAnimationEnd:m,onAnimationStart:_}=n,b=i.current,y=X0(n,"recharts-line-"),[x,A]=g.useState(!1),C=!x,N=g.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),S=g.useCallback(()=>{typeof _=="function"&&_(),A(!0)},[_]),T=K0e(r.current),I=o.current;return g.createElement(H0e,{points:s,showLabels:C},n.children,g.createElement(Q0,{animationId:y,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:N,onAnimationStart:S,key:y},k=>{var O=Zt(I,T+I,k),D=Math.min(O,T),R;if(l)if(a){var F="".concat(a).split(/[,\s]+/gim).map(K=>parseFloat(K));R=U0e(D,T,F)}else R=k6(T,D);else R=a==null?void 0:String(a);if(b){var B=b.length/s.length,V=k===1?s:s.map((K,$)=>{var W=Math.floor($*B);if(b[W]){var Q=b[W];return $r($r({},K),{},{x:Zt(Q.x,K.x,k),y:Zt(Q.y,K.y,k)})}return d?$r($r({},K),{},{x:Zt(p*2,K.x,k),y:Zt(v/2,K.y,k)}):$r($r({},K),{},{x:K.x,y:K.y})});return i.current=V,g.createElement(WD,{props:n,points:V,clipPathId:t,pathRef:r,strokeDasharray:R})}return k>0&&T>0&&(i.current=s,o.current=D),g.createElement(WD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:R})}),g.createElement(i6,{label:n.label}))}function G0e(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),i=g.useRef(0),o=g.useRef(null);return g.createElement(q0e,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Y0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:An(e.payload,t)});class Z0e extends g.Component{render(){var t,{hide:n,dot:r,points:i,className:o,xAxisId:s,yAxisId:a,top:l,left:u,width:c,height:f,id:d,needClip:p}=this.props;if(n)return null;var v=ye("recharts-line",o),m=d,{r:_=3,strokeWidth:b=2}=(t=Wt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},y=FV(r),x=_*2+b;return g.createElement(g.Fragment,null,g.createElement(Wi,{className:v},p&&g.createElement("defs",null,g.createElement(w6,{clipPathId:m,xAxisId:s,yAxisId:a}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(m)},g.createElement("rect",{x:u-x/2,y:l-x/2,width:c+x,height:f+x}))),g.createElement(y6,{xAxisId:s,yAxisId:a,data:i,dataPointFormatter:Y0e,errorBarOffset:0},g.createElement(G0e,{props:this.props,clipPathId:m}))),g.createElement(mve,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var R6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!xu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Q0e(e){var t=kr(e,R6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,hide:u,isAnimationActive:c,label:f,legendType:d,xAxisId:p,yAxisId:v,id:m}=t,_=sP(t,N0e),{needClip:b}=tP(p,v),y=JT(),x=Z0(),A=Or(),C=_e(k=>O0e(k,p,v,A,m));if(x!=="horizontal"&&x!=="vertical"||C==null||y==null)return null;var{height:N,width:S,x:T,y:I}=y;return g.createElement(Z0e,lu({},_,{id:m,connectNulls:a,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:c,hide:u,label:f,legendType:d,xAxisId:p,yAxisId:v,points:C,layout:x,height:N,width:S,left:T,top:I,needClip:b}))}function X0e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:s,bandSize:a,displayedData:l}=e;return l.map((u,c)=>{var f=An(u,s);if(t==="horizontal"){var d=FR({axis:n,ticks:i,bandSize:a,entry:u,index:c}),p=At(f)?null:r.scale(f);return{x:d,y:p,value:f,payload:u}}var v=At(f)?null:n.scale(f),m=FR({axis:r,ticks:o,bandSize:a,entry:u,index:c});return v==null||m==null?null:{x:v,y:m,value:f,payload:u}}).filter(Boolean)}function J0e(e){var t=kr(e,R6),n=Or();return g.createElement(h6,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(d6,{legendPayload:$0e(t)}),g.createElement(f6,{fn:F0e,args:t}),g.createElement(m6,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Q0e,lu({},t,{id:r}))))}var N6=g.memo(J0e);N6.displayName="Line";var ewe=["dangerouslySetInnerHTML","ticks"],twe=["id"],nwe=["domain"],rwe=["domain"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BE.apply(null,arguments)}function vy(e,t){if(e==null)return{};var n,r,i=iwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function owe(e){var t=Tn();return g.useEffect(()=>(t(nve(e)),()=>{t(rve(e))}),[e,t]),null}var swe=e=>{var{xAxisId:t,className:n}=e,r=_e(eT),i=Or(),o="xAxis",s=_e(_=>Nf(_,o,t,i)),a=_e(_=>uz(_,o,t,i)),l=_e(_=>oz(_,t)),u=_e(_=>Dhe(_,t)),c=_e(_=>CU(_,t));if(l==null||u==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:d}=e,p=vy(e,ewe),{id:v}=c,m=vy(c,twe);return g.createElement(oP,BE({},p,m,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:ye("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},awe={allowDataOverflow:Dr.allowDataOverflow,allowDecimals:Dr.allowDecimals,allowDuplicatedCategory:Dr.allowDuplicatedCategory,height:Dr.height,hide:!1,mirror:Dr.mirror,orientation:Dr.orientation,padding:Dr.padding,reversed:Dr.reversed,scale:Dr.scale,tickCount:Dr.tickCount,type:Dr.type,xAxisId:0},lwe=e=>{var t,n,r,i,o,s=kr(e,awe);return g.createElement(g.Fragment,null,g.createElement(owe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),g.createElement(swe,s))},uwe=(e,t)=>{var{domain:n}=e,r=vy(e,nwe),{domain:i}=t,o=vy(t,rwe);return of(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:of({domain:n},{domain:i}):!1},WE=g.memo(lwe,uwe);WE.displayName="XAxis";var cwe=["dangerouslySetInnerHTML","ticks"],fwe=["id"],dwe=["domain"],hwe=["domain"];function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(null,arguments)}function yy(e,t){if(e==null)return{};var n,r,i=pwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mwe(e){var t=Tn();return g.useEffect(()=>(t(ive(e)),()=>{t(ove(e))}),[e,t]),null}var gwe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=g.useRef(null),s=g.useRef(null),a=_e(eT),l=Or(),u=Tn(),c="yAxis",f=_e(C=>Nf(C,c,t,l)),d=_e(C=>sz(C,t)),p=_e(C=>jhe(C,t)),v=_e(C=>uz(C,c,t,l)),m=_e(C=>IU(C,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!d||XT(i)||g.isValidElement(i)||m==null)){var C=o.current;if(C){var N=C.getCalculatedWidth();Math.round(d.width)!==Math.round(N)&&u(sve({id:t,width:N}))}}},[v,d,u,i,t,r,m]),d==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:_,ticks:b}=e,y=yy(e,cwe),{id:x}=m,A=yy(m,fwe);return g.createElement(oP,HE({},y,A,{ref:o,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:ye("recharts-".concat(c," ").concat(c),n),viewBox:a,ticks:v}))},vwe={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,hide:!1,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tickCount:Mr.tickCount,type:Mr.type,width:Mr.width,yAxisId:0},ywe=e=>{var t,n,r,i,o,s=kr(e,vwe);return g.createElement(g.Fragment,null,g.createElement(mwe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),g.createElement(gwe,s))},wwe=(e,t)=>{var{domain:n}=e,r=yy(e,dwe),{domain:i}=t,o=yy(t,hwe);return of(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:of({domain:n},{domain:i}):!1},KE=g.memo(ywe,wwe);KE.displayName="YAxis";var _we={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=g;function bwe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xwe=typeof Object.is=="function"?Object.is:bwe,Ewe=Lp.useSyncExternalStore,Swe=Lp.useRef,Awe=Lp.useEffect,Twe=Lp.useMemo,Pwe=Lp.useDebugValue;_we.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Swe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Twe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,xwe(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?(c=p,v):(c=p,f=m)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=Ewe(e,o[0],o[1]);return Awe(function(){s.hasValue=!0,s.value=a},[a]),Pwe(a),a};function Cwe(e){e()}function Iwe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Cwe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HD={notify(){},get:()=>[]};function Owe(e,t){let n,r=HD,i=0,o=!1;function s(m){c();const _=r.subscribe(m);let b=!1;return()=>{b||(b=!0,_(),f())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Iwe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HD)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const v={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return v}var kwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rwe=kwe(),Nwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dwe=Nwe(),Mwe=()=>Rwe||Dwe?g.useLayoutEffect:g.useEffect,jwe=Mwe(),ob=Symbol.for("react-redux-context"),sb=typeof globalThis<"u"?globalThis:{};function Lwe(){if(!g.createContext)return{};const e=sb[ob]??(sb[ob]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var $we=Lwe();function Fwe(e){const{children:t,context:n,serverState:r,store:i}=e,o=g.useMemo(()=>{const l=Owe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);jwe(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||$we;return g.createElement(a.Provider,{value:o},t)}var Vwe=Fwe,Uwe=(e,t)=>t,aP=q([Uwe,Qe,AU,pn,Sz,_s,Upe,Pn],Kpe),lP=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},D6=vi("mouseClick"),M6=Sp();M6.startListening({actionCreator:D6,effect:(e,t)=>{var n=e.payload,r=aP(t.getState(),lP(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Yhe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var qE=vi("mouseMove"),j6=Sp();j6.startListening({actionCreator:qE,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zT(r,r.tooltip.settings.shared),o=aP(r,lP(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(vz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(gz()))}});var KD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L6=ri({name:"rootProps",initialState:KD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:KD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zwe=L6.reducer,{updateOptions:Bwe}=L6.actions,$6=ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:J1e}=$6.actions,Wwe=$6.reducer,F6=vi("keyDown"),V6=vi("focus"),uP=Sp();uP.startListening({actionCreator:F6,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(BT(i,Mf(n))),a=_s(n);if(o==="Enter"){var l=cy(n,"axis","hover",String(i.index));t.dispatch(ME({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=Vhe(n),c=u==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,d=s+f*c;if(!(a==null||d>=a.length||d<0)){var p=cy(n,"axis","hover",String(d));t.dispatch(ME({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});uP.startListening({actionCreator:V6,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=cy(n,"axis","hover",String(o));t.dispatch(ME({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var si=vi("externalEvent"),U6=Sp();U6.startListening({actionCreator:si,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:kpe(n),activeDataKey:Cz(n),activeIndex:su(n),activeLabel:Pz(n),activeTooltipIndex:su(n),isTooltipActive:Rpe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Hwe=q([Df],e=>e.tooltipItemPayloads),Kwe=q([Hwe,Dp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=t(o,n);return s}}}),z6=vi("touchMove"),B6=Sp();B6.startListening({actionCreator:z6,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zT(r,r.tooltip.settings.shared);if(i==="axis"){var o=aP(r,lP({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(vz({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(Cle),c=(s=l.getAttribute(Ile))!==null&&s!==void 0?s:void 0,f=Kwe(t.getState(),u,c);t.dispatch(mz({activeDataKey:c,activeIndex:u,activeCoordinate:f}))}}});var qwe=N4({brush:Iye,cartesianAxis:ave,chartData:ame,errorBars:Pve,graphicalItems:Qge,layout:Qae,legend:Wle,options:nme,polarAxis:Sge,polarOptions:Wwe,referenceElements:jye,rootProps:zwe,tooltip:Zhe}),Gwe=function(t){return xae({reducer:qwe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([M6.middleware,j6.middleware,uP.middleware,U6.middleware,B6.middleware]),devTools:xu.devToolsEnabled})};function Ywe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Or(),o=g.useRef(null);if(i)return n;o.current==null&&(o.current=Gwe(t));var s=KA;return g.createElement(Vwe,{context:s,store:o.current},n)}function Zwe(e){var{layout:t,width:n,height:r,margin:i}=e,o=Tn(),s=Or();return g.useEffect(()=>{s||(o(Gae(t)),o(Yae({width:n,height:r})),o(qae(i)))},[o,s,t,n,r,i]),null}function Qwe(e){var t=Tn();return g.useEffect(()=>{t(Bwe(e))},[t,e]),null}var Xwe=["children"];function Jwe(e,t){if(e==null)return{};var n,r,i=e_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}var t_e={width:"100%",height:"100%"},n_e=g.forwardRef((e,t)=>{var n=a3(),r=l3(),i=c3();if(!Gv(n)||!Gv(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=e,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,g.createElement(VV,wy({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:t_e,ref:t}),o)}),r_e=e=>{var{children:t}=e,n=_e(Y0);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return g.createElement(VV,{width:r,height:i,x:s,y:o},t)},qD=g.forwardRef((e,t)=>{var{children:n}=e,r=Jwe(e,Xwe),i=Or();return i?g.createElement(r_e,null,n):g.createElement(n_e,wy({ref:t},r),n)});function i_e(){var e=Tn(),[t,n]=g.useState(null),r=_e(Ple);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;ei(o)&&o!==r&&e(Zae(o))}},[t,e,r]),n}function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){s_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s_e(e,t,n){return(t=a_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_e(e){var t=l_e(e,"string");return typeof t=="symbol"?t:t+""}function l_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_e=g.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:d,onTouchEnd:p,onTouchMove:v,onTouchStart:m,style:_,width:b}=e,y=Tn(),[x,A]=g.useState(null),[C,N]=g.useState(null);gme();var S=i_e(),T=g.useCallback(ne=>{S(ne),typeof t=="function"&&t(ne),A(ne),N(ne)},[S,t,A,N]),I=g.useCallback(ne=>{y(D6(ne)),y(si({handler:o,reactEvent:ne}))},[y,o]),k=g.useCallback(ne=>{y(qE(ne)),y(si({handler:u,reactEvent:ne}))},[y,u]),O=g.useCallback(ne=>{y(gz()),y(si({handler:c,reactEvent:ne}))},[y,c]),D=g.useCallback(ne=>{y(qE(ne)),y(si({handler:f,reactEvent:ne}))},[y,f]),R=g.useCallback(()=>{y(V6())},[y]),F=g.useCallback(ne=>{y(F6(ne.key))},[y]),B=g.useCallback(ne=>{y(si({handler:s,reactEvent:ne}))},[y,s]),V=g.useCallback(ne=>{y(si({handler:a,reactEvent:ne}))},[y,a]),K=g.useCallback(ne=>{y(si({handler:l,reactEvent:ne}))},[y,l]),$=g.useCallback(ne=>{y(si({handler:d,reactEvent:ne}))},[y,d]),W=g.useCallback(ne=>{y(si({handler:m,reactEvent:ne}))},[y,m]),Q=g.useCallback(ne=>{y(z6(ne)),y(si({handler:v,reactEvent:ne}))},[y,v]),fe=g.useCallback(ne=>{y(si({handler:p,reactEvent:ne}))},[y,p]);return g.createElement(Dz.Provider,{value:x},g.createElement(Toe.Provider,{value:C},g.createElement("div",{className:ye("recharts-wrapper",r),style:o_e({position:"relative",cursor:"default",width:b,height:i},_),onClick:I,onContextMenu:B,onDoubleClick:V,onFocus:R,onKeyDown:F,onMouseDown:K,onMouseEnter:k,onMouseLeave:O,onMouseMove:D,onMouseUp:$,onTouchEnd:fe,onTouchMove:Q,onTouchStart:W,ref:T},n)))}),c_e=["children","className","width","height","style","compact","title","desc"];function f_e(e,t){if(e==null)return{};var n,r,i=d_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var h_e=g.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=e,c=f_e(e,c_e),f=Ya(c);return a?g.createElement(qD,{otherAttributes:f,title:l,desc:u},n):g.createElement(u_e,{className:r,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(qD,{otherAttributes:f,title:l,desc:u,ref:t},g.createElement($ye,null,n)))}),p_e=["width","height"];function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(null,arguments)}function m_e(e,t){if(e==null)return{};var n,r,i=g_e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v_e={top:5,right:5,bottom:5,left:5},y_e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:v_e,reverseStackOrder:!1,syncMethod:"index"},W6=g.forwardRef(function(t,n){var r,i=kr(t.categoricalChartProps,y_e),{width:o,height:s}=i,a=m_e(i,p_e);if(!Gv(o)||!Gv(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(Ywe,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:l},g.createElement(Cye,{chartData:d.data}),g.createElement(Zwe,{width:o,height:s,layout:i.layout,margin:i.margin}),g.createElement(Qwe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(h_e,GE({},a,{width:o,height:s,ref:n})))}),w_e=["axis"],__e=g.forwardRef((e,t)=>g.createElement(W6,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w_e,tooltipPayloadSearcher:jz,categoricalChartProps:e,ref:t})),b_e=["axis","item"],x_e=g.forwardRef((e,t)=>g.createElement(W6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:b_e,tooltipPayloadSearcher:jz,categoricalChartProps:e,ref:t}));function E_e(){const{data:e,isLoading:t,isError:n}=soe();return t?w.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((r,i)=>w.jsxs(bn,{className:"animate-pulse",children:[w.jsx(Hn,{children:w.jsx("div",{className:"h-4 w-24 rounded bg-slate-200"})}),w.jsx(xn,{children:w.jsx("div",{className:"h-8 w-32 rounded bg-slate-200"})})]},i))}):n||!e?w.jsx(jl,{variant:"destructive",title:"No fue posible cargar el tablero",description:"Reintenta en unos segundos."}):w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Pedidos activos"})}),w.jsxs(xn,{children:[w.jsx("p",{className:"text-3xl font-semibold text-primary",children:e.pedidosActivos}),w.jsx("p",{className:"text-xs text-slate-500",children:"Pedidos en producción o pendientes de cierre."})]})]}),w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Cartera vencida"})}),w.jsxs(xn,{children:[w.jsx("p",{className:"text-3xl font-semibold text-red-600",children:tt(e.carteraVencida)}),w.jsx("p",{className:"text-xs text-slate-500",children:"Saldo de pedidos con fecha compromiso vencida."})]})]}),w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Flujo caja últimos 7 días"})}),w.jsxs(xn,{children:[w.jsx("p",{className:"text-3xl font-semibold text-emerald-600",children:tt(e.flujoCaja.reduce((r,i)=>r+i.monto,0))}),w.jsx("p",{className:"text-xs text-slate-500",children:"Ingresos - egresos de la última semana."})]})]}),w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Entregas próximos 3 días"})}),w.jsxs(xn,{children:[w.jsx("p",{className:"text-3xl font-semibold text-amber-600",children:e.entregasProximas}),w.jsx("p",{className:"text-xs text-slate-500",children:"Pedidos con fecha compromiso cercana."})]})]})]}),w.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[w.jsxs(bn,{className:"h-full",children:[w.jsx(Hn,{children:w.jsx(or,{children:"Pedidos por estado"})}),w.jsx(xn,{className:"h-80",children:e.pedidosPorEstado.length?w.jsx(hD,{width:"100%",height:"100%",children:w.jsxs(x_e,{data:e.pedidosPorEstado,children:[w.jsx(zE,{strokeDasharray:"3 3"}),w.jsx(WE,{dataKey:"estado",tick:{fontSize:12}}),w.jsx(KE,{allowDecimals:!1}),w.jsx(fD,{}),w.jsx(b6,{dataKey:"total",fill:"#2563EB",radius:[8,8,0,0]})]})}):w.jsx(nu,{title:"Sin pedidos",description:"Crea pedidos para visualizar su distribución por estado."})})]}),w.jsxs(bn,{className:"h-full",children:[w.jsx(Hn,{children:w.jsx(or,{children:"Flujo de caja 7 días"})}),w.jsx(xn,{className:"h-80",children:e.flujoCaja.length?w.jsx(hD,{width:"100%",height:"100%",children:w.jsxs(__e,{data:e.flujoCaja.map(r=>({...r,fechaLabel:Yc(r.fecha)})),children:[w.jsx(zE,{strokeDasharray:"3 3"}),w.jsx(WE,{dataKey:"fechaLabel",tick:{fontSize:12}}),w.jsx(KE,{}),w.jsx(fD,{formatter:r=>tt(r)}),w.jsx(N6,{type:"monotone",dataKey:"monto",stroke:"#0EA5E9",strokeWidth:2,dot:{r:3}})]})}):w.jsx(nu,{title:"Sin movimientos registrados",description:"Registra ingresos o egresos en Caja para visualizar el flujo."})})]})]})]})}const S_e=AV("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80",secondary:"border-transparent bg-slate-100 text-slate-900",success:"border-transparent bg-emerald-100 text-emerald-700",warning:"border-transparent bg-amber-100 text-amber-800",destructive:"border-transparent bg-red-100 text-red-700",outline:"text-slate-900"}},defaultVariants:{variant:"default"}});function sf({className:e,variant:t,...n}){return w.jsx("div",{className:ye(S_e({variant:t}),e),...n})}function yw({className:e,...t}){return w.jsx("table",{className:ye("w-full caption-bottom text-sm",e),...t})}function ww({className:e,...t}){return w.jsx("thead",{className:ye("[&_tr]:border-b",e),...t})}function _w({className:e,...t}){return w.jsx("tbody",{className:ye("[&_tr:last-child]:border-0",e),...t})}function Yn({className:e,...t}){return w.jsx("tr",{className:ye("border-b transition-colors hover:bg-slate-50 data-[state=selected]:bg-slate-100",e),...t})}function yt({className:e,...t}){return w.jsx("th",{className:ye("h-10 px-2 text-left align-middle text-xs font-medium text-slate-500",e),...t})}function Ke({className:e,...t}){return w.jsx("td",{className:ye("p-2 align-middle text-sm text-slate-700",e),...t})}const A_e=/^\d{10}$/,T_e=/^([A-ZÑ&]{3,4})(\d{2})(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])[A-Z\d]{3}$/,P_e=Ba({nombre_legal:at().min(3,"Ingresa el nombre fiscal"),alias:at().min(2,"Ingresa un alias"),rfc:at().toUpperCase().regex(T_e,"RFC inválido"),email:at().email("Correo inválido"),telefono:at().regex(A_e,"Teléfono a 10 dígitos"),direccion:at().min(5,"Dirección requerida"),ciudad:at().min(2,"Ciudad requerida"),cp:at().min(5,"Código postal requerido"),limite_credito:zt().min(0).multipleOf(.01),dias_credito:zt().int().min(0),estatus:Zl(["ACTIVO","PAUSADO"])}),C_e=Ba({descripcion_item:at().min(3),prenda:at().min(1),talla:at().min(1),color_prenda:at().min(1),ubicacion:at().min(1),puntadas_estimadas:zt().min(0),cantidad:zt().min(1),precio_unitario:zt().min(0).multipleOf(.01),observaciones:at().optional().default("")});Ba({anticipo:zt().min(0).multipleOf(.01),subtotal:zt().min(0).multipleOf(.01),descuento:zt().min(0).multipleOf(.01),impuestos:zt().min(0).multipleOf(.01),total:zt().min(0).multipleOf(.01),saldo:zt().min(0).multipleOf(.01)});Ba({folio:at().min(3),cliente_id:at(),fecha_pedido:hv(),fecha_compromiso:hv(),status:Zl(["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA","ENTREGADO","CERRADO","CANCELADO"]),prioridad:Zl(["BAJA","MEDIA","ALTA"]),notas:at().optional().default(""),anticipo:zt().min(0).multipleOf(.01),subtotal:zt().min(0).multipleOf(.01),descuento:zt().min(0).multipleOf(.01),impuestos:zt().min(0).multipleOf(.01),total:zt().min(0).multipleOf(.01),saldo:zt().min(0).multipleOf(.01),items:I1(C_e).min(1)});Ba({pedido_id:at(),cliente_id:at(),fecha:hv(),monto:zt().min(0).multipleOf(.01),metodo:Zl(["EFECTIVO","TRANSFERENCIA","TARJETA"]),ref:at().optional().default(""),notas:at().optional().default("")});Ba({fecha:hv(),tipo:Zl(["INGRESO","EGRESO"]),categoria:at().min(2),monto:zt().min(0).multipleOf(.01),referencia_pedido_id:at().optional(),notas:at().optional().default("")});const I_e=Ba({porcentaje_anticipo:zt().min(0).max(100),dias_credito:zt().min(0),politicas_credito:at().optional().default(""),roles_visibles:I1(Zl(["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"])).min(1)});function YD(e,[t,n]){return Math.min(n,Math.max(t,e))}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function O_e(e,t){const n=g.createContext(t),r=o=>{const{children:s,...a}=o,l=g.useMemo(()=>a,Object.values(a));return w.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function i(o){const s=g.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function jf(e,t=[]){let n=[];function r(o,s){const a=g.createContext(s),l=n.length;n=[...n,s];const u=f=>{var b;const{scope:d,children:p,...v}=f,m=((b=d==null?void 0:d[e])==null?void 0:b[l])||a,_=g.useMemo(()=>v,Object.values(v));return w.jsx(m.Provider,{value:_,children:p})};u.displayName=o+"Provider";function c(f,d){var m;const p=((m=d==null?void 0:d[e])==null?void 0:m[l])||a,v=g.useContext(p);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(s=>g.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,k_e(i,...t)]}function k_e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function H6(e){const t=e+"CollectionProvider",[n,r]=jf(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:_,children:b}=m,y=ft.useRef(null),x=ft.useRef(new Map).current;return w.jsx(i,{scope:_,itemMap:x,collectionRef:y,children:b})};s.displayName=t;const a=e+"CollectionSlot",l=qc(a),u=ft.forwardRef((m,_)=>{const{scope:b,children:y}=m,x=o(a,b),A=$t(_,x.collectionRef);return w.jsx(l,{ref:A,children:y})});u.displayName=a;const c=e+"CollectionItemSlot",f="data-radix-collection-item",d=qc(c),p=ft.forwardRef((m,_)=>{const{scope:b,children:y,...x}=m,A=ft.useRef(null),C=$t(_,A),N=o(c,b);return ft.useEffect(()=>(N.itemMap.set(A,{ref:A,...x}),()=>void N.itemMap.delete(A))),w.jsx(d,{[f]:"",ref:C,children:y})});p.displayName=c;function v(m){const _=o(e+"CollectionConsumer",m);return ft.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((N,S)=>x.indexOf(N.ref.current)-x.indexOf(S.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},v,r]}var R_e=g.createContext(void 0);function cP(e){const t=g.useContext(R_e);return e||t||"ltr"}function Da(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function N_e(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var D_e="DismissableLayer",YE="dismissableLayer.update",M_e="dismissableLayer.pointerDownOutside",j_e="dismissableLayer.focusOutside",ZD,K6=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fP=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=g.useContext(K6),[c,f]=g.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),v=$t(t,S=>f(S)),m=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(_),y=c?m.indexOf(c):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,C=F_e(S=>{const T=S.target,I=[...u.branches].some(k=>k.contains(T));!A||I||(i==null||i(S),s==null||s(S),S.defaultPrevented||a==null||a())},d),N=V_e(S=>{const T=S.target;[...u.branches].some(k=>k.contains(T))||(o==null||o(S),s==null||s(S),S.defaultPrevented||a==null||a())},d);return N_e(S=>{y===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},d),g.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ZD=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),QD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=ZD)}},[c,d,n,u]),g.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),QD())},[c,u]),g.useEffect(()=>{const S=()=>p({});return document.addEventListener(YE,S),()=>document.removeEventListener(YE,S)},[]),w.jsx(Ge.div,{...l,ref:v,style:{pointerEvents:x?A?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,N.onFocusCapture),onBlurCapture:We(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,C.onPointerDownCapture)})});fP.displayName=D_e;var L_e="DismissableLayerBranch",$_e=g.forwardRef((e,t)=>{const n=g.useContext(K6),r=g.useRef(null),i=$t(t,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),w.jsx(Ge.div,{...e,ref:i})});$_e.displayName=L_e;function F_e(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){q6(M_e,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function V_e(e,t=globalThis==null?void 0:globalThis.document){const n=Da(e),r=g.useRef(!1);return g.useEffect(()=>{const i=o=>{o.target&&!r.current&&q6(j_e,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QD(){const e=new CustomEvent(YE);document.dispatchEvent(e)}function q6(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Jre(i,o):i.dispatchEvent(o)}var ab=0;function G6(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XD()),document.body.insertAdjacentElement("beforeend",e[1]??XD()),ab++,()=>{ab===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ab--}},[])}function XD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lb="focusScope.autoFocusOnMount",ub="focusScope.autoFocusOnUnmount",JD={bubbles:!1,cancelable:!0},U_e="FocusScope",dP=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=g.useState(null),u=Da(i),c=Da(o),f=g.useRef(null),d=$t(t,m=>l(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let m=function(x){if(p.paused||!a)return;const A=x.target;a.contains(A)?f.current=A:ks(f.current,{select:!0})},_=function(x){if(p.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||ks(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&ks(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const y=new MutationObserver(b);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,p.paused]),g.useEffect(()=>{if(a){tM.add(p);const m=document.activeElement;if(!a.contains(m)){const b=new CustomEvent(lb,JD);a.addEventListener(lb,u),a.dispatchEvent(b),b.defaultPrevented||(z_e(q_e(Y6(a)),{select:!0}),document.activeElement===m&&ks(a))}return()=>{a.removeEventListener(lb,u),setTimeout(()=>{const b=new CustomEvent(ub,JD);a.addEventListener(ub,c),a.dispatchEvent(b),b.defaultPrevented||ks(m??document.body,{select:!0}),a.removeEventListener(ub,c),tM.remove(p)},0)}}},[a,u,c,p]);const v=g.useCallback(m=>{if(!n&&!r||p.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(_&&b){const y=m.currentTarget,[x,A]=B_e(y);x&&A?!m.shiftKey&&b===A?(m.preventDefault(),n&&ks(x,{select:!0})):m.shiftKey&&b===x&&(m.preventDefault(),n&&ks(A,{select:!0})):b===y&&m.preventDefault()}},[n,r,p.paused]);return w.jsx(Ge.div,{tabIndex:-1,...s,ref:d,onKeyDown:v})});dP.displayName=U_e;function z_e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ks(r,{select:t}),document.activeElement!==n)return}function B_e(e){const t=Y6(e),n=eM(t,e),r=eM(t.reverse(),e);return[n,r]}function Y6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eM(e,t){for(const n of e)if(!W_e(n,{upTo:t}))return n}function W_e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function H_e(e){return e instanceof HTMLInputElement&&"select"in e}function ks(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&H_e(e)&&t&&e.select()}}var tM=K_e();function K_e(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nM(e,t),e.unshift(t)},remove(t){var n;e=nM(e,t),(n=e[0])==null||n.resume()}}}function nM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function q_e(e){return e.filter(t=>t.tagName!=="A")}var Xn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},G_e=dS[" useId ".trim().toString()]||(()=>{}),Y_e=0;function xa(e){const[t,n]=g.useState(G_e());return Xn(()=>{n(r=>r??String(Y_e++))},[e]),t?`radix-${t}`:""}const Z_e=["top","right","bottom","left"],Ma=Math.min,Fr=Math.max,_y=Math.round,Gm=Math.floor,bo=e=>({x:e,y:e}),Q_e={left:"right",right:"left",bottom:"top",top:"bottom"},X_e={start:"end",end:"start"};function ZE(e,t,n){return Fr(e,Ma(t,n))}function us(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function Lf(e){return e.split("-")[1]}function hP(e){return e==="x"?"y":"x"}function pP(e){return e==="y"?"height":"width"}const J_e=new Set(["top","bottom"]);function co(e){return J_e.has(cs(e))?"y":"x"}function mP(e){return hP(co(e))}function ebe(e,t,n){n===void 0&&(n=!1);const r=Lf(e),i=mP(e),o=pP(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=by(s)),[s,by(s)]}function tbe(e){const t=by(e);return[QE(e),t,QE(t)]}function QE(e){return e.replace(/start|end/g,t=>X_e[t])}const rM=["left","right"],iM=["right","left"],nbe=["top","bottom"],rbe=["bottom","top"];function ibe(e,t,n){switch(e){case"top":case"bottom":return n?t?iM:rM:t?rM:iM;case"left":case"right":return t?nbe:rbe;default:return[]}}function obe(e,t,n,r){const i=Lf(e);let o=ibe(cs(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(QE)))),o}function by(e){return e.replace(/left|right|bottom|top/g,t=>Q_e[t])}function sbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function Z6(e){return typeof e!="number"?sbe(e):{top:e,right:e,bottom:e,left:e}}function xy(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function oM(e,t,n){let{reference:r,floating:i}=e;const o=co(t),s=mP(t),a=pP(s),l=cs(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Lf(t)){case"start":p[s]-=d*(n&&u?-1:1);break;case"end":p[s]+=d*(n&&u?-1:1);break}return p}const abe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=oM(u,r,l),d=r,p={},v=0;for(let m=0;m<a.length;m++){const{name:_,fn:b}=a[m],{x:y,y:x,data:A,reset:C}=await b({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});c=y??c,f=x??f,p={...p,[_]:{...p[_],...A}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(u=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:f}=oM(u,d,l)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function zh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=us(t,e),v=Z6(p),_=a[d?f==="floating"?"reference":"floating":f],b=xy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},C=xy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(b.top-C.top+v.top)/A.y,bottom:(C.bottom-b.bottom+v.bottom)/A.y,left:(b.left-C.left+v.left)/A.x,right:(C.right-b.right+v.right)/A.x}}const lbe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=us(e,t)||{};if(u==null)return{};const f=Z6(c),d={x:n,y:r},p=mP(i),v=pP(p),m=await s.getDimensions(u),_=p==="y",b=_?"top":"left",y=_?"bottom":"right",x=_?"clientHeight":"clientWidth",A=o.reference[v]+o.reference[p]-d[p]-o.floating[v],C=d[p]-o.reference[p],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let S=N?N[x]:0;(!S||!await(s.isElement==null?void 0:s.isElement(N)))&&(S=a.floating[x]||o.floating[v]);const T=A/2-C/2,I=S/2-m[v]/2-1,k=Ma(f[b],I),O=Ma(f[y],I),D=k,R=S-m[v]-O,F=S/2-m[v]/2+T,B=ZE(D,F,R),V=!l.arrow&&Lf(i)!=null&&F!==B&&o.reference[v]/2-(F<D?k:O)-m[v]/2<0,K=V?F<D?F-D:F-R:0;return{[p]:d[p]+K,data:{[p]:B,centerOffset:F-B-K,...V&&{alignmentOffset:K}},reset:V}}}),ube=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,..._}=us(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=cs(i),y=co(a),x=cs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=d||(x||!m?[by(a)]:tbe(a)),N=v!=="none";!d&&N&&C.push(...obe(a,m,v,A));const S=[a,...C],T=await zh(t,_),I=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&I.push(T[b]),f){const F=ebe(i,s,A);I.push(T[F[0]],T[F[1]])}if(k=[...k,{placement:i,overflows:I}],!I.every(F=>F<=0)){var O,D;const F=(((O=o.flip)==null?void 0:O.index)||0)+1,B=S[F];if(B&&(!(f==="alignment"?y!==co(B):!1)||k.every($=>co($.placement)===y?$.overflows[0]>0:!0)))return{data:{index:F,overflows:k},reset:{placement:B}};let V=(D=k.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(p){case"bestFit":{var R;const K=(R=k.filter($=>{if(N){const W=co($.placement);return W===y||W==="y"}return!0}).map($=>[$.placement,$.overflows.filter(W=>W>0).reduce((W,Q)=>W+Q,0)]).sort(($,W)=>$[1]-W[1])[0])==null?void 0:R[0];K&&(V=K);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function sM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aM(e){return Z_e.some(t=>e[t]>=0)}const cbe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=us(e,t);switch(r){case"referenceHidden":{const o=await zh(t,{...i,elementContext:"reference"}),s=sM(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:aM(s)}}}case"escaped":{const o=await zh(t,{...i,altBoundary:!0}),s=sM(o,n.floating);return{data:{escapedOffsets:s,escaped:aM(s)}}}default:return{}}}}},Q6=new Set(["left","top"]);async function fbe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=cs(n),a=Lf(n),l=co(n)==="y",u=Q6.has(s)?-1:1,c=o&&l?-1:1,f=us(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*c,y:d*u}:{x:d*u,y:p*c}}const dbe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await fbe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},hbe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:b,y}=_;return{x:b,y}}},...l}=us(e,t),u={x:n,y:r},c=await zh(t,l),f=co(cs(i)),d=hP(f);let p=u[d],v=u[f];if(o){const _=d==="y"?"top":"left",b=d==="y"?"bottom":"right",y=p+c[_],x=p-c[b];p=ZE(y,p,x)}if(s){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+c[_],x=v-c[b];v=ZE(y,v,x)}const m=a.fn({...t,[d]:p,[f]:v});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:o,[f]:s}}}}}},pbe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=us(e,t),c={x:n,y:r},f=co(i),d=hP(f);let p=c[d],v=c[f];const m=us(a,t),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const x=d==="y"?"height":"width",A=o.reference[d]-o.floating[x]+_.mainAxis,C=o.reference[d]+o.reference[x]-_.mainAxis;p<A?p=A:p>C&&(p=C)}if(u){var b,y;const x=d==="y"?"width":"height",A=Q6.has(cs(i)),C=o.reference[f]-o.floating[x]+(A&&((b=s.offset)==null?void 0:b[f])||0)+(A?0:_.crossAxis),N=o.reference[f]+o.reference[x]+(A?0:((y=s.offset)==null?void 0:y[f])||0)-(A?_.crossAxis:0);v<C?v=C:v>N&&(v=N)}return{[d]:p,[f]:v}}}},mbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=us(e,t),c=await zh(t,u),f=cs(i),d=Lf(i),p=co(i)==="y",{width:v,height:m}=o.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=d===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,_=d==="end"?"top":"bottom");const y=m-c.top-c.bottom,x=v-c.left-c.right,A=Ma(m-c[_],y),C=Ma(v-c[b],x),N=!t.middlewareData.shift;let S=A,T=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),N&&!d){const k=Fr(c.left,0),O=Fr(c.right,0),D=Fr(c.top,0),R=Fr(c.bottom,0);p?T=v-2*(k!==0||O!==0?k+O:Fr(c.left,c.right)):S=m-2*(D!==0||R!==0?D+R:Fr(c.top,c.bottom))}await l({...t,availableWidth:T,availableHeight:S});const I=await s.getDimensions(a.floating);return v!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function bw(){return typeof window<"u"}function $f(e){return X6(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Po(e){var t;return(t=(X6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function X6(e){return bw()?e instanceof Node||e instanceof Yr(e).Node:!1}function Hi(e){return bw()?e instanceof Element||e instanceof Yr(e).Element:!1}function Ao(e){return bw()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function lM(e){return!bw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}const gbe=new Set(["inline","contents"]);function $p(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!gbe.has(i)}const vbe=new Set(["table","td","th"]);function ybe(e){return vbe.has($f(e))}const wbe=[":popover-open",":modal"];function xw(e){return wbe.some(t=>{try{return e.matches(t)}catch{return!1}})}const _be=["transform","translate","scale","rotate","perspective"],bbe=["transform","translate","scale","rotate","perspective","filter"],xbe=["paint","layout","strict","content"];function gP(e){const t=vP(),n=Hi(e)?Ki(e):e;return _be.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bbe.some(r=>(n.willChange||"").includes(r))||xbe.some(r=>(n.contain||"").includes(r))}function Ebe(e){let t=ja(e);for(;Ao(t)&&!af(t);){if(gP(t))return t;if(xw(t))return null;t=ja(t)}return null}function vP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Sbe=new Set(["html","body","#document"]);function af(e){return Sbe.has($f(e))}function Ki(e){return Yr(e).getComputedStyle(e)}function Ew(e){return Hi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ja(e){if($f(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lM(e)&&e.host||Po(e);return lM(t)?t.host:t}function J6(e){const t=ja(e);return af(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ao(t)&&$p(t)?t:J6(t)}function Bh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=J6(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Yr(i);if(o){const a=XE(s);return t.concat(s,s.visualViewport||[],$p(i)?i:[],a&&n?Bh(a):[])}return t.concat(i,Bh(i,[],n))}function XE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function eB(e){const t=Ki(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ao(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=_y(n)!==o||_y(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function yP(e){return Hi(e)?e:e.contextElement}function yc(e){const t=yP(e);if(!Ao(t))return bo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=eB(t);let s=(o?_y(n.width):n.width)/r,a=(o?_y(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Abe=bo(0);function tB(e){const t=Yr(e);return!vP()||!t.visualViewport?Abe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tbe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yr(e)?!1:t}function uu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=yP(e);let s=bo(1);t&&(r?Hi(r)&&(s=yc(r)):s=yc(e));const a=Tbe(o,n,r)?tB(o):bo(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const d=Yr(o),p=r&&Hi(r)?Yr(r):r;let v=d,m=XE(v);for(;m&&r&&p!==v;){const _=yc(m),b=m.getBoundingClientRect(),y=Ki(m),x=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*_.x,A=b.top+(m.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,f*=_.y,l+=x,u+=A,v=Yr(m),m=XE(v)}}return xy({width:c,height:f,x:l,y:u})}function Sw(e,t){const n=Ew(e).scrollLeft;return t?t.left+n:uu(Po(e)).left+n}function nB(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Sw(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Pbe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Po(r),a=t?xw(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=bo(1);const c=bo(0),f=Ao(r);if((f||!f&&!o)&&(($f(r)!=="body"||$p(s))&&(l=Ew(r)),Ao(r))){const p=uu(r);u=yc(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const d=s&&!f&&!o?nB(s,l):bo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Cbe(e){return Array.from(e.getClientRects())}function Ibe(e){const t=Po(e),n=Ew(e),r=e.ownerDocument.body,i=Fr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Fr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Sw(e);const a=-n.scrollTop;return Ki(r).direction==="rtl"&&(s+=Fr(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const uM=25;function Obe(e,t){const n=Yr(e),r=Po(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=vP();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Sw(r);if(u<=0){const c=r.ownerDocument,f=c.body,d=getComputedStyle(f),p=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-p);v<=uM&&(o-=v)}else u<=uM&&(o+=u);return{width:o,height:s,x:a,y:l}}const kbe=new Set(["absolute","fixed"]);function Rbe(e,t){const n=uu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ao(e)?yc(e):bo(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function cM(e,t,n){let r;if(t==="viewport")r=Obe(e,n);else if(t==="document")r=Ibe(Po(e));else if(Hi(t))r=Rbe(t,n);else{const i=tB(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xy(r)}function rB(e,t){const n=ja(e);return n===t||!Hi(n)||af(n)?!1:Ki(n).position==="fixed"||rB(n,t)}function Nbe(e,t){const n=t.get(e);if(n)return n;let r=Bh(e,[],!1).filter(a=>Hi(a)&&$f(a)!=="body"),i=null;const o=Ki(e).position==="fixed";let s=o?ja(e):e;for(;Hi(s)&&!af(s);){const a=Ki(s),l=gP(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&kbe.has(i.position)||$p(s)&&!l&&rB(e,s))?r=r.filter(c=>c!==s):i=a,s=ja(s)}return t.set(e,r),r}function Dbe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?xw(t)?[]:Nbe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const f=cM(t,c,i);return u.top=Fr(f.top,u.top),u.right=Ma(f.right,u.right),u.bottom=Ma(f.bottom,u.bottom),u.left=Fr(f.left,u.left),u},cM(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Mbe(e){const{width:t,height:n}=eB(e);return{width:t,height:n}}function jbe(e,t,n){const r=Ao(t),i=Po(t),o=n==="fixed",s=uu(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=bo(0);function u(){l.x=Sw(i)}if(r||!r&&!o)if(($f(t)!=="body"||$p(i))&&(a=Ew(t)),r){const p=uu(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?nB(i,a):bo(0),f=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:s.width,height:s.height}}function cb(e){return Ki(e).position==="static"}function fM(e,t){if(!Ao(e)||Ki(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Po(e)===n&&(n=n.ownerDocument.body),n}function iB(e,t){const n=Yr(e);if(xw(e))return n;if(!Ao(e)){let i=ja(e);for(;i&&!af(i);){if(Hi(i)&&!cb(i))return i;i=ja(i)}return n}let r=fM(e,t);for(;r&&ybe(r)&&cb(r);)r=fM(r,t);return r&&af(r)&&cb(r)&&!gP(r)?n:r||Ebe(e)||n}const Lbe=async function(e){const t=this.getOffsetParent||iB,n=this.getDimensions,r=await n(e.floating);return{reference:jbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $be(e){return Ki(e).direction==="rtl"}const Fbe={convertOffsetParentRelativeRectToViewportRelativeRect:Pbe,getDocumentElement:Po,getClippingRect:Dbe,getOffsetParent:iB,getElementRects:Lbe,getClientRects:Cbe,getDimensions:Mbe,getScale:yc,isElement:Hi,isRTL:$be};function oB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Vbe(e,t){let n=null,r;const i=Po(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:f,width:d,height:p}=u;if(a||t(),!d||!p)return;const v=Gm(f),m=Gm(i.clientWidth-(c+d)),_=Gm(i.clientHeight-(f+p)),b=Gm(c),x={rootMargin:-v+"px "+-m+"px "+-_+"px "+-b+"px",threshold:Fr(0,Ma(1,l))||1};let A=!0;function C(N){const S=N[0].intersectionRatio;if(S!==l){if(!A)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!oB(u,e.getBoundingClientRect())&&s(),A=!1}try{n=new IntersectionObserver(C,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return s(!0),o}function Ube(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=yP(e),c=i||o?[...u?Bh(u):[],...Bh(t)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=u&&a?Vbe(u,n):null;let d=-1,p=null;s&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let v,m=l?uu(e):null;l&&_();function _(){const b=uu(e);m&&!oB(m,b)&&n(),m=b,v=requestAnimationFrame(_)}return n(),()=>{var b;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const zbe=dbe,Bbe=hbe,Wbe=ube,Hbe=mbe,Kbe=cbe,dM=lbe,qbe=pbe,Gbe=(e,t,n)=>{const r=new Map,i={platform:Fbe,...n},o={...i.platform,_c:r};return abe(e,t,{...i,platform:o})};var Ybe=typeof document<"u",Zbe=function(){},Og=Ybe?g.useLayoutEffect:Zbe;function Ey(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ey(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ey(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hM(e,t){const n=sB(e);return Math.round(t*n)/n}function fb(e){const t=g.useRef(e);return Og(()=>{t.current=e}),t}function Qbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=g.useState(r);Ey(d,r)||p(r);const[v,m]=g.useState(null),[_,b]=g.useState(null),y=g.useCallback($=>{$!==N.current&&(N.current=$,m($))},[]),x=g.useCallback($=>{$!==S.current&&(S.current=$,b($))},[]),A=o||v,C=s||_,N=g.useRef(null),S=g.useRef(null),T=g.useRef(c),I=l!=null,k=fb(l),O=fb(i),D=fb(u),R=g.useCallback(()=>{if(!N.current||!S.current)return;const $={placement:t,strategy:n,middleware:d};O.current&&($.platform=O.current),Gbe(N.current,S.current,$).then(W=>{const Q={...W,isPositioned:D.current!==!1};F.current&&!Ey(T.current,Q)&&(T.current=Q,gu.flushSync(()=>{f(Q)}))})},[d,t,n,O,D]);Og(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const F=g.useRef(!1);Og(()=>(F.current=!0,()=>{F.current=!1}),[]),Og(()=>{if(A&&(N.current=A),C&&(S.current=C),A&&C){if(k.current)return k.current(A,C,R);R()}},[A,C,R,k,I]);const B=g.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:x}),[y,x]),V=g.useMemo(()=>({reference:A,floating:C}),[A,C]),K=g.useMemo(()=>{const $={position:n,left:0,top:0};if(!V.floating)return $;const W=hM(V.floating,c.x),Q=hM(V.floating,c.y);return a?{...$,transform:"translate("+W+"px, "+Q+"px)",...sB(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Q}},[n,a,V.floating,c.x,c.y]);return g.useMemo(()=>({...c,update:R,refs:B,elements:V,floatingStyles:K}),[c,R,B,V,K])}const Xbe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dM({element:r.current,padding:i}).fn(n):{}:r?dM({element:r,padding:i}).fn(n):{}}}},Jbe=(e,t)=>({...zbe(e),options:[e,t]}),exe=(e,t)=>({...Bbe(e),options:[e,t]}),txe=(e,t)=>({...qbe(e),options:[e,t]}),nxe=(e,t)=>({...Wbe(e),options:[e,t]}),rxe=(e,t)=>({...Hbe(e),options:[e,t]}),ixe=(e,t)=>({...Kbe(e),options:[e,t]}),oxe=(e,t)=>({...Xbe(e),options:[e,t]});var sxe="Arrow",aB=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return w.jsx(Ge.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});aB.displayName=sxe;var axe=aB;function lxe(e){const[t,n]=g.useState(void 0);return Xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wP="Popper",[lB,uB]=jf(wP),[uxe,cB]=lB(wP),fB=e=>{const{__scopePopper:t,children:n}=e,[r,i]=g.useState(null);return w.jsx(uxe,{scope:t,anchor:r,onAnchorChange:i,children:n})};fB.displayName=wP;var dB="PopperAnchor",hB=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=cB(dB,n),s=g.useRef(null),a=$t(t,s),l=g.useRef(null);return g.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||s.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:w.jsx(Ge.div,{...i,ref:a})});hB.displayName=dB;var _P="PopperContent",[cxe,fxe]=lB(_P),pB=g.forwardRef((e,t)=>{var he,ke,ee,ie,le,G;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,_=cB(_P,n),[b,y]=g.useState(null),x=$t(t,Me=>y(Me)),[A,C]=g.useState(null),N=lxe(A),S=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,I=r+(o!=="center"?"-"+o:""),k=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},O=Array.isArray(u)?u:[u],D=O.length>0,R={padding:k,boundary:O.filter(hxe),altBoundary:D},{refs:F,floatingStyles:B,placement:V,isPositioned:K,middlewareData:$}=Qbe({strategy:"fixed",placement:I,whileElementsMounted:(...Me)=>Ube(...Me,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[Jbe({mainAxis:i+T,alignmentAxis:s}),l&&exe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?txe():void 0,...R}),l&&nxe({...R}),rxe({...R,apply:({elements:Me,rects:Oe,availableWidth:_t,availableHeight:pt})=>{const{width:sn,height:bs}=Oe.reference,bt=Me.floating.style;bt.setProperty("--radix-popper-available-width",`${_t}px`),bt.setProperty("--radix-popper-available-height",`${pt}px`),bt.setProperty("--radix-popper-anchor-width",`${sn}px`),bt.setProperty("--radix-popper-anchor-height",`${bs}px`)}}),A&&oxe({element:A,padding:a}),pxe({arrowWidth:S,arrowHeight:T}),d&&ixe({strategy:"referenceHidden",...R})]}),[W,Q]=vB(V),fe=Da(v);Xn(()=>{K&&(fe==null||fe())},[K,fe]);const ne=(he=$.arrow)==null?void 0:he.x,De=(ke=$.arrow)==null?void 0:ke.y,Ce=((ee=$.arrow)==null?void 0:ee.centerOffset)!==0,[Ie,Xe]=g.useState();return Xn(()=>{b&&Xe(window.getComputedStyle(b).zIndex)},[b]),w.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:K?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(ie=$.transformOrigin)==null?void 0:ie.x,(le=$.transformOrigin)==null?void 0:le.y].join(" "),...((G=$.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(cxe,{scope:n,placedSide:W,onArrowChange:C,arrowX:ne,arrowY:De,shouldHideArrow:Ce,children:w.jsx(Ge.div,{"data-side":W,"data-align":Q,...m,ref:x,style:{...m.style,animation:K?void 0:"none"}})})})});pB.displayName=_P;var mB="PopperArrow",dxe={top:"bottom",right:"left",bottom:"top",left:"right"},gB=g.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=fxe(mB,r),s=dxe[o.placedSide];return w.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:w.jsx(axe,{...i,ref:n,style:{...i.style,display:"block"}})})});gB.displayName=mB;function hxe(e){return e!==null}var pxe=e=>({name:"transformOrigin",options:e,fn(t){var _,b,y;const{placement:n,rects:r,middlewareData:i}=t,s=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=vB(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",m="";return u==="bottom"?(v=s?f:`${d}px`,m=`${-l}px`):u==="top"?(v=s?f:`${d}px`,m=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=s?f:`${p}px`):u==="left"&&(v=`${r.floating.width+l}px`,m=s?f:`${p}px`),{data:{x:v,y:m}}}});function vB(e){const[t,n="center"]=e.split("-");return[t,n]}var mxe=fB,gxe=hB,vxe=pB,yxe=gB,wxe="Portal",bP=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=g.useState(!1);Xn(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?z8.createPortal(w.jsx(Ge.div,{...r,ref:t}),s):null});bP.displayName=wxe;var _xe=dS[" useInsertionEffect ".trim().toString()]||Xn;function Wh({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,s]=bxe({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const c=g.useRef(e!==void 0);g.useEffect(()=>{const f=c.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const u=g.useCallback(c=>{var f;if(a){const d=xxe(c)?c(e):c;d!==e&&((f=s.current)==null||f.call(s,d))}else o(c)},[a,e,o,s]);return[l,u]}function bxe({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),i=g.useRef(n),o=g.useRef(t);return _xe(()=>{o.current=t},[t]),g.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function xxe(e){return typeof e=="function"}function Exe(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sxe="VisuallyHidden",Axe=g.forwardRef((e,t)=>w.jsx(Ge.span,{...e,ref:t,style:{...yB,...e.style}}));Axe.displayName=Sxe;var Txe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Nu=new WeakMap,Ym=new WeakMap,Zm={},db=0,wB=function(e){return e&&(e.host||wB(e.parentNode))},Pxe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wB(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Cxe=function(e,t,n,r){var i=Pxe(t,Array.isArray(e)?e:[e]);Zm[n]||(Zm[n]=new WeakMap);var o=Zm[n],s=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var c=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(d){if(a.has(d))c(d);else try{var p=d.getAttribute(r),v=p!==null&&p!=="false",m=(Nu.get(d)||0)+1,_=(o.get(d)||0)+1;Nu.set(d,m),o.set(d,_),s.push(d),m===1&&v&&Ym.set(d,!0),_===1&&d.setAttribute(n,"true"),v||d.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",d,b)}})};return c(t),a.clear(),db++,function(){s.forEach(function(f){var d=Nu.get(f)-1,p=o.get(f)-1;Nu.set(f,d),o.set(f,p),d||(Ym.has(f)||f.removeAttribute(r),Ym.delete(f)),p||f.removeAttribute(n)}),db--,db||(Nu=new WeakMap,Nu=new WeakMap,Ym=new WeakMap,Zm={})}},_B=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Txe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Cxe(r,i,n,"aria-hidden")):function(){return null}},lo=function(){return lo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},lo.apply(this,arguments)};function bB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ixe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var kg="right-scroll-bar-position",Rg="width-before-scroll-bar",Oxe="with-scroll-bars-hidden",kxe="--removed-body-scroll-bar-size";function hb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rxe(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Nxe=typeof window<"u"?g.useLayoutEffect:g.useEffect,pM=new WeakMap;function Dxe(e,t){var n=Rxe(null,function(r){return e.forEach(function(i){return hb(i,r)})});return Nxe(function(){var r=pM.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||hb(a,null)}),o.forEach(function(a){i.has(a)||hb(a,s)})}pM.set(n,e)},[e]),n}function Mxe(e){return e}function jxe(e,t){t===void 0&&(t=Mxe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function Lxe(e){e===void 0&&(e={});var t=jxe(null);return t.options=lo({async:!0,ssr:!1},e),t}var xB=function(e){var t=e.sideCar,n=bB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,lo({},n))};xB.isSideCarExport=!0;function $xe(e,t){return e.useMedium(t),xB}var EB=Lxe(),pb=function(){},Aw=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:pb,onWheelCapture:pb,onTouchMoveCapture:pb}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,p=e.noRelative,v=e.noIsolation,m=e.inert,_=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=e.gapMode,A=bB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=d,N=Dxe([n,t]),S=lo(lo({},A),i);return g.createElement(g.Fragment,null,c&&g.createElement(C,{sideCar:EB,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:m,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:x}),s?g.cloneElement(g.Children.only(a),lo(lo({},S),{ref:N})):g.createElement(y,lo({},S,{className:l,ref:N}),a))});Aw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Aw.classNames={fullWidth:Rg,zeroRight:kg};var Fxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vxe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Fxe();return t&&e.setAttribute("nonce",t),e}function Uxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zxe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bxe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Vxe())&&(Uxe(t,n),zxe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Wxe=function(){var e=Bxe();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},SB=function(){var e=Wxe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Hxe={left:0,top:0,right:0,gap:0},mb=function(e){return parseInt(e||"",10)||0},Kxe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[mb(n),mb(r),mb(i)]},qxe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hxe;var t=Kxe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gxe=SB(),wc="data-scroll-locked",Yxe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Oxe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kg,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rg,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kg," .").concat(kg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rg," .").concat(Rg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wc,`] {
    `).concat(kxe,": ").concat(a,`px;
  }
`)},mM=function(){var e=parseInt(document.body.getAttribute(wc)||"0",10);return isFinite(e)?e:0},Zxe=function(){g.useEffect(function(){return document.body.setAttribute(wc,(mM()+1).toString()),function(){var e=mM()-1;e<=0?document.body.removeAttribute(wc):document.body.setAttribute(wc,e.toString())}},[])},Qxe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Zxe();var o=g.useMemo(function(){return qxe(i)},[i]);return g.createElement(Gxe,{styles:Yxe(o,!t,i,n?"":"!important")})},JE=!1;if(typeof window<"u")try{var Qm=Object.defineProperty({},"passive",{get:function(){return JE=!0,!0}});window.addEventListener("test",Qm,Qm),window.removeEventListener("test",Qm,Qm)}catch{JE=!1}var Du=JE?{passive:!1}:!1,Xxe=function(e){return e.tagName==="TEXTAREA"},AB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xxe(e)&&n[t]==="visible")},Jxe=function(e){return AB(e,"overflowY")},eEe=function(e){return AB(e,"overflowX")},gM=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=TB(e,r);if(i){var o=PB(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tEe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nEe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},TB=function(e,t){return e==="v"?Jxe(t):eEe(t)},PB=function(e,t){return e==="v"?tEe(t):nEe(t)},rEe=function(e,t){return e==="h"&&t==="rtl"?-1:1},iEe=function(e,t,n,r,i){var o=rEe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,f=0,d=0;do{if(!a)break;var p=PB(e,a),v=p[0],m=p[1],_=p[2],b=m-_-o*v;(v||b)&&TB(e,a)&&(f+=b,d+=v);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(f)<1||!c&&Math.abs(d)<1)&&(u=!0),u},Xm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vM=function(e){return[e.deltaX,e.deltaY]},yM=function(e){return e&&"current"in e?e.current:e},oEe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sEe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aEe=0,Mu=[];function lEe(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(aEe++)[0],o=g.useState(SB)[0],s=g.useRef(e);g.useEffect(function(){s.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Ixe([e.lockRef.current],(e.shards||[]).map(yM),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=Xm(m),y=n.current,x="deltaX"in m?m.deltaX:y[0]-b[0],A="deltaY"in m?m.deltaY:y[1]-b[1],C,N=m.target,S=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var T=gM(S,N);if(!T)return!0;if(T?C=S:(C=S==="v"?"h":"v",T=gM(S,N)),!T)return!1;if(!r.current&&"changedTouches"in m&&(x||A)&&(r.current=C),!C)return!0;var I=r.current||C;return iEe(I,_,m,I==="h"?x:A)},[]),l=g.useCallback(function(m){var _=m;if(!(!Mu.length||Mu[Mu.length-1]!==o)){var b="deltaY"in _?vM(_):Xm(_),y=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&oEe(C.delta,b)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var x=(s.current.shards||[]).map(yM).filter(Boolean).filter(function(C){return C.contains(_.target)}),A=x.length>0?a(_,x[0]):!s.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=g.useCallback(function(m,_,b,y){var x={name:m,delta:_,target:b,should:y,shadowParent:uEe(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(A){return A!==x})},1)},[]),c=g.useCallback(function(m){n.current=Xm(m),r.current=void 0},[]),f=g.useCallback(function(m){u(m.type,vM(m),m.target,a(m,e.lockRef.current))},[]),d=g.useCallback(function(m){u(m.type,Xm(m),m.target,a(m,e.lockRef.current))},[]);g.useEffect(function(){return Mu.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Du),document.addEventListener("touchmove",l,Du),document.addEventListener("touchstart",c,Du),function(){Mu=Mu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Du),document.removeEventListener("touchmove",l,Du),document.removeEventListener("touchstart",c,Du)}},[]);var p=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(o,{styles:sEe(i)}):null,p?g.createElement(Qxe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uEe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cEe=$xe(EB,lEe);var xP=g.forwardRef(function(e,t){return g.createElement(Aw,lo({},e,{ref:t,sideCar:cEe}))});xP.classNames=Aw.classNames;var fEe=[" ","Enter","ArrowUp","ArrowDown"],dEe=[" ","Enter"],cu="Select",[Tw,Pw,hEe]=H6(cu),[Ff]=jf(cu,[hEe,uB]),Cw=uB(),[pEe,el]=Ff(cu),[mEe,gEe]=Ff(cu),CB=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:u,name:c,autoComplete:f,disabled:d,required:p,form:v}=e,m=Cw(t),[_,b]=g.useState(null),[y,x]=g.useState(null),[A,C]=g.useState(!1),N=cP(u),[S,T]=Wh({prop:r,defaultProp:i??!1,onChange:o,caller:cu}),[I,k]=Wh({prop:s,defaultProp:a,onChange:l,caller:cu}),O=g.useRef(null),D=_?v||!!_.closest("form"):!0,[R,F]=g.useState(new Set),B=Array.from(R).map(V=>V.props.value).join(";");return w.jsx(mxe,{...m,children:w.jsxs(pEe,{required:p,scope:t,trigger:_,onTriggerChange:b,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:C,contentId:xa(),value:I,onValueChange:k,open:S,onOpenChange:T,dir:N,triggerPointerDownPosRef:O,disabled:d,children:[w.jsx(Tw.Provider,{scope:t,children:w.jsx(mEe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(V=>{F(K=>new Set(K).add(V))},[]),onNativeOptionRemove:g.useCallback(V=>{F(K=>{const $=new Set(K);return $.delete(V),$})},[]),children:n})}),D?w.jsxs(GB,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:f,value:I,onChange:V=>k(V.target.value),disabled:d,form:v,children:[I===void 0?w.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};CB.displayName=cu;var IB="SelectTrigger",OB=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Cw(n),s=el(IB,n),a=s.disabled||r,l=$t(t,s.onTriggerChange),u=Pw(n),c=g.useRef("touch"),[f,d,p]=ZB(m=>{const _=u().filter(x=>!x.disabled),b=_.find(x=>x.value===s.value),y=QB(_,m,b);y!==void 0&&s.onValueChange(y.value)}),v=m=>{a||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return w.jsx(gxe,{asChild:!0,...o,children:w.jsx(Ge.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":YB(s.value)?"":void 0,...i,ref:l,onClick:We(i.onClick,m=>{m.currentTarget.focus(),c.current!=="mouse"&&v(m)}),onPointerDown:We(i.onPointerDown,m=>{c.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:We(i.onKeyDown,m=>{const _=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&d(m.key),!(_&&m.key===" ")&&fEe.includes(m.key)&&(v(),m.preventDefault())})})})});OB.displayName=IB;var kB="SelectValue",RB=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,l=el(kB,n),{onValueNodeHasChildrenChange:u}=l,c=o!==void 0,f=$t(t,l.onValueNodeChange);return Xn(()=>{u(c)},[u,c]),w.jsx(Ge.span,{...a,ref:f,style:{pointerEvents:"none"},children:YB(l.value)?w.jsx(w.Fragment,{children:s}):o})});RB.displayName=kB;var vEe="SelectIcon",NB=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return w.jsx(Ge.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});NB.displayName=vEe;var yEe="SelectPortal",DB=e=>w.jsx(bP,{asChild:!0,...e});DB.displayName=yEe;var fu="SelectContent",MB=g.forwardRef((e,t)=>{const n=el(fu,e.__scopeSelect),[r,i]=g.useState();if(Xn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?gu.createPortal(w.jsx(jB,{scope:e.__scopeSelect,children:w.jsx(Tw.Slot,{scope:e.__scopeSelect,children:w.jsx("div",{children:e.children})})}),o):null}return w.jsx(LB,{...e,ref:t})});MB.displayName=fu;var Ai=10,[jB,tl]=Ff(fu),wEe="SelectContentImpl",_Ee=qc("SelectContent.RemoveScroll"),LB=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:_,...b}=e,y=el(fu,n),[x,A]=g.useState(null),[C,N]=g.useState(null),S=$t(t,he=>A(he)),[T,I]=g.useState(null),[k,O]=g.useState(null),D=Pw(n),[R,F]=g.useState(!1),B=g.useRef(!1);g.useEffect(()=>{if(x)return _B(x)},[x]),G6();const V=g.useCallback(he=>{const[ke,...ee]=D().map(G=>G.ref.current),[ie]=ee.slice(-1),le=document.activeElement;for(const G of he)if(G===le||(G==null||G.scrollIntoView({block:"nearest"}),G===ke&&C&&(C.scrollTop=0),G===ie&&C&&(C.scrollTop=C.scrollHeight),G==null||G.focus(),document.activeElement!==le))return},[D,C]),K=g.useCallback(()=>V([T,x]),[V,T,x]);g.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:$,triggerPointerDownPosRef:W}=y;g.useEffect(()=>{if(x){let he={x:0,y:0};const ke=ie=>{var le,G;he={x:Math.abs(Math.round(ie.pageX)-(((le=W.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((G=W.current)==null?void 0:G.y)??0))}},ee=ie=>{he.x<=10&&he.y<=10?ie.preventDefault():x.contains(ie.target)||$(!1),document.removeEventListener("pointermove",ke),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",ee,{capture:!0})}}},[x,$,W]),g.useEffect(()=>{const he=()=>$(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[$]);const[Q,fe]=ZB(he=>{const ke=D().filter(le=>!le.disabled),ee=ke.find(le=>le.ref.current===document.activeElement),ie=QB(ke,he,ee);ie&&setTimeout(()=>ie.ref.current.focus())}),ne=g.useCallback((he,ke,ee)=>{const ie=!B.current&&!ee;(y.value!==void 0&&y.value===ke||ie)&&(I(he),ie&&(B.current=!0))},[y.value]),De=g.useCallback(()=>x==null?void 0:x.focus(),[x]),Ce=g.useCallback((he,ke,ee)=>{const ie=!B.current&&!ee;(y.value!==void 0&&y.value===ke||ie)&&O(he)},[y.value]),Ie=r==="popper"?eS:$B,Xe=Ie===eS?{side:a,sideOffset:l,align:u,alignOffset:c,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:_}:{};return w.jsx(jB,{scope:n,content:x,viewport:C,onViewportChange:N,itemRefCallback:ne,selectedItem:T,onItemLeave:De,itemTextRefCallback:Ce,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:R,searchRef:Q,children:w.jsx(xP,{as:_Ee,allowPinchZoom:!0,children:w.jsx(dP,{asChild:!0,trapped:y.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:We(i,he=>{var ke;(ke=y.trigger)==null||ke.focus({preventScroll:!0}),he.preventDefault()}),children:w.jsx(fP,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:w.jsx(Ie,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:he=>he.preventDefault(),...b,...Xe,onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:We(b.onKeyDown,he=>{const ke=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!ke&&he.key.length===1&&fe(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ie=D().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const le=he.target,G=ie.indexOf(le);ie=ie.slice(G+1)}setTimeout(()=>V(ie)),he.preventDefault()}})})})})})})});LB.displayName=wEe;var bEe="SelectItemAlignedPosition",$B=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=el(fu,n),s=tl(fu,n),[a,l]=g.useState(null),[u,c]=g.useState(null),f=$t(t,S=>c(S)),d=Pw(n),p=g.useRef(!1),v=g.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:b,focusSelectedItem:y}=s,x=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&_&&b){const S=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(o.dir!=="rtl"){const le=k.left-T.left,G=I.left-le,Me=S.left-G,Oe=S.width+Me,_t=Math.max(Oe,T.width),pt=window.innerWidth-Ai,sn=YD(G,[Ai,Math.max(Ai,pt-_t)]);a.style.minWidth=Oe+"px",a.style.left=sn+"px"}else{const le=T.right-k.right,G=window.innerWidth-I.right-le,Me=window.innerWidth-S.right-G,Oe=S.width+Me,_t=Math.max(Oe,T.width),pt=window.innerWidth-Ai,sn=YD(G,[Ai,Math.max(Ai,pt-_t)]);a.style.minWidth=Oe+"px",a.style.right=sn+"px"}const O=d(),D=window.innerHeight-Ai*2,R=m.scrollHeight,F=window.getComputedStyle(u),B=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),K=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),W=B+V+R+$+K,Q=Math.min(_.offsetHeight*5,W),fe=window.getComputedStyle(m),ne=parseInt(fe.paddingTop,10),De=parseInt(fe.paddingBottom,10),Ce=S.top+S.height/2-Ai,Ie=D-Ce,Xe=_.offsetHeight/2,he=_.offsetTop+Xe,ke=B+V+he,ee=W-ke;if(ke<=Ce){const le=O.length>0&&_===O[O.length-1].ref.current;a.style.bottom="0px";const G=u.clientHeight-m.offsetTop-m.offsetHeight,Me=Math.max(Ie,Xe+(le?De:0)+G+K),Oe=ke+Me;a.style.height=Oe+"px"}else{const le=O.length>0&&_===O[0].ref.current;a.style.top="0px";const Me=Math.max(Ce,B+m.offsetTop+(le?ne:0)+Xe)+ee;a.style.height=Me+"px",m.scrollTop=ke-Ce+m.offsetTop}a.style.margin=`${Ai}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[d,o.trigger,o.valueNode,a,u,m,_,b,o.dir,r]);Xn(()=>x(),[x]);const[A,C]=g.useState();Xn(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const N=g.useCallback(S=>{S&&v.current===!0&&(x(),y==null||y(),v.current=!1)},[x,y]);return w.jsx(EEe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:w.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:w.jsx(Ge.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$B.displayName=bEe;var xEe="SelectPopperPosition",eS=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ai,...o}=e,s=Cw(n);return w.jsx(vxe,{...s,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eS.displayName=xEe;var[EEe,EP]=Ff(fu,{}),tS="SelectViewport",FB=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=tl(tS,n),s=EP(tS,n),a=$t(t,o.onViewportChange),l=g.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(Tw.Slot,{scope:n,children:w.jsx(Ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:We(i.onScroll,u=>{const c=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&f){const p=Math.abs(l.current-c.scrollTop);if(p>0){const v=window.innerHeight-Ai*2,m=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(m,_);if(b<v){const y=b+p,x=Math.min(v,y),A=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(c.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=c.scrollTop})})})]})});FB.displayName=tS;var VB="SelectGroup",[SEe,AEe]=Ff(VB),TEe=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=xa();return w.jsx(SEe,{scope:n,id:i,children:w.jsx(Ge.div,{role:"group","aria-labelledby":i,...r,ref:t})})});TEe.displayName=VB;var UB="SelectLabel",PEe=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=AEe(UB,n);return w.jsx(Ge.div,{id:i.id,...r,ref:t})});PEe.displayName=UB;var Sy="SelectItem",[CEe,zB]=Ff(Sy),BB=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=el(Sy,n),l=tl(Sy,n),u=a.value===r,[c,f]=g.useState(o??""),[d,p]=g.useState(!1),v=$t(t,y=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,y,r,i)}),m=xa(),_=g.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(CEe,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:g.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:w.jsx(Tw.ItemSlot,{scope:n,value:r,disabled:i,textValue:c,children:w.jsx(Ge.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":u&&d,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:v,onFocus:We(s.onFocus,()=>p(!0)),onBlur:We(s.onBlur,()=>p(!1)),onClick:We(s.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:We(s.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:We(s.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:We(s.onPointerMove,y=>{var x;_.current=y.pointerType,i?(x=l.onItemLeave)==null||x.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(s.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:We(s.onKeyDown,y=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(dEe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});BB.displayName=Sy;var Rd="SelectItemText",WB=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=el(Rd,n),a=tl(Rd,n),l=zB(Rd,n),u=gEe(Rd,n),[c,f]=g.useState(null),d=$t(t,b=>f(b),l.onItemTextChange,b=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,b,l.value,l.disabled)}),p=c==null?void 0:c.textContent,v=g.useMemo(()=>w.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=u;return Xn(()=>(m(v),()=>_(v)),[m,_,v]),w.jsxs(w.Fragment,{children:[w.jsx(Ge.span,{id:l.textId,...o,ref:d}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?gu.createPortal(o.children,s.valueNode):null]})});WB.displayName=Rd;var HB="SelectItemIndicator",KB=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return zB(HB,n).isSelected?w.jsx(Ge.span,{"aria-hidden":!0,...r,ref:t}):null});KB.displayName=HB;var nS="SelectScrollUpButton",IEe=g.forwardRef((e,t)=>{const n=tl(nS,e.__scopeSelect),r=EP(nS,e.__scopeSelect),[i,o]=g.useState(!1),s=$t(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?w.jsx(qB,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});IEe.displayName=nS;var rS="SelectScrollDownButton",OEe=g.forwardRef((e,t)=>{const n=tl(rS,e.__scopeSelect),r=EP(rS,e.__scopeSelect),[i,o]=g.useState(!1),s=$t(t,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,c=Math.ceil(l.scrollTop)<u;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?w.jsx(qB,{...e,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});OEe.displayName=rS;var qB=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=tl("SelectScrollButton",n),s=g.useRef(null),a=Pw(n),l=g.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Xn(()=>{var c;const u=a().find(f=>f.ref.current===document.activeElement);(c=u==null?void 0:u.ref.current)==null||c.scrollIntoView({block:"nearest"})},[a]),w.jsx(Ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:We(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:We(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:We(i.onPointerLeave,()=>{l()})})}),kEe="SelectSeparator",REe=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return w.jsx(Ge.div,{"aria-hidden":!0,...r,ref:t})});REe.displayName=kEe;var iS="SelectArrow",NEe=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Cw(n),o=el(iS,n),s=tl(iS,n);return o.open&&s.position==="popper"?w.jsx(yxe,{...i,...r,ref:t}):null});NEe.displayName=iS;var DEe="SelectBubbleInput",GB=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=g.useRef(null),o=$t(r,i),s=Exe(t);return g.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&c){const f=new Event("change",{bubbles:!0});c.call(a,t),a.dispatchEvent(f)}},[s,t]),w.jsx(Ge.select,{...n,style:{...yB,...n.style},ref:o,defaultValue:t})});GB.displayName=DEe;function YB(e){return e===""||e===void 0}function ZB(e){const t=Da(e),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(s=>{const a=n.current+s;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function QB(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=MEe(e,Math.max(o,0));i.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function MEe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jEe=CB,LEe=OB,$Ee=RB,FEe=NB,VEe=DB,UEe=MB,zEe=FB,BEe=BB,WEe=WB,HEe=KB;function KEe({children:e,...t}){return w.jsxs(jEe,{...t,children:[w.jsxs(LEe,{className:"flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",children:[w.jsx($Ee,{}),w.jsx(FEe,{children:w.jsx(cie,{className:"h-4 w-4 text-slate-500"})})]}),w.jsx(VEe,{children:w.jsx(UEe,{className:"z-50 overflow-hidden rounded-md border border-slate-200 bg-white shadow-lg",children:w.jsx(zEe,{className:"p-2",children:e})})})]})}function qEe({children:e,className:t,...n}){return w.jsxs(BEe,{className:ye("relative flex w-full cursor-default select-none items-center rounded-sm px-3 py-2 text-sm outline-none focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx(WEe,{children:e}),w.jsx(HEe,{className:"absolute right-2 inline-flex items-center",children:w.jsx(lie,{className:"h-4 w-4"})})]})}const GEe=[{value:"ACTIVO",label:"Activo"},{value:"PAUSADO",label:"Pausado"}];function YEe({defaultValues:e,onSubmit:t,submitLabel:n="Guardar cliente"}){const r=b1({resolver:C1(P_e),defaultValues:e??{nombre_legal:"",alias:"",rfc:"",email:"",telefono:"",direccion:"",ciudad:"",cp:"",limite_credito:0,dias_credito:0,estatus:"ACTIVO"}});g.useEffect(()=>{e&&r.reset(e)},[e,r]);const i=r.handleSubmit(async o=>{await t(o)});return w.jsxs("form",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",onSubmit:i,children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"nombre_legal",children:"Nombre fiscal"}),w.jsx(je,{id:"nombre_legal",...r.register("nombre_legal")}),r.formState.errors.nombre_legal?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.nombre_legal.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"alias",children:"Alias comercial"}),w.jsx(je,{id:"alias",...r.register("alias")}),r.formState.errors.alias?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.alias.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"rfc",children:"RFC"}),w.jsx(je,{id:"rfc",...r.register("rfc"),className:"uppercase"}),r.formState.errors.rfc?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.rfc.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"email",children:"Correo"}),w.jsx(je,{id:"email",type:"email",...r.register("email")}),r.formState.errors.email?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.email.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"telefono",children:"Teléfono"}),w.jsx(je,{id:"telefono",...r.register("telefono"),inputMode:"numeric"}),r.formState.errors.telefono?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.telefono.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"ciudad",children:"Ciudad"}),w.jsx(je,{id:"ciudad",...r.register("ciudad")}),r.formState.errors.ciudad?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.ciudad.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"direccion",children:"Dirección"}),w.jsx(je,{id:"direccion",...r.register("direccion")}),r.formState.errors.direccion?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.direccion.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"cp",children:"Código Postal"}),w.jsx(je,{id:"cp",...r.register("cp")}),r.formState.errors.cp?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.cp.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"limite_credito",children:"Límite de crédito"}),w.jsx(je,{id:"limite_credito",type:"number",step:"0.01",...r.register("limite_credito",{valueAsNumber:!0})}),r.formState.errors.limite_credito?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.limite_credito.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{htmlFor:"dias_credito",children:"Días de crédito"}),w.jsx(je,{id:"dias_credito",type:"number",...r.register("dias_credito",{valueAsNumber:!0})}),r.formState.errors.dias_credito?w.jsx("p",{className:"text-xs text-red-600",children:r.formState.errors.dias_credito.message}):null]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(mr,{children:"Estatus"}),w.jsx(KEe,{value:r.watch("estatus"),onValueChange:o=>r.setValue("estatus",o),children:GEe.map(o=>w.jsx(qEe,{value:o.value,children:o.label},o.value))})]}),w.jsx("div",{className:"md:col-span-2",children:w.jsx(Lt,{type:"submit",className:"w-full",children:n})})]})}dr(It,"clientes");dr(It,"pedidos");dr(It,"abonos");dr(It,"movimientos_caja");const ZEe=dr(It,"bitacora");function QEe(e){return dr(It,"pedidos",e,"pedido_items")}async function fs(e){await _p(ZEe,{...e,timestamp:Cr()})}const Iw=dr(It,"clientes");async function XEe(e){const t=[];e!=null&&e.estatus&&e.estatus!=="TODOS"&&t.push(qn("estatus","==",e.estatus)),e!=null&&e.ciudad&&t.push(qn("ciudad","==",e.ciudad));const n=na(Iw,...t,wp("nombre_legal")),i=(await ra(n)).docs.map(o=>({id:o.id,...o.data()}));if(e!=null&&e.search){const o=e.search.toLowerCase();return i.filter(s=>[s.nombre_legal,s.alias,s.email,s.ciudad].some(a=>a.toLowerCase().includes(o)))}return i}async function JEe(e,t){const n={...e,creado_en:Cr(),actualizado_en:Cr()},r=await _p(Iw,n);return await fs({entidad:"clientes",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n}),r.id}async function eSe(e,t,n){const r=Hr(Iw,e),i={...t,actualizado_en:Cr()};await bV(r,i),await fs({entidad:"clientes",entidad_id:e,accion:"ACTUALIZAR",usuario:n,datos:i})}async function tSe(e,t){await jre(Hr(Iw,e)),await fs({entidad:"clientes",entidad_id:e,accion:"ELIMINAR",usuario:t,datos:{}})}const Ow=["clientes"];function XB(e={}){return gf({queryKey:[...Ow,e],queryFn:()=>XEe(e),staleTime:1e3*60})}function nSe(){const e=To();return Ua({mutationFn:t=>JEe(t.data,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Ow})})}function rSe(){const e=To();return Ua({mutationFn:t=>eSe(t.id,t.data,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Ow})})}function iSe(){const e=To();return Ua({mutationFn:t=>tSe(t.id,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:Ow})})}const SP=dr(It,"pedidos");async function oSe(e){const t=[];e!=null&&e.status&&e.status!=="TODOS"&&t.push(qn("status","==",e.status)),e!=null&&e.prioridad&&e.prioridad!=="TODAS"&&t.push(qn("prioridad","==",e.prioridad)),e!=null&&e.clienteId&&t.push(qn("cliente_id","==",Hr(It,"clientes",e.clienteId)));const n=na(SP,...t,wp("fecha_compromiso","desc"),vV(100));return(await ra(n)).docs.map(i=>({id:i.id,...i.data()}))}function sSe(e,t){return{folio:e.folio,cliente_id:Hr(It,"clientes",e.cliente_id),fecha_pedido:ze.fromDate(e.fecha_pedido),fecha_compromiso:ze.fromDate(e.fecha_compromiso),status:e.status,anticipo:e.anticipo,subtotal:e.subtotal,descuento:e.descuento,impuestos:e.impuestos,total:e.total,saldo:e.saldo,prioridad:e.prioridad,notas:e.notas??"",creado_por:t,creado_en:Cr(),actualizado_en:Cr()}}async function aSe(e,t){const n=sSe(e,t),r=await _p(SP,n),i=Bre(It);return e.items.forEach(o=>{const s=o.cantidad*o.precio_unitario,a=Hr(QEe(r.id));i.set(a,{descripcion_item:o.descripcion_item,prenda:o.prenda,talla:o.talla,color_prenda:o.color_prenda,ubicacion:o.ubicacion,puntadas_estimadas:o.puntadas_estimadas,cantidad:o.cantidad,precio_unitario:o.precio_unitario,importe:s,observaciones:o.observaciones??""})}),await i.commit(),await fs({entidad:"pedidos",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n}),r.id}async function lSe(e,t,n,r={}){const i=Hr(SP,e),o={status:t,actualizado_en:Cr()};if(await bV(i,o),r.estado){const s=dr(It,"pedidos",e,"produccion_eventos");await _p(s,{estado:r.estado,responsable:r.responsable??n,fecha_inicio:r.fecha_inicio??Cr(),fecha_fin:r.fecha_fin??null,evidencia_url:r.evidencia_url??"",notas:r.notas??""})}await fs({entidad:"pedidos",entidad_id:e,accion:`CAMBIO_ESTADO_${t}`,usuario:n,datos:o})}const AP=["pedidos"];function JB(e={}){return gf({queryKey:[...AP,e],queryFn:()=>oSe(e),staleTime:1e3*30})}function uSe(){const e=To();return Ua({mutationFn:t=>aSe(t.data,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:AP})})}function cSe(){const e=To();return Ua({mutationFn:t=>lSe(t.id,t.estado,t.usuarioId,t.data),onSuccess:()=>e.invalidateQueries({queryKey:AP})})}function fSe(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Fp=e=>{const{present:t,children:n}=e,r=dSe(t),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=$t(r.ref,hSe(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:o}):null};Fp.displayName="Presence";function dSe(e){const[t,n]=g.useState(),r=g.useRef(null),i=g.useRef(e),o=g.useRef("none"),s=e?"mounted":"unmounted",[a,l]=fSe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Jm(r.current);o.current=a==="mounted"?u:"none"},[a]),Xn(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,p=Jm(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Xn(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,f=p=>{const m=Jm(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(l("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},d=p=>{p.target===t&&(o.current=Jm(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Jm(e){return(e==null?void 0:e.animationName)||"none"}function hSe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kw="Dialog",[e9]=jf(kw),[pSe,Zi]=e9(kw),t9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=g.useRef(null),l=g.useRef(null),[u,c]=Wh({prop:r,defaultProp:i??!1,onChange:o,caller:kw});return w.jsx(pSe,{scope:t,triggerRef:a,contentRef:l,contentId:xa(),titleId:xa(),descriptionId:xa(),open:u,onOpenChange:c,onOpenToggle:g.useCallback(()=>c(f=>!f),[c]),modal:s,children:n})};t9.displayName=kw;var n9="DialogTrigger",r9=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zi(n9,n),o=$t(t,i.triggerRef);return w.jsx(Ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CP(i.open),...r,ref:o,onClick:We(e.onClick,i.onOpenToggle)})});r9.displayName=n9;var TP="DialogPortal",[mSe,i9]=e9(TP,{forceMount:void 0}),o9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Zi(TP,t);return w.jsx(mSe,{scope:t,forceMount:n,children:g.Children.map(r,s=>w.jsx(Fp,{present:n||o.open,children:w.jsx(bP,{asChild:!0,container:i,children:s})}))})};o9.displayName=TP;var Ay="DialogOverlay",s9=g.forwardRef((e,t)=>{const n=i9(Ay,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Zi(Ay,e.__scopeDialog);return o.modal?w.jsx(Fp,{present:r||o.open,children:w.jsx(vSe,{...i,ref:t})}):null});s9.displayName=Ay;var gSe=qc("DialogOverlay.RemoveScroll"),vSe=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zi(Ay,n);return w.jsx(xP,{as:gSe,allowPinchZoom:!0,shards:[i.contentRef],children:w.jsx(Ge.div,{"data-state":CP(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),du="DialogContent",a9=g.forwardRef((e,t)=>{const n=i9(du,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Zi(du,e.__scopeDialog);return w.jsx(Fp,{present:r||o.open,children:o.modal?w.jsx(ySe,{...i,ref:t}):w.jsx(wSe,{...i,ref:t})})});a9.displayName=du;var ySe=g.forwardRef((e,t)=>{const n=Zi(du,e.__scopeDialog),r=g.useRef(null),i=$t(t,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return _B(o)},[]),w.jsx(l9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault())})}),wSe=g.forwardRef((e,t)=>{const n=Zi(du,e.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return w.jsx(l9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),l9=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=Zi(du,n),l=g.useRef(null),u=$t(t,l);return G6(),w.jsxs(w.Fragment,{children:[w.jsx(dP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:w.jsx(fP,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":CP(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(_Se,{titleId:a.titleId}),w.jsx(xSe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),PP="DialogTitle",u9=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zi(PP,n);return w.jsx(Ge.h2,{id:i.titleId,...r,ref:t})});u9.displayName=PP;var c9="DialogDescription",f9=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zi(c9,n);return w.jsx(Ge.p,{id:i.descriptionId,...r,ref:t})});f9.displayName=c9;var d9="DialogClose",h9=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zi(d9,n);return w.jsx(Ge.button,{type:"button",...r,ref:t,onClick:We(e.onClick,()=>i.onOpenChange(!1))})});h9.displayName=d9;function CP(e){return e?"open":"closed"}var p9="DialogTitleWarning",[eAe,m9]=O_e(p9,{contentName:du,titleName:PP,docsSlug:"dialog"}),_Se=({titleId:e})=>{const t=m9(p9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bSe="DialogDescriptionWarning",xSe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m9(bSe).contentName}}.`;return g.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ESe=t9,SSe=r9,ASe=o9,g9=s9,v9=a9,y9=u9,w9=f9,TSe=h9;const lf=ESe,IP=SSe,PSe=ASe,_9=g.forwardRef(({className:e,...t},n)=>w.jsx(g9,{ref:n,className:ye("fixed inset-0 z-40 bg-slate-950/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out",e),...t}));_9.displayName=g9.displayName;const hu=g.forwardRef(({className:e,children:t,...n},r)=>w.jsxs(PSe,{children:[w.jsx(_9,{}),w.jsxs(v9,{ref:r,className:ye("fixed left-1/2 top-1/2 z-50 grid w-full max-w-2xl -translate-x-1/2 -translate-y-1/2 gap-4 rounded-xl border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out",e),...n,children:[t,w.jsx(TSe,{className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-accent",children:w.jsx(Bie,{className:"h-4 w-4"})})]})]}));hu.displayName=v9.displayName;const Vp=({className:e,...t})=>w.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),Vf=g.forwardRef(({className:e,...t},n)=>w.jsx(y9,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Vf.displayName=y9.displayName;const CSe=g.forwardRef(({className:e,...t},n)=>w.jsx(w9,{ref:n,className:ye("text-sm text-slate-500",e),...t}));CSe.displayName=w9.displayName;var gb="rovingFocusGroup.onEntryFocus",ISe={bubbles:!1,cancelable:!0},Up="RovingFocusGroup",[oS,b9,OSe]=H6(Up),[kSe,x9]=jf(Up,[OSe]),[RSe,NSe]=kSe(Up),E9=g.forwardRef((e,t)=>w.jsx(oS.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(oS.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(DSe,{...e,ref:t})})}));E9.displayName=Up;var DSe=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...f}=e,d=g.useRef(null),p=$t(t,d),v=cP(o),[m,_]=Wh({prop:s,defaultProp:a??null,onChange:l,caller:Up}),[b,y]=g.useState(!1),x=Da(u),A=b9(n),C=g.useRef(!1),[N,S]=g.useState(0);return g.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(gb,x),()=>T.removeEventListener(gb,x)},[x]),w.jsx(RSe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:m,onItemFocus:g.useCallback(T=>_(T),[_]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>S(T=>T-1),[]),children:w.jsx(Ge.div,{tabIndex:b||N===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{C.current=!0}),onFocus:We(e.onFocus,T=>{const I=!C.current;if(T.target===T.currentTarget&&I&&!b){const k=new CustomEvent(gb,ISe);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=A().filter(V=>V.focusable),D=O.find(V=>V.active),R=O.find(V=>V.id===m),B=[D,R,...O].filter(Boolean).map(V=>V.ref.current);T9(B,c)}}C.current=!1}),onBlur:We(e.onBlur,()=>y(!1))})})}),S9="RovingFocusGroupItem",A9=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=e,l=xa(),u=o||l,c=NSe(S9,n),f=c.currentTabStopId===u,d=b9(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:m}=c;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),w.jsx(oS.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:w.jsx(Ge.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:We(e.onMouseDown,_=>{r?c.onItemFocus(u):_.preventDefault()}),onFocus:We(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:We(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=LSe(_,c.orientation,c.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=d().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const A=x.indexOf(_.currentTarget);x=c.loop?$Se(x,A+1):x.slice(A+1)}setTimeout(()=>T9(x))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});A9.displayName=S9;var MSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LSe(e,t,n){const r=jSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MSe[r]}function T9(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $Se(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var FSe=E9,VSe=A9,Rw="Tabs",[USe]=jf(Rw,[x9]),P9=x9(),[zSe,OP]=USe(Rw),C9=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...u}=e,c=cP(a),[f,d]=Wh({prop:r,onChange:i,defaultProp:o??"",caller:Rw});return w.jsx(zSe,{scope:n,baseId:xa(),value:f,onValueChange:d,orientation:s,dir:c,activationMode:l,children:w.jsx(Ge.div,{dir:c,"data-orientation":s,...u,ref:t})})});C9.displayName=Rw;var I9="TabsList",O9=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=OP(I9,n),s=P9(n);return w.jsx(FSe,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:w.jsx(Ge.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});O9.displayName=I9;var k9="TabsTrigger",R9=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,s=OP(k9,n),a=P9(n),l=M9(s.baseId,r),u=j9(s.baseId,r),c=r===s.value;return w.jsx(VSe,{asChild:!0,...a,focusable:!i,active:c,children:w.jsx(Ge.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:We(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:We(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:We(e.onFocus,()=>{const f=s.activationMode!=="manual";!c&&!i&&f&&s.onValueChange(r)})})})});R9.displayName=k9;var N9="TabsContent",D9=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=e,a=OP(N9,n),l=M9(a.baseId,r),u=j9(a.baseId,r),c=r===a.value,f=g.useRef(c);return g.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),w.jsx(Fp,{present:i||c,children:({present:d})=>w.jsx(Ge.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:d&&o})})});D9.displayName=N9;function M9(e,t){return`${e}-trigger-${t}`}function j9(e,t){return`${e}-content-${t}`}var BSe=C9,L9=O9,$9=R9,F9=D9;const WSe=BSe,V9=g.forwardRef(({className:e,...t},n)=>w.jsx(L9,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",e),...t}));V9.displayName=L9.displayName;const Ng=g.forwardRef(({className:e,...t},n)=>w.jsx($9,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 data-[state=active]:bg-white data-[state=active]:text-slate-900",e),...t}));Ng.displayName=$9.displayName;const Dg=g.forwardRef(({className:e,...t},n)=>w.jsx(F9,{ref:n,className:ye("mt-4 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2",e),...t}));Dg.displayName=F9.displayName;const HSe=["TODOS","ACTIVO","PAUSADO"];function KSe(){const{role:e,user:t}=Ga(),[n,r]=g.useState(""),[i,o]=g.useState("TODOS"),{data:s,isLoading:a}=XB({search:n,estatus:i}),l=nSe(),u=rSe(),c=iSe(),[f,d]=g.useState(null),[p,v]=g.useState(!1),[m,_]=g.useState(!1),b=["OWNER","ADMIN","VENTAS"].includes(e??""),y=g.useMemo(()=>s?Array.from(new Set(s.map(I=>I.ciudad))).sort():[],[s]),[x,A]=g.useState(""),C=g.useMemo(()=>s?s.filter(I=>x?I.ciudad===x:!0):[],[s,x]);async function N(I){t&&(await l.mutateAsync({data:I,usuarioId:t.uid}),v(!1))}async function S(I){!t||!f||(await u.mutateAsync({id:f.id,data:I,usuarioId:t.uid}),v(!1))}async function T(I){t&&confirm(`¿Eliminar al cliente ${I.alias}?`)&&(await c.mutateAsync({id:I.id,usuarioId:t.uid}),_(!1))}return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Gestión de clientes"})}),w.jsxs(xn,{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[w.jsxs("div",{className:"flex w-full flex-col gap-2 md:flex-row md:items-center",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(Nie,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),w.jsx(je,{placeholder:"Buscar por nombre, alias, correo o ciudad",className:"pl-9",value:n,onChange:I=>r(I.target.value)})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("select",{value:i,onChange:I=>o(I.target.value),className:"h-10 rounded-md border border-slate-200 bg-white px-3 text-sm",children:HSe.map(I=>w.jsx("option",{value:I,children:I},I))}),w.jsxs("select",{value:x,onChange:I=>A(I.target.value),className:"h-10 rounded-md border border-slate-200 bg-white px-3 text-sm",children:[w.jsx("option",{value:"",children:"Todas las ciudades"}),y.map(I=>w.jsx("option",{value:I,children:I},I))]})]})]}),b?w.jsxs(lf,{open:p,onOpenChange:v,children:[w.jsx(IP,{asChild:!0,children:w.jsxs(Lt,{onClick:()=>d(null),children:[w.jsx(TA,{className:"mr-2 h-4 w-4"})," Nuevo cliente"]})}),w.jsxs(hu,{className:"max-h-[80vh] overflow-y-auto",children:[w.jsx(Vp,{children:w.jsx(Vf,{children:f?"Editar cliente":"Nuevo cliente"})}),w.jsx(YEe,{defaultValues:f??void 0,onSubmit:f?S:N,submitLabel:f?"Actualizar cliente":"Crear cliente"})]})]}):null]})]}),w.jsx(bn,{children:w.jsx(xn,{className:"p-0",children:w.jsxs(yw,{children:[w.jsx(ww,{children:w.jsxs(Yn,{children:[w.jsx(yt,{children:"Cliente"}),w.jsx(yt,{children:"Contacto"}),w.jsx(yt,{children:"Ciudad"}),w.jsx(yt,{children:"Límite crédito"}),w.jsx(yt,{children:"Estatus"}),w.jsx(yt,{className:"text-right",children:"Acciones"})]})}),w.jsx(_w,{children:a?w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10 text-center text-sm text-slate-500",children:w.jsx(Gc,{className:"mx-auto h-5 w-5 animate-spin"})})}):C.length?C.map(I=>w.jsxs(Yn,{className:"cursor-pointer",onClick:()=>{d(I),_(!0)},children:[w.jsx(Ke,{children:w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-medium text-slate-800",children:I.alias}),w.jsx("span",{className:"text-xs text-slate-500",children:I.nombre_legal})]})}),w.jsx(Ke,{children:w.jsxs("div",{className:"flex flex-col text-sm",children:[w.jsx("span",{children:I.email}),w.jsx("span",{className:"text-xs text-slate-500",children:RV(I.telefono)})]})}),w.jsx(Ke,{children:I.ciudad}),w.jsx(Ke,{children:tt(I.limite_credito)}),w.jsx(Ke,{children:w.jsx(sf,{variant:I.estatus==="ACTIVO"?"success":"warning",children:I.estatus})}),w.jsx(Ke,{className:"text-right",children:w.jsx(Lt,{size:"sm",variant:"outline",onClick:k=>{k.stopPropagation(),d(I),v(!0)},disabled:!b,children:"Editar"})})]},I.id)):w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10",children:w.jsx(nu,{title:"Sin clientes",description:"Agrega tu primer cliente para comenzar a registrar pedidos y cobranza."})})})})]})})}),w.jsx(lf,{open:m,onOpenChange:_,children:w.jsx(hu,{className:"max-h-[80vh] overflow-y-auto",children:f?w.jsx(qSe,{cliente:f,puedeEliminar:b,onEliminar:T}):null})})]})}function qSe({cliente:e,puedeEliminar:t,onEliminar:n}){const{data:r}=JB({clienteId:e.id}),i=g.useMemo(()=>r?r.reduce((o,s)=>o+s.saldo,0):0,[r]);return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-start justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.alias}),w.jsx("p",{className:"text-sm text-slate-500",children:e.nombre_legal})]}),t?w.jsxs(Lt,{variant:"destructive",size:"sm",onClick:()=>n(e),children:[w.jsx(Lie,{className:"mr-2 h-4 w-4"})," Eliminar"]}):null]}),w.jsxs(WSe,{defaultValue:"datos",children:[w.jsxs(V9,{children:[w.jsx(Ng,{value:"datos",children:"Datos"}),w.jsx(Ng,{value:"pedidos",children:"Pedidos"}),w.jsx(Ng,{value:"saldos",children:"Saldos"})]}),w.jsx(Dg,{value:"datos",children:w.jsxs("div",{className:"grid gap-3 text-sm md:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"RFC"}),w.jsx("p",{children:e.rfc})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Correo"}),w.jsx("p",{children:e.email})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Teléfono"}),w.jsx("p",{children:RV(e.telefono)})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Ciudad"}),w.jsx("p",{children:e.ciudad})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Dirección"}),w.jsx("p",{children:e.direccion})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Límite de crédito"}),w.jsx("p",{children:tt(e.limite_credito)})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Días de crédito"}),w.jsx("p",{children:e.dias_credito})]})]})}),w.jsx(Dg,{value:"pedidos",children:r&&r.length?w.jsx("div",{className:"space-y-3",children:r.map(o=>w.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm font-semibold",children:["Folio ",o.folio]}),w.jsxs("p",{className:"text-xs text-slate-500",children:["Estado: ",o.status]})]}),w.jsx(sf,{variant:o.saldo>0?"warning":"success",children:tt(o.saldo)})]}),w.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Entrega: ",o.fecha_compromiso.toDate().toLocaleDateString()]})]},o.id))}):w.jsx(nu,{title:"Sin pedidos",description:"Aún no hay pedidos registrados para este cliente."})}),w.jsx(Dg,{value:"saldos",children:w.jsx(jl,{variant:i>0?"warning":"success",title:i>0?"Saldo pendiente":"Cliente al corriente",description:`Saldo total: ${tt(i)}`})})]})]})}const sS=Hr(It,"configuracion","general");async function GSe(){const e=await Mre(sS);if(!e.exists()){const n={porcentaje_anticipo:50,dias_credito:30,politicas_credito:"Pagar 50% de anticipo para aprobar pedido.",roles_visibles:["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"]};return await _V(sS,{...n,actualizado_en:Cr()}),n}return e.data()}async function YSe(e,t){await _V(sS,{...e,actualizado_en:Cr()},{merge:!0}),await fs({entidad:"configuracion",entidad_id:"general",accion:"ACTUALIZAR",usuario:t,datos:e})}const U9=["configuracion"];function z9(){return gf({queryKey:U9,queryFn:GSe,staleTime:1e3*60*5})}function ZSe(){const e=To();return Ua({mutationFn:t=>YSe(t.data,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:U9})})}const zp=g.forwardRef(({className:e,...t},n)=>w.jsx("textarea",{ref:n,className:ye("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));zp.displayName="Textarea";const wM=["COTIZACIÓN","APROBADO","DIGITIZADO","EN_PRODUCCIÓN","CALIDAD","LISTO_ENTREGA","ENTREGADO","CERRADO","CANCELADO"],QSe=["BAJA","MEDIA","ALTA"];function XSe(){const{user:e,role:t}=Ga(),{data:n,isLoading:r}=JB(),i=uSe(),o=cSe(),{data:s}=XB(),{data:a}=z9(),[l,u]=g.useState(!1),[c,f]=g.useState(null),d=["OWNER","ADMIN","VENTAS"].includes(t??""),p=["OWNER","ADMIN","PRODUCCION"].includes(t??"");async function v(m,_){e&&await o.mutateAsync({id:m,estado:_,usuarioId:e.uid})}return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[w.jsx(or,{children:"Pedidos"}),d?w.jsxs(lf,{open:l,onOpenChange:u,children:[w.jsx(IP,{asChild:!0,children:w.jsxs(Lt,{onClick:()=>f(null),children:[w.jsx(TA,{className:"mr-2 h-4 w-4"})," Nuevo pedido"]})}),w.jsx(hu,{className:"max-h-[85vh] overflow-y-auto",children:s&&a?w.jsx(JSe,{clientes:s,anticipoMinimo:a.porcentaje_anticipo,onSubmit:async m=>{e&&(await i.mutateAsync({data:m,usuarioId:e.uid}),u(!1))}}):w.jsx("div",{className:"flex h-40 items-center justify-center",children:w.jsx(Gc,{className:"h-6 w-6 animate-spin"})})})]}):null]})}),w.jsx(xn,{className:"p-0",children:w.jsxs(yw,{children:[w.jsx(ww,{children:w.jsxs(Yn,{children:[w.jsx(yt,{children:"Folio"}),w.jsx(yt,{children:"Cliente"}),w.jsx(yt,{children:"Estado"}),w.jsx(yt,{children:"Compromiso"}),w.jsx(yt,{children:"Saldo"}),w.jsx(yt,{children:"Prioridad"}),w.jsx(yt,{className:"text-right",children:"Acciones"})]})}),w.jsx(_w,{children:r?w.jsx(Yn,{children:w.jsx(Ke,{colSpan:7,className:"py-10 text-center",children:w.jsx(Gc,{className:"mx-auto h-5 w-5 animate-spin text-slate-500"})})}):n&&n.length?n.map(m=>{const _=wM.indexOf(m.status),b=wM[_+1];return w.jsxs(Yn,{onClick:()=>f(m),className:"cursor-pointer",children:[w.jsx(Ke,{className:"font-medium",children:m.folio}),w.jsx(Ke,{children:m.cliente_id.id}),w.jsx(Ke,{children:w.jsx(sf,{variant:"secondary",children:m.status})}),w.jsx(Ke,{children:Yc(m.fecha_compromiso.toDate())}),w.jsx(Ke,{children:tt(m.saldo)}),w.jsx(Ke,{children:w.jsx(sf,{variant:m.prioridad==="ALTA"?"destructive":m.prioridad==="MEDIA"?"warning":"success",children:m.prioridad})}),w.jsx(Ke,{className:"text-right",children:b&&p?w.jsxs(Lt,{size:"sm",variant:"outline",onClick:y=>{y.stopPropagation(),v(m.id,b)},disabled:o.isPending,children:["Avanzar ",w.jsx(Pg,{className:"ml-2 h-4 w-4"})]}):null})]},m.id)}):w.jsx(Yn,{children:w.jsx(Ke,{colSpan:7,className:"py-10",children:w.jsx(nu,{title:"Sin pedidos",description:"Registra un nuevo pedido para comenzar el flujo de trabajo."})})})})]})})]}),w.jsx(lf,{open:!!c,onOpenChange:m=>!m&&f(null),children:w.jsx(hu,{className:"max-h-[85vh] overflow-y-auto",children:c?w.jsx(e1e,{pedido:c}):null})})]})}function JSe({clientes:e,anticipoMinimo:t,onSubmit:n}){var b;if(!e.length)return w.jsx(jl,{variant:"warning",title:"No hay clientes activos",description:"Registra un cliente para asociarlo al pedido."});const[r,i]=g.useState(1),o=Mn().startOf("day"),[s,a]=g.useState([]),[l,u]=g.useState({folio:`QB-${Mn().format("YYYYMMDD-HHmm")}`,cliente_id:((b=e[0])==null?void 0:b.id)??"",fecha_pedido:o.toDate(),fecha_compromiso:o.add(7,"day").toDate(),status:"COTIZACIÓN",prioridad:"MEDIA",notas:"",anticipo:0,subtotal:0,descuento:0,impuestos:0,total:0,saldo:0}),c=g.useMemo(()=>s.reduce((y,x)=>y+x.cantidad*x.precio_unitario,0),[s]),f=g.useMemo(()=>c-l.descuento+l.impuestos,[c,l.descuento,l.impuestos]),d=g.useMemo(()=>Math.max(f-l.anticipo,0),[f,l.anticipo]),p=g.useMemo(()=>Number((f*t/100).toFixed(2)),[f,t]);function v(y,x,A){a(C=>C.map((N,S)=>S===y?{...N,[x]:x==="descripcion_item"||typeof A=="string"?A:Number(A)}:N))}function m(){a(y=>[...y,{descripcion_item:"",prenda:"",talla:"",color_prenda:"",ubicacion:"",puntadas_estimadas:0,cantidad:1,precio_unitario:0,observaciones:""}])}async function _(){if(!s.length){alert("Agrega al menos un item al pedido.");return}if(Mn(l.fecha_compromiso).isBefore(o)&&!confirm("La fecha compromiso es anterior a hoy. ¿Deseas continuar?")||l.anticipo<p&&!confirm(`El anticipo es menor al ${t}% sugerido. ¿Deseas continuar?`))return;const y={...l,subtotal:c,total:f,saldo:d,items:s.map(x=>({...x,importe:x.cantidad*x.precio_unitario}))};await n(y)}return w.jsxs("div",{className:"space-y-6",children:[w.jsx(Vp,{children:w.jsx(Vf,{children:"Nuevo pedido"})}),w.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-slate-400",children:[w.jsx("span",{className:r===1?"font-semibold text-primary":"",children:"Cliente"}),w.jsx(Pg,{className:"h-3 w-3"}),w.jsx("span",{className:r===2?"font-semibold text-primary":"",children:"Items"}),w.jsx(Pg,{className:"h-3 w-3"}),w.jsx("span",{className:r===3?"font-semibold text-primary":"",children:"Importes"}),w.jsx(Pg,{className:"h-3 w-3"}),w.jsx("span",{className:r===4?"font-semibold text-primary":"",children:"Confirmar"})]}),r===1?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Cliente",w.jsx("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3",value:l.cliente_id,onChange:y=>u(x=>({...x,cliente_id:y.target.value})),children:e.map(y=>w.jsxs("option",{value:y.id,children:[y.alias," - ",y.ciudad]},y.id))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha de compromiso",w.jsx(je,{type:"date",value:Mn(l.fecha_compromiso).format("YYYY-MM-DD"),min:o.format("YYYY-MM-DD"),onChange:y=>u(x=>({...x,fecha_compromiso:Mn(y.target.value).toDate()}))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Prioridad",w.jsx("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3",value:l.prioridad,onChange:y=>u(x=>({...x,prioridad:y.target.value})),children:QSe.map(y=>w.jsx("option",{value:y,children:y},y))})]}),w.jsx(zp,{placeholder:"Notas generales",value:l.notas??"",onChange:y=>u(x=>({...x,notas:y.target.value}))})]}):null,r===2?w.jsxs("div",{className:"space-y-4",children:[s.map((y,x)=>w.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[w.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Descripción libre",w.jsx(je,{value:y.descripcion_item,onChange:A=>v(x,"descripcion_item",A.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Prenda",w.jsx(je,{value:y.prenda,onChange:A=>v(x,"prenda",A.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Talla",w.jsx(je,{value:y.talla,onChange:A=>v(x,"talla",A.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Color",w.jsx(je,{value:y.color_prenda,onChange:A=>v(x,"color_prenda",A.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Ubicación",w.jsx(je,{value:y.ubicacion,onChange:A=>v(x,"ubicacion",A.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Puntadas estimadas",w.jsx(je,{type:"number",value:y.puntadas_estimadas,onChange:A=>v(x,"puntadas_estimadas",Number(A.target.value))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Cantidad",w.jsx(je,{type:"number",min:1,value:y.cantidad,onChange:A=>v(x,"cantidad",Number(A.target.value))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs",children:["Precio unitario",w.jsx(je,{type:"number",step:"0.01",value:y.precio_unitario,onChange:A=>v(x,"precio_unitario",Number(A.target.value))})]})]}),w.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Importe: ",tt(y.cantidad*y.precio_unitario)]})]},x)),w.jsx(Lt,{type:"button",variant:"outline",onClick:m,children:"Agregar item"})]}):null,r===3?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Subtotal",w.jsx(je,{type:"number",readOnly:!0,value:c.toFixed(2)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Descuento",w.jsx(je,{type:"number",step:"0.01",value:l.descuento,onChange:y=>u(x=>({...x,descuento:Number(y.target.value)}))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Impuestos",w.jsx(je,{type:"number",step:"0.01",value:l.impuestos,onChange:y=>u(x=>({...x,impuestos:Number(y.target.value)}))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Anticipo",w.jsx(je,{type:"number",step:"0.01",value:l.anticipo,onChange:y=>u(x=>({...x,anticipo:Number(y.target.value)}))}),w.jsxs("span",{className:"text-xs text-slate-500",children:["Sugerido: ",tt(p)]})]})]}),w.jsx(jl,{variant:l.anticipo>=p?"success":"warning",title:`Total: ${tt(f)} / Saldo: ${tt(d)}`,description:`Anticipo mínimo recomendado (${t}%): ${tt(p)}`})]}):null,r===4?w.jsxs("div",{className:"space-y-4 text-sm",children:[w.jsx(jl,{variant:"default",title:"Resumen del pedido",description:`Folio: ${l.folio} — Cliente ${l.cliente_id}`}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Items"}),w.jsx("ul",{className:"mt-2 space-y-2 text-xs text-slate-600",children:s.map((y,x)=>w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsxs("span",{children:[y.descripcion_item," · ",y.cantidad," x ",tt(y.precio_unitario)]}),w.jsx("span",{children:tt(y.cantidad*y.precio_unitario)})]},x))})]}),w.jsxs("div",{className:"text-xs text-slate-500",children:[w.jsxs("p",{children:["Subtotal: ",tt(c)]}),w.jsxs("p",{children:["Descuento: ",tt(l.descuento)]}),w.jsxs("p",{children:["Impuestos: ",tt(l.impuestos)]}),w.jsxs("p",{className:"font-semibold text-slate-700",children:["Total: ",tt(f)]}),w.jsxs("p",{children:["Anticipo: ",tt(l.anticipo)]}),w.jsxs("p",{children:["Saldo: ",tt(d)]})]})]}):null,w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx(Lt,{variant:"outline",disabled:r===1,onClick:()=>i(y=>Math.max(1,y-1)),children:"Regresar"}),r<4?w.jsx(Lt,{onClick:()=>i(y=>y+1),disabled:r===2&&s.length===0,children:"Continuar"}):w.jsx(Lt,{onClick:_,children:"Crear pedido"})]})]})}function e1e({pedido:e}){return w.jsxs("div",{className:"space-y-4",children:[w.jsx(Vp,{children:w.jsxs(Vf,{children:["Detalle pedido ",e.folio]})}),w.jsxs("div",{className:"grid gap-3 text-sm md:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Estado"}),w.jsx("p",{children:e.status})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Saldo"}),w.jsx("p",{children:tt(e.saldo)})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Compromiso"}),w.jsx("p",{children:Yc(e.fecha_compromiso.toDate())})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Anticipo"}),w.jsx("p",{children:tt(e.anticipo)})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Notas"}),w.jsx("p",{children:e.notas||"Sin notas"})]})]})]})}const t1e=dr(It,"pedidos"),n1e=dr(It,"abonos"),r1e=dr(It,"movimientos_caja");async function i1e(){const e=na(t1e,qn("saldo",">",0),wp("saldo","desc"));return(await ra(e)).docs.map(n=>({id:n.id,...n.data()}))}async function o1e(e,t){const n=Hr(It,"pedidos",e.pedido_id),r=Hr(It,"clientes",e.cliente_id),i=Hr(n1e),o=Hr(r1e);let s=0;await zre(It,async a=>{const l=await a.get(n);if(!l.exists())throw new Error("Pedido no encontrado");const u=l.data();s=Math.max(u.saldo-e.monto,0),a.update(n,{saldo:s,actualizado_en:Cr()}),a.set(i,{pedido_id:n,cliente_id:r,fecha:ze.fromDate(e.fecha),monto:e.monto,metodo:e.metodo,ref:e.ref??"",notas:e.notas??"",registrado_por:t,creado_en:Cr()}),a.set(o,{fecha:ze.fromDate(e.fecha),tipo:"INGRESO",categoria:"COBRANZA",monto:e.monto,referencia_pedido_id:n,notas:`Abono ${e.metodo}`,registrado_por:t,creado_en:Cr()})}),await fs({entidad:"abonos",entidad_id:i.id,accion:"REGISTRAR_ABONO",usuario:t,datos:{pedidoId:n.id,monto:e.monto}}),await fs({entidad:"pedidos",entidad_id:n.id,accion:"ACTUALIZAR_SALDO",usuario:t,datos:{saldo:s}})}const B9=["cobranza"];function s1e(){return gf({queryKey:B9,queryFn:i1e,staleTime:1e3*30})}function a1e(){const e=To();return Ua({mutationFn:t=>o1e(t.data,t.usuarioId),onSuccess:()=>{e.invalidateQueries({queryKey:B9}),e.invalidateQueries({queryKey:["pedidos"]})}})}const l1e=["EFECTIVO","TRANSFERENCIA","TARJETA"];function u1e(){const{data:e,isLoading:t}=s1e(),n=a1e(),{user:r,role:i}=Ga(),[o,s]=g.useState(null),a=["OWNER","ADMIN","COBRANZA"].includes(i??"");return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Pedidos con saldo pendiente"})}),w.jsx(xn,{className:"p-0",children:w.jsxs(yw,{children:[w.jsx(ww,{children:w.jsxs(Yn,{children:[w.jsx(yt,{children:"Folio"}),w.jsx(yt,{children:"Cliente"}),w.jsx(yt,{children:"Saldo"}),w.jsx(yt,{children:"Compromiso"}),w.jsx(yt,{children:"Estado"}),w.jsx(yt,{className:"text-right",children:"Acciones"})]})}),w.jsx(_w,{children:t?w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10 text-center text-sm text-slate-500",children:w.jsx(Gc,{className:"mx-auto h-5 w-5 animate-spin"})})}):e&&e.length?e.map(l=>w.jsxs(Yn,{children:[w.jsx(Ke,{children:l.folio}),w.jsx(Ke,{children:l.cliente_id.id}),w.jsx(Ke,{children:tt(l.saldo)}),w.jsx(Ke,{children:Yc(l.fecha_compromiso.toDate())}),w.jsx(Ke,{children:w.jsx(sf,{variant:l.status==="CERRADO"?"success":"warning",children:l.status})}),w.jsx(Ke,{className:"text-right",children:w.jsx(Lt,{size:"sm",onClick:()=>s(l),disabled:!a,children:"Registrar abono"})})]},l.id)):w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10",children:w.jsx(nu,{title:"Sin cartera vencida",description:"Todos los pedidos están al corriente."})})})})]})})]}),w.jsx(lf,{open:!!o,onOpenChange:l=>!l&&s(null),children:w.jsx(hu,{className:"max-w-lg",children:o?w.jsx(c1e,{pedido:o,onClose:()=>s(null),onSubmit:async l=>{r&&(await n.mutateAsync({data:l,usuarioId:r.uid}),s(null))},isSubmitting:n.isPending}):null})})]})}function c1e({pedido:e,onSubmit:t,onClose:n,isSubmitting:r}){const[i,o]=g.useState(Mn().format("YYYY-MM-DD")),[s,a]=g.useState(e.saldo),[l,u]=g.useState("EFECTIVO"),[c,f]=g.useState(""),[d,p]=g.useState("");return w.jsxs("div",{className:"space-y-4",children:[w.jsx(Vp,{children:w.jsxs(Vf,{children:["Registrar abono — ",e.folio]})}),w.jsxs("div",{className:"space-y-3 text-sm",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-600",children:"Saldo actual"}),w.jsx("p",{children:tt(e.saldo)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha",w.jsx(je,{type:"date",value:i,onChange:v=>o(v.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Monto",w.jsx(je,{type:"number",step:"0.01",value:s,onChange:v=>a(Number(v.target.value))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Método de pago",w.jsx("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3",value:l,onChange:v=>u(v.target.value),children:l1e.map(v=>w.jsx("option",{value:v,children:v},v))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Referencia",w.jsx(je,{value:c,onChange:v=>f(v.target.value)})]}),w.jsx(zp,{placeholder:"Notas",value:d,onChange:v=>p(v.target.value)})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx(Lt,{variant:"outline",onClick:n,children:"Cancelar"}),w.jsx(Lt,{onClick:()=>t({pedido_id:e.id,cliente_id:e.cliente_id.id,fecha:Mn(i).toDate(),monto:s,metodo:l,ref:c,notas:d}),disabled:r,children:r?"Guardando...":"Registrar"})]})]})}const W9=dr(It,"movimientos_caja");async function f1e(e){const t=[];e!=null&&e.tipo&&e.tipo!=="TODOS"&&t.push(qn("tipo","==",e.tipo)),e!=null&&e.categoria&&t.push(qn("categoria","==",e.categoria)),e!=null&&e.desde&&t.push(qn("fecha",">=",ze.fromDate(e.desde))),e!=null&&e.hasta&&t.push(qn("fecha","<=",ze.fromDate(e.hasta)));const n=na(W9,...t,wp("fecha","desc"),vV(200));return(await ra(n)).docs.map(i=>({id:i.id,...i.data()}))}async function d1e(e,t){const n={fecha:ze.fromDate(e.fecha),tipo:e.tipo,categoria:e.categoria,monto:e.monto,referencia_pedido_id:e.referencia_pedido_id?Hr(It,"pedidos",e.referencia_pedido_id):null,notas:e.notas??"",registrado_por:t,creado_en:Cr()},r=await _p(W9,n);await fs({entidad:"movimientos_caja",entidad_id:r.id,accion:"CREAR",usuario:t,datos:n})}const H9=["caja"];function h1e(e={}){return gf({queryKey:[...H9,e],queryFn:()=>f1e(e),staleTime:1e3*30})}function p1e(){const e=To();return Ua({mutationFn:t=>d1e(t.data,t.usuarioId),onSuccess:()=>e.invalidateQueries({queryKey:H9})})}function m1e(){const{user:e,role:t}=Ga(),[n,r]=g.useState("TODOS"),[i,o]=g.useState(""),[s,a]=g.useState(Mn().subtract(7,"day").format("YYYY-MM-DD")),[l,u]=g.useState(Mn().format("YYYY-MM-DD")),{data:c,isLoading:f}=h1e({tipo:n,categoria:i||void 0,desde:Mn(s).toDate(),hasta:Mn(l).toDate()}),d=p1e(),[p,v]=g.useState(!1),m=g.useMemo(()=>{if(!c)return{ingreso:0,egreso:0,neto:0};const y=c.filter(A=>A.tipo==="INGRESO").reduce((A,C)=>A+C.monto,0),x=c.filter(A=>A.tipo==="EGRESO").reduce((A,C)=>A+C.monto,0);return{ingreso:y,egreso:x,neto:y-x}},[c]);function _(){if(!c||!c.length)return;const y=`Fecha,Tipo,Categoría,Monto,Referencia,Notas
`,x=c.map(S=>{var F;const T=Yc(S.fecha.toDate()),I=S.tipo,k=S.categoria,O=S.monto.toFixed(2),D=S.referencia_pedido_id?S.referencia_pedido_id.id:"",R=((F=S.notas)==null?void 0:F.replace(/,/g,";"))??"";return`${T},${I},${k},${O},${D},${R}`}).join(`
`),A=new Blob([y+x],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(A),N=document.createElement("a");N.href=C,N.download=`movimientos-caja-${Mn().format("YYYYMMDD-HHmm")}.csv`,N.click(),URL.revokeObjectURL(C)}const b=["OWNER","ADMIN","COBRANZA"].includes(t??"");return w.jsxs("div",{className:"space-y-6",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Movimientos de caja"})}),w.jsxs(xn,{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[w.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Tipo",w.jsxs("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3",value:n,onChange:y=>r(y.target.value),children:[w.jsx("option",{value:"TODOS",children:"Todos"}),w.jsx("option",{value:"INGRESO",children:"Ingresos"}),w.jsx("option",{value:"EGRESO",children:"Egresos"})]})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Categoría",w.jsx(je,{value:i,onChange:y=>o(y.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Desde",w.jsx(je,{type:"date",value:s,onChange:y=>a(y.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-xs uppercase text-slate-500",children:["Hasta",w.jsx(je,{type:"date",value:l,onChange:y=>u(y.target.value)})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs(Lt,{variant:"outline",onClick:_,disabled:!(c!=null&&c.length),children:[w.jsx(_ie,{className:"mr-2 h-4 w-4"})," Exportar CSV"]}),b?w.jsxs(lf,{open:p,onOpenChange:v,children:[w.jsx(IP,{asChild:!0,children:w.jsxs(Lt,{children:[w.jsx(TA,{className:"mr-2 h-4 w-4"})," Nuevo movimiento"]})}),w.jsxs(hu,{children:[w.jsx(Vp,{children:w.jsx(Vf,{children:"Registrar movimiento"})}),w.jsx(g1e,{onSubmit:async y=>{e&&(await d.mutateAsync({data:y,usuarioId:e.uid}),v(!1))},onCancel:()=>v(!1),isSubmitting:d.isPending})]})]}):null]})]})]}),w.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{className:"text-sm",children:"Ingresos"})}),w.jsx(xn,{children:w.jsx("p",{className:"text-2xl font-semibold text-emerald-600",children:tt(m.ingreso)})})]}),w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{className:"text-sm",children:"Egresos"})}),w.jsx(xn,{children:w.jsx("p",{className:"text-2xl font-semibold text-red-600",children:tt(m.egreso)})})]}),w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{className:"text-sm",children:"Neto"})}),w.jsx(xn,{children:w.jsx("p",{className:"text-2xl font-semibold text-slate-800",children:tt(m.neto)})})]})]}),w.jsx(bn,{children:w.jsx(xn,{className:"p-0",children:w.jsxs(yw,{children:[w.jsx(ww,{children:w.jsxs(Yn,{children:[w.jsx(yt,{children:"Fecha"}),w.jsx(yt,{children:"Tipo"}),w.jsx(yt,{children:"Categoría"}),w.jsx(yt,{children:"Monto"}),w.jsx(yt,{children:"Referencia pedido"}),w.jsx(yt,{children:"Notas"})]})}),w.jsx(_w,{children:f?w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10 text-center text-sm text-slate-500",children:w.jsx(Gc,{className:"mx-auto h-5 w-5 animate-spin"})})}):c&&c.length?c.map(y=>{var x;return w.jsxs(Yn,{children:[w.jsx(Ke,{children:Yc(y.fecha.toDate())}),w.jsx(Ke,{children:y.tipo}),w.jsx(Ke,{children:y.categoria}),w.jsx(Ke,{children:tt(y.monto)}),w.jsx(Ke,{children:((x=y.referencia_pedido_id)==null?void 0:x.id)??"-"}),w.jsx(Ke,{children:y.notas||"-"})]},y.id)}):w.jsx(Yn,{children:w.jsx(Ke,{colSpan:6,className:"py-10",children:w.jsx(nu,{title:"Sin movimientos",description:"Registra un ingreso o egreso para comenzar."})})})})]})})})]})}function g1e({onSubmit:e,onCancel:t,isSubmitting:n}){const[r,i]=g.useState(Mn().format("YYYY-MM-DD")),[o,s]=g.useState("INGRESO"),[a,l]=g.useState(""),[u,c]=g.useState(0),[f,d]=g.useState(""),[p,v]=g.useState("");return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Fecha",w.jsx(je,{type:"date",value:r,onChange:m=>i(m.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Tipo",w.jsxs("select",{className:"h-10 rounded-md border border-slate-200 bg-white px-3",value:o,onChange:m=>s(m.target.value),children:[w.jsx("option",{value:"INGRESO",children:"Ingreso"}),w.jsx("option",{value:"EGRESO",children:"Egreso"})]})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Categoría",w.jsx(je,{value:a,onChange:m=>l(m.target.value)})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Monto",w.jsx(je,{type:"number",step:"0.01",value:u,onChange:m=>c(Number(m.target.value))})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Referencia pedido (opcional)",w.jsx(je,{value:f,onChange:m=>d(m.target.value)})]}),w.jsx(zp,{placeholder:"Notas",value:p,onChange:m=>v(m.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx(Lt,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),w.jsx(Lt,{onClick:()=>e({fecha:Mn(r).toDate(),tipo:o,categoria:a,monto:u,referencia_pedido_id:f||void 0,notas:p}),disabled:n,children:n?"Guardando...":"Registrar"})]})]})}const v1e=["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"];function y1e(){const{role:e,user:t}=Ga(),{data:n,isLoading:r}=z9(),i=ZSe(),o=b1({resolver:C1(I_e),defaultValues:{porcentaje_anticipo:50,dias_credito:30,politicas_credito:"",roles_visibles:["OWNER","ADMIN","VENTAS","PRODUCCION","COBRANZA"]}});g.useEffect(()=>{n&&o.reset(n)},[n,o]);const s=["OWNER","ADMIN"].includes(e??"");async function a(l){t&&await i.mutateAsync({data:l,usuarioId:t.uid})}return r?w.jsx("div",{className:"flex h-40 items-center justify-center",children:w.jsx(Gc,{className:"h-6 w-6 animate-spin"})}):w.jsx("div",{className:"space-y-6",children:w.jsxs(bn,{children:[w.jsx(Hn,{children:w.jsx(or,{children:"Configuraciones generales"})}),w.jsx(xn,{children:w.jsxs("form",{className:"space-y-4",onSubmit:o.handleSubmit(a),children:[w.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["% Anticipo mínimo",w.jsx(je,{type:"number",step:"0.01",disabled:!s,...o.register("porcentaje_anticipo",{valueAsNumber:!0})})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Días de crédito estándar",w.jsx(je,{type:"number",disabled:!s,...o.register("dias_credito",{valueAsNumber:!0})})]})]}),w.jsxs("label",{className:"flex flex-col gap-1 text-sm",children:["Políticas de crédito y cobranza",w.jsx(zp,{rows:4,disabled:!s,...o.register("politicas_credito")})]}),w.jsxs("div",{children:[w.jsx("p",{className:"mb-2 text-sm font-medium text-slate-600",children:"Roles con acceso visible en la app"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:v1e.map(l=>{const u=o.watch("roles_visibles").includes(l);return w.jsx(sf,{variant:u?"success":"outline",className:"cursor-pointer",onClick:()=>{if(!s)return;const c=o.getValues("roles_visibles");c.includes(l)?o.setValue("roles_visibles",c.filter(f=>f!==l)):o.setValue("roles_visibles",[...c,l])},children:l},l)})})]}),s?w.jsx(Lt,{type:"submit",disabled:i.isPending,children:i.isPending?"Guardando...":"Guardar cambios"}):w.jsx(jl,{variant:"warning",description:"Solo OWNER y ADMIN pueden actualizar la configuración."})]})})]})})}function w1e(){return w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50",children:w.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-600",children:[w.jsx("span",{className:"h-10 w-10 animate-spin rounded-full border-4 border-slate-200 border-t-primary"}),w.jsx("p",{className:"text-sm font-medium",children:"Cargando información..."})]})})}function _1e(){const{user:e,loading:t}=Ga();return t?w.jsx(w1e,{}):e?w.jsx(eL,{}):w.jsx(uc,{to:"/login",replace:!0})}const b1e=[{to:"/app/dashboard",label:"Dashboard",icon:xie},{to:"/app/clientes",label:"Clientes",icon:Uie},{to:"/app/pedidos",label:"Pedidos",icon:gie},{to:"/app/cobranza",label:"Cobranza",icon:yie},{to:"/app/caja",label:"Caja",icon:Oie},{to:"/app/config",label:"Configuración",icon:Mie}];function x1e(){const{user:e,role:t}=Ga(),[n,r]=g.useState(!1);async function i(){await k$(b0)}return w.jsxs("div",{className:"flex min-h-screen bg-slate-100",children:[w.jsxs("aside",{className:ye("fixed inset-y-0 left-0 z-40 w-72 transform border-r border-slate-200 bg-white transition-transform lg:static lg:translate-x-0",{"-translate-x-full lg:-translate-x-0":!n,"translate-x-0":n}),children:[w.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-slate-200 px-6",children:[w.jsx(c1,{to:"/app/dashboard",className:"text-lg font-bold tracking-tight text-primary",children:"Quality Bordados"}),w.jsx("button",{className:"lg:hidden",onClick:()=>r(!1),"aria-label":"Cerrar menú",children:w.jsx(aR,{className:"h-4 w-4 text-slate-500"})})]}),w.jsx("nav",{className:"flex flex-1 flex-col gap-1 p-4",children:b1e.map(o=>{const s=o.icon;return w.jsxs(oL,{to:o.to,className:({isActive:a})=>ye("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-slate-100",a?"bg-slate-900 text-white hover:bg-slate-900/90":"text-slate-600"),onClick:()=>r(!1),children:[w.jsx(s,{className:"h-4 w-4"}),o.label]},o.to)})}),w.jsxs("div",{className:"border-t border-slate-200 p-4 text-xs text-slate-500",children:[w.jsx("p",{className:"font-medium text-slate-700",children:e==null?void 0:e.email}),w.jsxs("p",{className:"capitalize",children:["Rol: ",(t==null?void 0:t.toLowerCase())??"sin rol"]}),w.jsxs(Lt,{variant:"outline",className:"mt-3 w-full",onClick:i,children:[w.jsx(aR,{className:"mr-2 h-4 w-4"})," Cerrar sesión"]})]})]}),w.jsxs("div",{className:"flex flex-1 flex-col lg:ml-72",children:[w.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-slate-200 bg-white px-4 lg:px-8",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Lt,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>r(o=>!o),children:w.jsx(Cie,{className:"h-5 w-5"})}),w.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:"Panel de control"})]}),w.jsx("div",{className:"flex items-center gap-3 text-right text-sm text-slate-600",children:w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-slate-800",children:(e==null?void 0:e.displayName)??"Equipo Quality"}),w.jsx("p",{className:"capitalize",children:(t==null?void 0:t.toLowerCase())??"sin rol"})]})})]}),w.jsx("main",{className:"flex-1 p-4 lg:p-8",children:w.jsx(eL,{})})]})]})}function E1e(){return w.jsxs(DH,{children:[w.jsx(pr,{path:"/",element:w.jsx(uc,{to:"/login",replace:!0})}),w.jsx(pr,{path:"/login",element:w.jsx(eoe,{})}),w.jsx(pr,{path:"/logout",element:w.jsx(toe,{})}),w.jsx(pr,{element:w.jsx(_1e,{}),children:w.jsxs(pr,{path:"/app",element:w.jsx(x1e,{}),children:[w.jsx(pr,{index:!0,element:w.jsx(uc,{to:"dashboard",replace:!0})}),w.jsx(pr,{path:"dashboard",element:w.jsx(E_e,{})}),w.jsx(pr,{path:"clientes",element:w.jsx(KSe,{})}),w.jsx(pr,{path:"pedidos",element:w.jsx(XSe,{})}),w.jsx(pr,{path:"cobranza",element:w.jsx(u1e,{})}),w.jsx(pr,{path:"caja",element:w.jsx(m1e,{})}),w.jsx(pr,{path:"config",element:w.jsx(y1e,{})})]})}),w.jsx(pr,{path:"*",element:w.jsx(uc,{to:"/login",replace:!0})})]})}const S1e=new DK({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});vb.createRoot(document.getElementById("root")).render(w.jsx(ft.StrictMode,{children:w.jsx(MK,{client:S1e,children:w.jsx(Xie,{children:w.jsx(rK,{children:w.jsx(E1e,{})})})})}));
